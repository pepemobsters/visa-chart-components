(window.webpackJsonp=window.webpackJsonp||[]).push([[14,27,28,30,31,32],{"./packages/charts/dist/esm-es5/alluvial-diagram.entry.js":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"alluvial_diagram",(function(){return AlluvialDiagram}));__webpack_require__("./node_modules/core-js/modules/es.array.slice.js"),__webpack_require__("./node_modules/core-js/modules/es.array.fill.js"),__webpack_require__("./node_modules/core-js/modules/es.promise.js"),__webpack_require__("./node_modules/core-js/modules/es.object.to-string.js"),__webpack_require__("./node_modules/core-js/modules/es.array.for-each.js"),__webpack_require__("./node_modules/core-js/modules/web.dom-collections.for-each.js"),__webpack_require__("./node_modules/core-js/modules/es.array.map.js"),__webpack_require__("./node_modules/core-js/modules/es.array.some.js"),__webpack_require__("./node_modules/core-js/modules/es.array.filter.js"),__webpack_require__("./node_modules/core-js/modules/es.array.index-of.js"),__webpack_require__("./node_modules/core-js/modules/es.object.assign.js"),__webpack_require__("./node_modules/core-js/modules/es.object.keys.js"),__webpack_require__("./node_modules/core-js/modules/es.array.concat.js"),__webpack_require__("./node_modules/core-js/modules/es.array.includes.js"),__webpack_require__("./node_modules/core-js/modules/es.string.includes.js"),__webpack_require__("./node_modules/core-js/modules/es.number.epsilon.js"),__webpack_require__("./node_modules/core-js/modules/es.number.constructor.js"),__webpack_require__("./node_modules/core-js/modules/es.array.find-index.js"),__webpack_require__("./node_modules/core-js/modules/es.object.define-property.js");var _index_33c35d20_js__WEBPACK_IMPORTED_MODULE_19__=__webpack_require__("./packages/charts/dist/esm-es5/index-33c35d20.js"),_max_d011e4a4_js__WEBPACK_IMPORTED_MODULE_20__=__webpack_require__("./packages/charts/dist/esm-es5/max-d011e4a4.js"),_min_25ce8dfd_js__WEBPACK_IMPORTED_MODULE_21__=__webpack_require__("./packages/charts/dist/esm-es5/min-25ce8dfd.js"),_visa_charts_utils_umd_92c8af99_js__WEBPACK_IMPORTED_MODULE_22__=__webpack_require__("./packages/charts/dist/esm-es5/visa-charts-utils.umd-92c8af99.js"),_index_6877a56a_js__WEBPACK_IMPORTED_MODULE_23__=__webpack_require__("./packages/charts/dist/esm-es5/index-6877a56a.js"),_circle_1a7bf607_js__WEBPACK_IMPORTED_MODULE_24__=__webpack_require__("./packages/charts/dist/esm-es5/circle-1a7bf607.js"),_constant_9f4692a3_js__WEBPACK_IMPORTED_MODULE_25__=__webpack_require__("./packages/charts/dist/esm-es5/constant-9f4692a3.js"),_point_daba0271_js__WEBPACK_IMPORTED_MODULE_26__=__webpack_require__("./packages/charts/dist/esm-es5/point-daba0271.js"),slice=Array.prototype.slice;function linkSource(t){return t.source}function linkTarget(t){return t.target}function curveHorizontal(t,e,i,s,a){t.moveTo(e,i),t.bezierCurveTo(e=(e+s)/2,i,e,a,s,a)}function linkHorizontal(){return function link(t){var e=linkSource,i=linkTarget,s=_point_daba0271_js__WEBPACK_IMPORTED_MODULE_26__.x,a=_point_daba0271_js__WEBPACK_IMPORTED_MODULE_26__.y,r=null;function l(){var l,o=slice.call(arguments),n=e.apply(this,o),u=i.apply(this,o);if(r||(r=l=Object(_constant_9f4692a3_js__WEBPACK_IMPORTED_MODULE_25__.p)()),t(r,+s.apply(this,(o[0]=n,o)),+a.apply(this,o),+s.apply(this,(o[0]=u,o)),+a.apply(this,o)),l)return r=null,l+""||null}return l.source=function(t){return arguments.length?(e=t,l):e},l.target=function(t){return arguments.length?(i=t,l):i},l.x=function(t){return arguments.length?(s="function"==typeof t?t:Object(_constant_9f4692a3_js__WEBPACK_IMPORTED_MODULE_25__.c)(+t),l):s},l.y=function(t){return arguments.length?(a="function"==typeof t?t:Object(_constant_9f4692a3_js__WEBPACK_IMPORTED_MODULE_25__.c)(+t),l):a},l.context=function(t){return arguments.length?(r=null==t?null:t,l):r},l}(curveHorizontal)}var propDefaultValues=_visa_charts_utils_umd_92c8af99_js__WEBPACK_IMPORTED_MODULE_22__.v.propDefaultValues,AlluvialDiagramDefaultValues=function t(){};AlluvialDiagramDefaultValues.highestHeadingLevel=propDefaultValues.highestHeadingLevel,AlluvialDiagramDefaultValues.mainTitle="Alluvial Diagram Title",AlluvialDiagramDefaultValues.subTitle="This is the alluvial diagram's subtitle",AlluvialDiagramDefaultValues.height=300,AlluvialDiagramDefaultValues.width=650,AlluvialDiagramDefaultValues.margin={top:3,bottom:3,right:6.5,left:6.5},AlluvialDiagramDefaultValues.padding={top:20,bottom:50,right:50,left:50},AlluvialDiagramDefaultValues.localization=propDefaultValues.localization,AlluvialDiagramDefaultValues.sourceAccessor="source",AlluvialDiagramDefaultValues.targetAccessor="target",AlluvialDiagramDefaultValues.valueAccessor="value",AlluvialDiagramDefaultValues.groupAccessor="",AlluvialDiagramDefaultValues.nodeIDAccessor="id",AlluvialDiagramDefaultValues.nodeConfig={fill:!1,width:12,padding:20,alignment:"left",compare:!1},AlluvialDiagramDefaultValues.linkConfig={visible:!0,fillMode:"none",opacity:.3},AlluvialDiagramDefaultValues.accessibility=propDefaultValues.accessibility,AlluvialDiagramDefaultValues.animationConfig=propDefaultValues.animationConfig,AlluvialDiagramDefaultValues.colorPalette=propDefaultValues.colorPaletteCategorical,AlluvialDiagramDefaultValues.dataLabel=propDefaultValues.dataLabel,AlluvialDiagramDefaultValues.annotations=propDefaultValues.annotations,AlluvialDiagramDefaultValues.hoverStyle=propDefaultValues.hoverStyle,AlluvialDiagramDefaultValues.clickStyle=propDefaultValues.clickStyle,AlluvialDiagramDefaultValues.hoverOpacity=propDefaultValues.hoverOpacity,AlluvialDiagramDefaultValues.cursor=propDefaultValues.cursor,AlluvialDiagramDefaultValues.tooltipLabel=propDefaultValues.tooltipLabel,AlluvialDiagramDefaultValues.showTooltip=propDefaultValues.showTooltip,AlluvialDiagramDefaultValues.suppressEvents=propDefaultValues.suppressEvents,AlluvialDiagramDefaultValues.clickHighlight=propDefaultValues.clickHighlight;var getGlobalInstances=_visa_charts_utils_umd_92c8af99_js__WEBPACK_IMPORTED_MODULE_22__.v.getGlobalInstances,configLocalization=_visa_charts_utils_umd_92c8af99_js__WEBPACK_IMPORTED_MODULE_22__.v.configLocalization,getActiveLanguageString=_visa_charts_utils_umd_92c8af99_js__WEBPACK_IMPORTED_MODULE_22__.v.getActiveLanguageString,initializeDescriptionRoot=_visa_charts_utils_umd_92c8af99_js__WEBPACK_IMPORTED_MODULE_22__.v.initializeDescriptionRoot,setAccessibilityController=_visa_charts_utils_umd_92c8af99_js__WEBPACK_IMPORTED_MODULE_22__.v.setAccessibilityController,initializeElementAccess=_visa_charts_utils_umd_92c8af99_js__WEBPACK_IMPORTED_MODULE_22__.v.initializeElementAccess,setElementFocusHandler=_visa_charts_utils_umd_92c8af99_js__WEBPACK_IMPORTED_MODULE_22__.v.setElementFocusHandler,setElementAccessID=_visa_charts_utils_umd_92c8af99_js__WEBPACK_IMPORTED_MODULE_22__.v.setElementAccessID,setAccessChartCounts=_visa_charts_utils_umd_92c8af99_js__WEBPACK_IMPORTED_MODULE_22__.v.setAccessChartCounts,hideNonessentialGroups=_visa_charts_utils_umd_92c8af99_js__WEBPACK_IMPORTED_MODULE_22__.v.hideNonessentialGroups,setAccessTitle=_visa_charts_utils_umd_92c8af99_js__WEBPACK_IMPORTED_MODULE_22__.v.setAccessTitle,setAccessSubtitle=_visa_charts_utils_umd_92c8af99_js__WEBPACK_IMPORTED_MODULE_22__.v.setAccessSubtitle,setAccessLongDescription=_visa_charts_utils_umd_92c8af99_js__WEBPACK_IMPORTED_MODULE_22__.v.setAccessLongDescription,setAccessExecutiveSummary=_visa_charts_utils_umd_92c8af99_js__WEBPACK_IMPORTED_MODULE_22__.v.setAccessExecutiveSummary,setAccessPurpose=_visa_charts_utils_umd_92c8af99_js__WEBPACK_IMPORTED_MODULE_22__.v.setAccessPurpose,setAccessContext=_visa_charts_utils_umd_92c8af99_js__WEBPACK_IMPORTED_MODULE_22__.v.setAccessContext,setAccessStatistics=_visa_charts_utils_umd_92c8af99_js__WEBPACK_IMPORTED_MODULE_22__.v.setAccessStatistics,setAccessStructure=_visa_charts_utils_umd_92c8af99_js__WEBPACK_IMPORTED_MODULE_22__.v.setAccessStructure,setAccessAnnotation=_visa_charts_utils_umd_92c8af99_js__WEBPACK_IMPORTED_MODULE_22__.v.setAccessAnnotation,retainAccessFocus=_visa_charts_utils_umd_92c8af99_js__WEBPACK_IMPORTED_MODULE_22__.v.retainAccessFocus,checkAccessFocus=_visa_charts_utils_umd_92c8af99_js__WEBPACK_IMPORTED_MODULE_22__.v.checkAccessFocus,setElementInteractionAccessState=_visa_charts_utils_umd_92c8af99_js__WEBPACK_IMPORTED_MODULE_22__.v.setElementInteractionAccessState,setAccessibilityDescriptionWidth=_visa_charts_utils_umd_92c8af99_js__WEBPACK_IMPORTED_MODULE_22__.v.setAccessibilityDescriptionWidth,roundTo=_visa_charts_utils_umd_92c8af99_js__WEBPACK_IMPORTED_MODULE_22__.v.roundTo,resolveLabelCollision=_visa_charts_utils_umd_92c8af99_js__WEBPACK_IMPORTED_MODULE_22__.v.resolveLabelCollision,transitionEndAll=_visa_charts_utils_umd_92c8af99_js__WEBPACK_IMPORTED_MODULE_22__.v.transitionEndAll,annotate=_visa_charts_utils_umd_92c8af99_js__WEBPACK_IMPORTED_MODULE_22__.v.annotate,checkClicked=_visa_charts_utils_umd_92c8af99_js__WEBPACK_IMPORTED_MODULE_22__.v.checkClicked,checkInteraction=_visa_charts_utils_umd_92c8af99_js__WEBPACK_IMPORTED_MODULE_22__.v.checkInteraction,convertVisaColor=_visa_charts_utils_umd_92c8af99_js__WEBPACK_IMPORTED_MODULE_22__.v.convertVisaColor,createTextStrokeFilter=_visa_charts_utils_umd_92c8af99_js__WEBPACK_IMPORTED_MODULE_22__.v.createTextStrokeFilter,drawTooltip=_visa_charts_utils_umd_92c8af99_js__WEBPACK_IMPORTED_MODULE_22__.v.drawTooltip,findTagLevel=_visa_charts_utils_umd_92c8af99_js__WEBPACK_IMPORTED_MODULE_22__.v.findTagLevel,formatDataLabel=_visa_charts_utils_umd_92c8af99_js__WEBPACK_IMPORTED_MODULE_22__.v.formatDataLabel,formatStats=_visa_charts_utils_umd_92c8af99_js__WEBPACK_IMPORTED_MODULE_22__.v.formatStats,getColors=_visa_charts_utils_umd_92c8af99_js__WEBPACK_IMPORTED_MODULE_22__.v.getColors,getContrastingStroke=_visa_charts_utils_umd_92c8af99_js__WEBPACK_IMPORTED_MODULE_22__.v.getContrastingStroke,getPadding=_visa_charts_utils_umd_92c8af99_js__WEBPACK_IMPORTED_MODULE_22__.v.getPadding,checkHovered=_visa_charts_utils_umd_92c8af99_js__WEBPACK_IMPORTED_MODULE_22__.v.checkHovered,initTooltipStyle=_visa_charts_utils_umd_92c8af99_js__WEBPACK_IMPORTED_MODULE_22__.v.initTooltipStyle,overrideTitleTooltip=_visa_charts_utils_umd_92c8af99_js__WEBPACK_IMPORTED_MODULE_22__.v.overrideTitleTooltip,scopeDataKeys=_visa_charts_utils_umd_92c8af99_js__WEBPACK_IMPORTED_MODULE_22__.v.scopeDataKeys,chartAccessors=_visa_charts_utils_umd_92c8af99_js__WEBPACK_IMPORTED_MODULE_22__.v.chartAccessors,sankey=_visa_charts_utils_umd_92c8af99_js__WEBPACK_IMPORTED_MODULE_22__.v.sankey,sankeyCenter=_visa_charts_utils_umd_92c8af99_js__WEBPACK_IMPORTED_MODULE_22__.v.sankeyCenter,sankeyJustify=_visa_charts_utils_umd_92c8af99_js__WEBPACK_IMPORTED_MODULE_22__.v.sankeyJustify,sankeyLeft=_visa_charts_utils_umd_92c8af99_js__WEBPACK_IMPORTED_MODULE_22__.v.sankeyLeft,sankeyLinkHorizontal=_visa_charts_utils_umd_92c8af99_js__WEBPACK_IMPORTED_MODULE_22__.v.sankeyLinkHorizontal,sankeyRight=_visa_charts_utils_umd_92c8af99_js__WEBPACK_IMPORTED_MODULE_22__.v.sankeyRight,prepareRenderChange=_visa_charts_utils_umd_92c8af99_js__WEBPACK_IMPORTED_MODULE_22__.v.prepareRenderChange,visaColors=_visa_charts_utils_umd_92c8af99_js__WEBPACK_IMPORTED_MODULE_22__.v.visaColors,validateAccessibilityProps=_visa_charts_utils_umd_92c8af99_js__WEBPACK_IMPORTED_MODULE_22__.v.validateAccessibilityProps,validateLocalizationProps=_visa_charts_utils_umd_92c8af99_js__WEBPACK_IMPORTED_MODULE_22__.v.validateLocalizationProps,AlluvialDiagram=function(){function t(t){Object(_index_33c35d20_js__WEBPACK_IMPORTED_MODULE_19__.r)(this,t),this.clickEvent=Object(_index_33c35d20_js__WEBPACK_IMPORTED_MODULE_19__.c)(this,"clickEvent",7),this.hoverEvent=Object(_index_33c35d20_js__WEBPACK_IMPORTED_MODULE_19__.c)(this,"hoverEvent",7),this.mouseOutEvent=Object(_index_33c35d20_js__WEBPACK_IMPORTED_MODULE_19__.c)(this,"mouseOutEvent",7),this.initialLoadEvent=Object(_index_33c35d20_js__WEBPACK_IMPORTED_MODULE_19__.c)(this,"initialLoadEvent",7),this.initialLoadEndEvent=Object(_index_33c35d20_js__WEBPACK_IMPORTED_MODULE_19__.c)(this,"initialLoadEndEvent",7),this.drawStartEvent=Object(_index_33c35d20_js__WEBPACK_IMPORTED_MODULE_19__.c)(this,"drawStartEvent",7),this.drawEndEvent=Object(_index_33c35d20_js__WEBPACK_IMPORTED_MODULE_19__.c)(this,"drawEndEvent",7),this.transitionEndEvent=Object(_index_33c35d20_js__WEBPACK_IMPORTED_MODULE_19__.c)(this,"transitionEndEvent",7),this.shouldValidateAccessibility=!0,this.shouldValidateLocalization=!0,this.innerInteractionKeys=[],this.topLevel="h2",this.bottomLevel="p",this.sourceLinksString="sourceLinks",this.targetLinksString="targetLinks",this.valueString="value",this.updated=!0,this.shouldSetDimensions=!1,this.shouldUpdateData=!1,this.shouldSetColors=!1,this.shouldSetTagLevels=!1,this.shouldRedrawWrapper=!1,this.shouldUpdateTableData=!1,this.shouldUpdateDescriptionWrapper=!1,this.shouldSetChartAccessibilityCount=!1,this.shouldSetChartAccessibilityTitle=!1,this.shouldSetChartAccessibilitySubtitle=!1,this.shouldSetChartAccessibilityLongDescription=!1,this.shouldSetChartAccessibilityExecutiveSummary=!1,this.shouldSetChartAccessibilityPurpose=!1,this.shouldSetChartAccessibilityContext=!1,this.shouldSetChartAccessibilityStatisticalNotes=!1,this.shouldSetChartAccessibilityStructureNotes=!1,this.shouldSetParentSVGAccessibility=!1,this.shouldSetGeometryAccessibilityAttributes=!1,this.shouldSetGeometryAriaLabels=!1,this.shouldSetGroupAccessibilityLabel=!1,this.shouldSetSelectionClass=!1,this.shouldSetAnnotationAccessibility=!1,this.shouldSetGlobalSelections=!1,this.shouldSetTestingAttributes=!1,this.shouldDrawInteractionState=!1,this.shouldEnterUpdateExit=!1,this.shouldUpdateNodeGeometries=!1,this.shouldUpdateNodeStyle=!1,this.shouldUpdateLinkGeometries=!1,this.shouldUpdateLinkStyle=!1,this.shouldDrawNodeLabels=!1,this.shouldSetNodeDimensions=!1,this.shouldCallSankeyGenerator=!1,this.shouldUpdateAnnotations=!1,this.shouldValidateIdAccessor=!1,this.shouldValidateLabelText=!1,this.shouldValidateLinkFillMode=!1,this.shouldValidateNodeAlignment=!1,this.shouldValidateInteractionKeys=!1,this.shouldValidateLinkGroups=!1,this.shouldUpdateCursor=!1,this.shouldBindInteractivity=!1,this.shouldResetRoot=!1,this.shouldSetNodeLabelOpacity=!1,this.shouldSetLocalizationConfig=!1,this.mainTitle=AlluvialDiagramDefaultValues.mainTitle,this.subTitle=AlluvialDiagramDefaultValues.subTitle,this.height=AlluvialDiagramDefaultValues.height,this.width=AlluvialDiagramDefaultValues.width,this.highestHeadingLevel=AlluvialDiagramDefaultValues.highestHeadingLevel,this.margin=AlluvialDiagramDefaultValues.margin,this.padding=AlluvialDiagramDefaultValues.padding,this.linkData=void 0,this.nodeData=void 0,this.uniqueID=void 0,this.localization=AlluvialDiagramDefaultValues.localization,this.sourceAccessor=AlluvialDiagramDefaultValues.sourceAccessor,this.targetAccessor=AlluvialDiagramDefaultValues.targetAccessor,this.valueAccessor=AlluvialDiagramDefaultValues.valueAccessor,this.groupAccessor=AlluvialDiagramDefaultValues.groupAccessor,this.nodeIDAccessor=AlluvialDiagramDefaultValues.nodeIDAccessor,this.nodeConfig=AlluvialDiagramDefaultValues.nodeConfig,this.linkConfig=AlluvialDiagramDefaultValues.linkConfig,this.colorPalette=AlluvialDiagramDefaultValues.colorPalette,this.colors=void 0,this.hoverStyle=AlluvialDiagramDefaultValues.hoverStyle,this.clickStyle=AlluvialDiagramDefaultValues.clickStyle,this.cursor=AlluvialDiagramDefaultValues.cursor,this.hoverOpacity=AlluvialDiagramDefaultValues.hoverOpacity,this.animationConfig=AlluvialDiagramDefaultValues.animationConfig,this.dataLabel=AlluvialDiagramDefaultValues.dataLabel,this.dataKeyNames=void 0,this.showTooltip=AlluvialDiagramDefaultValues.showTooltip,this.tooltipLabel=AlluvialDiagramDefaultValues.tooltipLabel,this.accessibility=AlluvialDiagramDefaultValues.accessibility,this.annotations=AlluvialDiagramDefaultValues.annotations,this.suppressEvents=AlluvialDiagramDefaultValues.suppressEvents,this.hoverHighlight=void 0,this.clickHighlight=AlluvialDiagramDefaultValues.clickHighlight,this.interactionKeys=void 0,this.unitTest=!1}return t.prototype.dataWatcher=function(t,e){this.updated=!0,this.shouldUpdateData=!0,this.shouldSetColors=!0,this.shouldValidateIdAccessor=!0,this.shouldSetNodeDimensions=!0,this.shouldCallSankeyGenerator=!0,this.shouldUpdateTableData=!0,this.shouldValidateLinkGroups=!0,this.shouldValidateAccessibility=!0,this.shouldSetGlobalSelections=!0,this.shouldSetTestingAttributes=!0,this.shouldEnterUpdateExit=!0,this.shouldUpdateNodeGeometries=!0,this.shouldUpdateNodeStyle=!0,this.shouldUpdateLinkGeometries=!0,this.shouldDrawNodeLabels=!0,this.shouldUpdateLinkStyle=!0,this.shouldDrawInteractionState=!0,this.shouldSetGeometryAccessibilityAttributes=!0,this.shouldSetGeometryAriaLabels=!0,this.shouldBindInteractivity=!0,this.shouldUpdateCursor=!0,this.shouldUpdateAnnotations=!0},t.prototype.idWatcher=function(t,e){console.error("Change detected in prop uniqueID from value "+e+" to value "+t+". This prop cannot be changed after component has loaded.")},t.prototype.headingWatcher=function(t,e){this.shouldRedrawWrapper=!0,this.shouldSetTagLevels=!0,this.shouldSetChartAccessibilityCount=!0,this.shouldUpdateDescriptionWrapper=!0,this.shouldSetAnnotationAccessibility=!0,this.shouldSetChartAccessibilityTitle=!0,this.shouldSetChartAccessibilitySubtitle=!0,this.shouldSetChartAccessibilityLongDescription=!0,this.shouldSetChartAccessibilityContext=!0,this.shouldSetChartAccessibilityExecutiveSummary=!0,this.shouldSetChartAccessibilityPurpose=!0,this.shouldSetChartAccessibilityStatisticalNotes=!0,this.shouldSetChartAccessibilityStructureNotes=!0},t.prototype.mainTitleWatcher=function(t,e){this.shouldValidateAccessibility=!0,this.shouldUpdateDescriptionWrapper=!0,this.shouldSetChartAccessibilityTitle=!0,this.shouldSetParentSVGAccessibility=!0},t.prototype.subTitleWatcher=function(t,e){this.shouldSetChartAccessibilityTitle=!0,this.shouldSetChartAccessibilitySubtitle=!0,this.shouldSetParentSVGAccessibility=!0},t.prototype.dimensionWatcher=function(t,e){this.shouldSetDimensions=!0,this.shouldSetNodeDimensions=!0,this.shouldResetRoot=!0,this.shouldCallSankeyGenerator=!0,this.shouldSetGlobalSelections=!0,this.shouldUpdateNodeGeometries=!0,this.shouldUpdateNodeStyle=!0,this.shouldUpdateLinkGeometries=!0,this.shouldUpdateLinkStyle=!0,this.shouldDrawNodeLabels=!0,this.shouldUpdateAnnotations=!0},t.prototype.sourceAccessorWatcher=function(t,e){console.error("Change detected in prop sourceAccessor from value "+e+" to value "+t+". This prop cannot be changed after component has loaded.")},t.prototype.targetAccessorWatcher=function(t,e){console.error("Change detected in prop targetAccessor from value "+e+" to value "+t+". This prop cannot be changed after component has loaded.")},t.prototype.valueAccessorWatcher=function(t,e){this.shouldUpdateData=!0,this.shouldSetNodeDimensions=!0,this.shouldCallSankeyGenerator=!0,this.shouldUpdateTableData=!0,this.shouldSetGlobalSelections=!0,this.shouldEnterUpdateExit=!0,this.shouldUpdateNodeGeometries=!0,this.shouldUpdateNodeStyle=!0,this.shouldUpdateLinkGeometries=!0,this.shouldUpdateLinkStyle=!0,this.shouldDrawInteractionState=!0,this.shouldSetNodeLabelOpacity=!0,this.shouldDrawNodeLabels=!0,this.shouldSetGeometryAriaLabels=!0},t.prototype.groupAccessorWatcher=function(t,e){this.shouldUpdateData=!0,this.shouldValidateLinkFillMode=!0,this.shouldValidateLinkGroups=!0,this.shouldSetNodeDimensions=!0,this.shouldCallSankeyGenerator=!0,this.shouldUpdateTableData=!0,this.shouldSetGlobalSelections=!0,this.shouldEnterUpdateExit=!0,this.shouldUpdateNodeGeometries=!0,this.shouldUpdateNodeStyle=!0,this.shouldUpdateLinkGeometries=!0,this.shouldUpdateLinkStyle=!0,this.shouldDrawInteractionState=!0,this.shouldSetNodeLabelOpacity=!0,this.shouldDrawNodeLabels=!0,this.shouldSetGeometryAriaLabels=!0},t.prototype.nodeIDAccessorWatcher=function(t,e){console.error("Change detected in prop nodeIDAccessor from value "+e+" to value "+t+". This prop cannot be changed after component has loaded.")},t.prototype.nodeConfigWatcher=function(t,e){var i=t&&t.alignment,s=e&&e.alignment,a=t&&t.compare,r=e&&e.compare,l=t&&t.fill,o=e&&e.fill,n=t&&t.width,u=e&&e.width,c=t&&t.padding,d=e&&e.padding;i!==s&&(this.shouldValidateNodeAlignment=!0),i===s&&a===r&&n===u&&c===d||(this.shouldSetNodeDimensions=!0,this.shouldCallSankeyGenerator=!0,this.shouldSetGlobalSelections=!0,this.shouldDrawInteractionState=!0,this.shouldSetGeometryAccessibilityAttributes=!0,this.shouldUpdateNodeGeometries=!0,this.shouldUpdateLinkGeometries=!0,this.shouldDrawNodeLabels=!0,this.shouldUpdateAnnotations=!0),l!==o&&(this.shouldUpdateNodeStyle=!0,this.shouldUpdateLinkStyle=!0)},t.prototype.linkConfigWatcher=function(t,e){var i=t&&t.fillMode,s=e&&e.fillMode,a=t&&t.visible,r=e&&e.visible;i!==s&&(this.shouldValidateLinkFillMode=!0,this.shouldSetGlobalSelections=!0,this.shouldEnterUpdateExit=!0,this.shouldUpdateLinkGeometries=!0),a!==r&&(this.shouldSetNodeDimensions=!0,this.shouldCallSankeyGenerator=!0,this.shouldSetGlobalSelections=!0,this.shouldSetNodeLabelOpacity=!0,this.shouldUpdateNodeGeometries=!0,this.shouldUpdateLinkGeometries=!0,this.shouldDrawNodeLabels=!0,this.shouldUpdateAnnotations=!0),this.shouldUpdateLinkStyle=!0,this.shouldDrawInteractionState=!0,this.shouldSetTestingAttributes=!0},t.prototype.colorWatcher=function(t,e){this.shouldSetColors=!0,this.shouldUpdateNodeStyle=!0,this.shouldUpdateLinkStyle=!0,this.shouldDrawInteractionState=!0},t.prototype.interactionStyleWatcher=function(t,e){this.shouldSetColors=!0,this.shouldDrawInteractionState=!0,this.shouldSetNodeLabelOpacity=!0},t.prototype.cursorWatcher=function(t,e){this.shouldUpdateCursor=!0},t.prototype.hoverOpacityWatcher=function(t,e){this.shouldDrawInteractionState=!0,this.shouldSetNodeLabelOpacity=!0},t.prototype.dataLabelWatcher=function(t,e){var i=t&&t.visible,s=e&&e.visible;(!(!t||!t.labelAccessor)&&t.labelAccessor)!==(!(!e||!e.labelAccessor)&&e.labelAccessor)&&(this.shouldValidateLabelText=!0),this.shouldDrawNodeLabels=!0,this.shouldUpdateTableData=!0,i!==s&&(this.shouldSetNodeLabelOpacity=!0)},t.prototype.tooltipLabelWatcher=function(t,e){this.shouldUpdateTableData=!0,this.shouldSetParentSVGAccessibility=!0,this.shouldSetGeometryAriaLabels=!0},t.prototype.showTooltipWatcher=function(t,e){this.shouldDrawInteractionState=!0},t.prototype.accessibilityWatcher=function(t,e){this.shouldValidateAccessibility=!0,(!(!t||!t.title)&&t.title)!==(!(!e||!e.title)&&e.title)&&(this.shouldUpdateDescriptionWrapper=!0,this.shouldSetChartAccessibilityTitle=!0,this.shouldSetParentSVGAccessibility=!0),(!(!t||!t.executiveSummary)&&t.executiveSummary)!==(!(!e||!e.executiveSummary)&&e.executiveSummary)&&(this.shouldSetChartAccessibilityExecutiveSummary=!0),(!(!t||!t.purpose)&&t.purpose)!==(!(!e||!e.purpose)&&e.purpose)&&(this.shouldSetChartAccessibilityPurpose=!0),(!(!t||!t.longDescription)&&t.longDescription)!==(!(!e||!e.longDescription)&&e.longDescription)&&(this.shouldSetChartAccessibilityLongDescription=!0),(!(!t||!t.contextExplanation)&&t.contextExplanation)!==(!(!e||!e.contextExplanation)&&e.contextExplanation)&&(this.shouldSetChartAccessibilityContext=!0),(!(!t||!t.statisticalNotes)&&t.statisticalNotes)!==(!(!e||!e.statisticalNotes)&&e.statisticalNotes)&&(this.shouldSetChartAccessibilityStatisticalNotes=!0),(!(!t||!t.structureNotes)&&t.structureNotes)!==(!(!e||!e.structureNotes)&&e.structureNotes)&&(this.shouldSetChartAccessibilityStructureNotes=!0);var v=t&&t.includeDataKeyNames,y=e&&e.includeDataKeyNames,m=!(!t||!t.elementDescriptionAccessor)&&t.elementDescriptionAccessor,b=!(!e||!e.elementDescriptionAccessor)&&e.elementDescriptionAccessor;v===y&&m===b||(v!==y&&(this.shouldSetGroupAccessibilityLabel=!0),this.shouldSetGeometryAriaLabels=!0,this.shouldSetParentSVGAccessibility=!0);var A=!!(t&&t.keyboardNavConfig&&t.keyboardNavConfig.disabled)&&t.keyboardNavConfig.disabled,L=!!(e&&e.keyboardNavConfig&&e.keyboardNavConfig.disabled)&&e.keyboardNavConfig.disabled,k=!(!t||!t.elementsAreInterface)&&t.elementsAreInterface,S=!(!e||!e.elementsAreInterface)&&e.elementsAreInterface;A===L&&k===S||(this.shouldSetGeometryAriaLabels=!0,this.shouldSetParentSVGAccessibility=!0,this.shouldUpdateDescriptionWrapper=!0,this.shouldRedrawWrapper=!0,this.shouldSetChartAccessibilityTitle=!0,this.shouldSetChartAccessibilitySubtitle=!0,this.shouldSetChartAccessibilityLongDescription=!0,this.shouldSetChartAccessibilityContext=!0,this.shouldSetChartAccessibilityExecutiveSummary=!0,this.shouldSetChartAccessibilityPurpose=!0,this.shouldSetChartAccessibilityStatisticalNotes=!0,this.shouldSetChartAccessibilityStructureNotes=!0),k!==S&&(this.shouldSetSelectionClass=!0)},t.prototype.localizationWatcher=function(t,e){this.shouldValidateLocalization=!0,(!(!t||!t.language)&&t.language)!==(!(!e||!e.language)&&e.language)&&(this.shouldSetLocalizationConfig=!0,this.shouldUpdateTableData=!0,this.shouldRedrawWrapper=!0,this.shouldUpdateDescriptionWrapper=!0,this.shouldSetChartAccessibilityCount=!0,this.shouldUpdateDescriptionWrapper=!0,this.shouldSetGeometryAriaLabels=!0,this.shouldSetParentSVGAccessibility=!0),(!(!t||!t.numeralLocale)&&t.numeralLocale)!==(!(!e||!e.numeralLocale)&&e.numeralLocale)&&(this.shouldSetLocalizationConfig=!0,this.shouldUpdateTableData=!0,this.shouldRedrawWrapper=!0,this.shouldUpdateDescriptionWrapper=!0,this.shouldSetChartAccessibilityCount=!0,this.shouldUpdateDescriptionWrapper=!0,this.shouldSetGeometryAriaLabels=!0,this.shouldSetParentSVGAccessibility=!0)},t.prototype.annotationsWatcher=function(t,e){this.shouldValidateAccessibility=!0,this.shouldSetAnnotationAccessibility=!0,this.shouldUpdateAnnotations=!0},t.prototype.clickWatcher=function(t,e){this.shouldDrawInteractionState=!0,this.shouldSetNodeLabelOpacity=!0,this.shouldSetSelectionClass=!0},t.prototype.hoverWatcher=function(t,e){this.shouldDrawInteractionState=!0,this.shouldSetNodeLabelOpacity=!0},t.prototype.interactionWatcher=function(t,e){this.shouldSetNodeDimensions=!0,this.shouldCallSankeyGenerator=!0,this.shouldValidateInteractionKeys=!0,this.shouldDrawInteractionState=!0,this.shouldSetNodeLabelOpacity=!0,this.shouldSetSelectionClass=!0,this.shouldUpdateTableData=!0,this.shouldSetGeometryAriaLabels=!0,this.shouldBindInteractivity=!0,this.shouldUpdateCursor=!0},t.prototype.dataKeyNamesWatcher=function(t,e){this.shouldSetParentSVGAccessibility=!0,this.shouldSetGroupAccessibilityLabel=!0,this.shouldSetGeometryAriaLabels=!0},t.prototype.suppressWatcher=function(t,e){this.shouldBindInteractivity=!0,this.shouldUpdateCursor=!0,this.shouldSetGeometryAriaLabels=!0,this.shouldSetParentSVGAccessibility=!0,this.shouldUpdateDescriptionWrapper=!0,this.shouldValidateAccessibility=!0,this.shouldRedrawWrapper=!0,this.shouldSetChartAccessibilityTitle=!0,this.shouldSetChartAccessibilitySubtitle=!0,this.shouldSetChartAccessibilityLongDescription=!0,this.shouldSetChartAccessibilityContext=!0,this.shouldSetChartAccessibilityExecutiveSummary=!0,this.shouldSetChartAccessibilityPurpose=!0,this.shouldSetChartAccessibilityStatisticalNotes=!0,this.shouldSetChartAccessibilityStructureNotes=!0},t.prototype.unitTestWatcher=function(t,e){this.shouldSetTestingAttributes=!0},t.prototype.componentWillLoad=function(){var t=this,e=this.uniqueID||"alluvial-diagram-"+Object(_index_6877a56a_js__WEBPACK_IMPORTED_MODULE_23__.v)();return this.initialLoadEvent.emit({chartID:e}),new Promise((function(i){t.duration=0,t.defaults=!0,t.chartID=e,t.alluvialDiagramEl.id=t.chartID,t.setLocalizationConfig(),t.setTagLevels(),t.prepareData(),t.setDimensions(),t.validateIdAccessor(),t.validateLabelText(),t.validateLinkFillMode(),t.validateNodeAlignment(),t.validateInteractionKeys(),t.validateLinkGroups(),t.shouldValidateAccessibilityProps(),t.shouldValidateLocalizationProps(),t.setColors(),t.setNodeDimensions(),t.callSankeyGenerator(),t.setTableData(),i("component will load")}))},t.prototype.componentWillUpdate=function(){return new Promise((function(t){t("component will update")}))},t.prototype.componentDidLoad=function(){var t=this;return new Promise((function(e){t.shouldValidateAccessibilityProps(),t.shouldValidateLocalizationProps(),t.renderRootElements(),t.setTooltipInitialStyle(),t.setChartDescriptionWrapper(),t.setChartAccessibilityTitle(),t.setChartAccessibilitySubtitle(),t.setChartAccessibilityLongDescription(),t.setChartAccessibilityExecutiveSummary(),t.setChartAccessibilityPurpose(),t.setChartAccessibilityContext(),t.setChartAccessibilityStatisticalNotes(),t.setChartAccessibilityStructureNotes(),t.setParentSVGAccessibility(),t.reSetRoot(),t.setGlobalSelections(),t.setTestingAttributes(),t.enterLinkGeometries(),t.updateLinkGeometries(),t.exitLinkGeometries(),t.enterNodeGeometries(),t.updateNodeGeometries(),t.exitNodeGeometries(),t.enterNodeLabels(),t.updateNodeLabels(),t.exitNodeLabels(),t.updateLinkStyle(),t.drawNodeGeometries(),t.drawLinkGeometries(),t.setGeometryAccessibilityAttributes(),t.setGeometryAriaLabels(),t.setGroupAccessibilityID(),t.setChartCountAccessibility(),t.setSelectedClass(),t.updateCursor(),t.drawNodeLabels(),t.bindInteractivity(),t.drawAnnotations(),t.setAnnotationAccessibility(),t.onChangeHandler(),t.duration=750,t.defaults=!1,hideNonessentialGroups(t.root.node(),null),e("component did load")})).then((function(){return t.initialLoadEndEvent.emit({chartID:t.chartID})}))},t.prototype.componentDidUpdate=function(){var t=this;return new Promise((function(e){t.duration=t.animationConfig&&t.animationConfig.disabled?0:750,t.shouldUpdateDescriptionWrapper&&(t.setChartDescriptionWrapper(),t.shouldUpdateDescriptionWrapper=!1),t.shouldSetChartAccessibilityCount&&(t.setChartCountAccessibility(),t.shouldSetChartAccessibilityCount=!1),t.shouldSetChartAccessibilityTitle&&(t.setChartAccessibilityTitle(),t.shouldSetChartAccessibilityTitle=!1),t.shouldSetChartAccessibilitySubtitle&&(t.setChartAccessibilitySubtitle(),t.shouldSetChartAccessibilitySubtitle=!1),t.shouldSetChartAccessibilityLongDescription&&(t.setChartAccessibilityLongDescription(),t.shouldSetChartAccessibilityLongDescription=!1),t.shouldSetChartAccessibilityExecutiveSummary&&(t.setChartAccessibilityExecutiveSummary(),t.shouldSetChartAccessibilityExecutiveSummary=!1),t.shouldSetChartAccessibilityPurpose&&(t.setChartAccessibilityPurpose(),t.shouldSetChartAccessibilityPurpose=!1),t.shouldSetChartAccessibilityContext&&(t.setChartAccessibilityContext(),t.shouldSetChartAccessibilityContext=!1),t.shouldSetChartAccessibilityStatisticalNotes&&(t.setChartAccessibilityStatisticalNotes(),t.shouldSetChartAccessibilityStatisticalNotes=!1),t.shouldSetChartAccessibilityStructureNotes&&(t.setChartAccessibilityStructureNotes(),t.shouldSetChartAccessibilityStructureNotes=!1),t.shouldSetParentSVGAccessibility&&(t.setParentSVGAccessibility(),t.shouldSetParentSVGAccessibility=!1),t.shouldResetRoot&&(t.reSetRoot(),t.shouldResetRoot=!1),t.shouldSetGlobalSelections&&(t.setGlobalSelections(),t.shouldSetGlobalSelections=!1),t.shouldSetTestingAttributes&&(t.setTestingAttributes(),t.shouldSetTestingAttributes=!1),t.shouldEnterUpdateExit&&(t.enterLinkGeometries(),t.updateLinkGeometries(),t.exitLinkGeometries(),t.enterNodeGeometries(),t.updateNodeGeometries(),t.exitNodeGeometries(),t.enterNodeLabels(),t.updateNodeLabels(),t.exitNodeLabels(),t.shouldEnterUpdateExit=!1),t.shouldUpdateNodeGeometries&&(t.drawNodeGeometries(),t.shouldUpdateNodeGeometries=!1),t.shouldUpdateNodeStyle&&(t.updateNodeStyle(),t.shouldUpdateNodeStyle=!1),t.shouldUpdateLinkGeometries&&(t.drawLinkGeometries(),t.shouldUpdateLinkGeometries=!1),t.shouldUpdateLinkStyle&&(t.updateLinkStyle(),t.shouldUpdateLinkStyle=!1),t.shouldSetGeometryAccessibilityAttributes&&(t.setGeometryAccessibilityAttributes(),t.shouldSetGeometryAccessibilityAttributes=!1),t.shouldSetGeometryAriaLabels&&(t.setGeometryAriaLabels(),t.shouldSetGeometryAriaLabels=!1),t.shouldSetGroupAccessibilityLabel&&(t.setGroupAccessibilityID(),t.shouldSetGroupAccessibilityLabel=!1),t.shouldDrawNodeLabels&&(t.drawNodeLabels(),t.shouldDrawNodeLabels=!1),t.shouldDrawInteractionState&&(t.updateInteractionState(),t.shouldDrawInteractionState=!1),t.shouldSetNodeLabelOpacity&&(t.setNodeLabelOpacity(),t.shouldSetNodeLabelOpacity=!1),t.shouldSetSelectionClass&&(t.setSelectedClass(),t.shouldSetSelectionClass=!1),t.shouldUpdateCursor&&(t.updateCursor(),t.shouldUpdateCursor=!1),t.shouldBindInteractivity&&(t.bindInteractivity(),t.shouldBindInteractivity=!1),t.shouldUpdateAnnotations&&(t.drawAnnotations(),t.shouldUpdateAnnotations=!1),t.shouldSetAnnotationAccessibility&&(t.setAnnotationAccessibility(),t.shouldSetAnnotationAccessibility=!1),t.onChangeHandler(),e("component did update")})).then((function(){return t.drawEndEvent.emit({chartID:t.chartID})}))},t.prototype.setDimensions=function(){this.padding="string"==typeof this.padding?getPadding(this.padding):this.padding,this.innerHeight=this.height-this.margin.top-this.margin.bottom,this.innerWidth=this.width-this.margin.left-this.margin.right,this.innerPaddedHeight=this.innerHeight-this.padding.top-this.padding.bottom,this.innerPaddedWidth=this.innerWidth-this.padding.left-this.padding.right},t.prototype.prepareData=function(){var t=this;this.nodeList=[],this.linkList=[],this.linkData.forEach((function(e,i){var s={source:e[t.sourceAccessor],target:e[t.targetAccessor],value:e[t.valueAccessor],data:e};t.groupAccessor&&(s[t.groupAccessor]=e[t.groupAccessor]),t.linkList[i]=s})),this.nodeData&&this.nodeData.length>1?this.nodeList=this.nodeData:this.createNodeList()},t.prototype.createNodeList=function(){var t=this;this.nodeList=[],this.linkData.map((function(e){if(!t.nodeList.some((function(i){return i.id===e[t.sourceAccessor]}))){var i={id:e[t.sourceAccessor]};t.nodeList.push(i)}if(!t.nodeList.some((function(i){return i.id===e[t.targetAccessor]}))){var s={id:e[t.targetAccessor]};t.nodeList.push(s)}}))},t.prototype.validateLabelText=function(){this.innerLabelAccessor=this.dataLabel.labelAccessor?this.dataLabel.labelAccessor:this.valueString},t.prototype.validateIdAccessor=function(){this.innerIDAccessor=this.nodeData&&this.nodeData.length>1&&this.nodeList[0][this.nodeIDAccessor]?this.nodeIDAccessor:"id"},t.prototype.validateLinkFillMode=function(){this.innerLinkFillMode=this.groupAccessor&&"group"===this.linkConfig.fillMode?"group":"source"===this.linkConfig.fillMode?"source":"target"===this.linkConfig.fillMode?"target":"link"===this.linkConfig.fillMode?"link":"none"},t.prototype.validateNodeAlignment=function(){this.innerNodeAlignment="right"===this.nodeConfig.alignment?sankeyRight:"center"===this.nodeConfig.alignment?sankeyCenter:"justify"===this.nodeConfig.alignment?sankeyJustify:sankeyLeft},t.prototype.validateInteractionKeys=function(){this.innerInteractionKeys=[],this.innerInteractionKeys=this.interactionKeys&&this.interactionKeys.length?this.interactionKeys:[this.sourceAccessor,this.targetAccessor]},t.prototype.validateLinkGroups=function(){var t=this;this.groupKeys=[],this.groupAccessor&&(this.groupKeys=this.linkData.map((function(e){return e[t.groupAccessor]})).filter((function(t,e,i){return i.indexOf(t)===e})))},t.prototype.shouldValidateLocalizationProps=function(){var t=getGlobalInstances(),e=t.i18Next.language,i=t.i18Next.getResourceBundle(e),s=t.numeral.localeData();this.shouldValidateLocalization&&!this.localization.skipValidation&&(this.shouldValidateLocalization=!1,validateLocalizationProps(this.chartID,Object.assign(Object.assign({},this.localization),{language:i,numeralLocale:s})))},t.prototype.shouldValidateAccessibilityProps=function(){this.shouldValidateAccessibility&&!this.accessibility.disableValidation&&(this.shouldValidateAccessibility=!1,validateAccessibilityProps(this.chartID,Object.assign({},this.accessibility),{annotations:this.annotations,data:this.linkData,uniqueID:this.uniqueID,context:{mainTitle:this.mainTitle,onClickEvent:this.suppressEvents?void 0:this.clickEvent.emit}}))},t.prototype.getLanguageString=function(){return getActiveLanguageString(this.localization)},t.prototype.setLocalizationConfig=function(){configLocalization(this.localization)},t.prototype.setTableData=function(){var i=scopeDataKeys(this,{singleAccessors:["nodeIDAccessor","valueAccessor"],nestedAccessors:[{objectName:"dataLabel",objectAccessors:["labelAccessor"],formatAccessors:["format"]}]},"alluvial-diagram");this.tableData=this.getScopedTableData(this.preppedData.nodes,i),this.tableColumns=Object.keys(i);var s=chartAccessors;delete s.nestedAccessors[2];var a=scopeDataKeys(this,s,"alluvial-diagram-secondary-table");this.secondaryTableData=this.getScopedTableData(this.preppedData.links,a),this.secondaryTableColumns=Object.keys(a)},t.prototype.getScopedTableData=function(t,e){var i=this,s=[];return t.forEach((function(t){var a={};Object.keys(e).forEach((function(s){"data"in t&&t.data[s]?a[s]=e[s]&&t.data[s]?formatStats(t.data[s],e[s]):t.data[s]:s===i.valueAccessor?a[s]=e[s]?formatStats(t[i.valueString],e[s]):t[i.valueString]:a[s]=e[s]&&t[s]?formatStats(t[s],e[s]):t[s]})),s.push(a)})),s},t.prototype.setNodeDimensions=function(){var t=this;this.alluvialProperties=sankey(this.nodeConfig.compare,this.linkConfig.visible).nodeId((function(e){return e[t.innerIDAccessor]})).nodeWidth(this.nodeConfig.width).nodePadding(this.nodeConfig.padding).nodeAlign(this.innerNodeAlignment).nodeSort(null).size([this.innerPaddedWidth,this.innerPaddedHeight])},t.prototype.callSankeyGenerator=function(){var t=this;this.preppedData=function e(_e,i){return t.alluvialProperties({nodes:_e.map((function(t){return Object.assign({},t)})),links:i.map((function(t){return Object.assign({},t)}))})}(this.nodeList,this.linkList),this.nodeCount=Object(_max_d011e4a4_js__WEBPACK_IMPORTED_MODULE_20__.m)(this.preppedData.nodes,(function(t){return t.layer}))},t.prototype.renderRootElements=function(){this.svg=Object(_visa_charts_utils_umd_92c8af99_js__WEBPACK_IMPORTED_MODULE_22__.s)(this.alluvialDiagramEl).select(".visa-viz-d3-alluvial-container").append("svg").attr("width",this.width).attr("height",this.height),this.root=this.svg.append("g").attr("id","visa-viz-margin-container-g-"+this.chartID),this.rootG=this.root.append("g").attr("id","visa-viz-padding-container-g-"+this.chartID),this.nodeG=this.rootG.append("g").attr("class","alluvial-node-group"),this.linkG=this.rootG.append("g").attr("class","alluvial-link-group"),this.labelG=this.rootG.append("g").attr("class","alluvial-dataLabel-group"),this.tooltipG=Object(_visa_charts_utils_umd_92c8af99_js__WEBPACK_IMPORTED_MODULE_22__.s)(this.alluvialDiagramEl).select(".alluvial-tooltip")},t.prototype.updateCursor=function(){this.updateLinks.attr("cursor",this.suppressEvents?null:this.cursor),this.updatingLabels.attr("cursor",!this.suppressEvents&&this.dataLabel.visible?this.cursor:null)},t.prototype.reSetRoot=function(){prepareRenderChange({selection:this.svg,duration:this.duration,namespace:"root_reset",easing:_circle_1a7bf607_js__WEBPACK_IMPORTED_MODULE_24__.c}).attr("width",this.width).attr("height",this.height).attr("viewBox","0 0 "+this.width+" "+this.height),prepareRenderChange({selection:this.root,duration:this.duration,namespace:"root_reset",easing:_circle_1a7bf607_js__WEBPACK_IMPORTED_MODULE_24__.c}).attr("transform","translate(".concat(this.margin.left,", ").concat(this.margin.top,")")),prepareRenderChange({selection:this.rootG,duration:this.duration,namespace:"root_reset",easing:_circle_1a7bf607_js__WEBPACK_IMPORTED_MODULE_24__.c}).attr("transform","translate(".concat(this.padding.left,", ").concat(this.padding.top,")")),setAccessibilityDescriptionWidth(this.chartID,this.width)},t.prototype.setGlobalSelections=function(){var t=this;this.currentNodeLayers&&(this.previousNodeLayers=this.currentNodeLayers);var e=this.nodeG.selectAll(".node-wrapper").data(this.preppedData.nodes,(function(e){return e[t.innerIDAccessor]}));if(this.enterNodes=e.enter().append("g").attr("class","node-wrapper").attr("data-offset-group","true"),this.enterNodes.append("rect").attr("class","alluvial-node"),this.exitNodes=e.exit(),this.updateNodes=e.merge(this.enterNodes),this.updateNodes.selectAll(".alluvial-node").data((function(t){return[t]})),this.currentNodeLayers=this.preppedData.nodes,this.previousNodeLayers){var i=this.currentNodeLayers.filter((function(e){return t.previousNodeLayers.map((function(e){return e[t.innerIDAccessor]})).includes(e.id)}));this.previousMaxNodeLayer=Object(_max_d011e4a4_js__WEBPACK_IMPORTED_MODULE_20__.m)(i,(function(t){return t.layer})),this.previousMinNodeLayer=Object(_min_25ce8dfd_js__WEBPACK_IMPORTED_MODULE_21__.m)(i,(function(t){return t.layer}));var s=this.previousNodeLayers.filter((function(e){return t.currentNodeLayers.map((function(e){return e[t.innerIDAccessor]})).includes(e.id)}));this.currentMaxNodeLayer=Object(_max_d011e4a4_js__WEBPACK_IMPORTED_MODULE_20__.m)(s,(function(t){return t.layer})),this.currentMinNodeLayer=Object(_min_25ce8dfd_js__WEBPACK_IMPORTED_MODULE_21__.m)(s,(function(t){return t.layer}))}if("source"===this.innerLinkFillMode||"target"===this.innerLinkFillMode){this.updateNodes.each((function(t,e,i){initializeElementAccess(i[e])}));var a=this.preppedData.nodes,r=this.linkG.selectAll(".alluvial-link-wrapper").data(a,(function(e){return e[t.innerIDAccessor]}));this.enterLinkGroups=r.enter().append("g"),this.exitLinkGroups=r.exit().remove(),this.updateLinkGroups=r.merge(this.enterLinkGroups);var l=this.updateLinkGroups.selectAll(".alluvial-link").data((function(t){return t.sourceLinks}),(function(e){return e.data[t.sourceAccessor]+e.data[t.targetAccessor]}));this.enterLinks=l.enter().append("path"),this.exitLinks=l.exit(),this.updateLinks=l.merge(this.enterLinks).attr("data-offset-element",this.innerLinkFillMode)}else{this.updateNodes.attr("tabindex",null);l=this.linkG.selectAll(".alluvial-link").data(this.preppedData.links,(function(e){return e.data[t.sourceAccessor]+e.data[t.targetAccessor]}));this.enterLinks=l.enter().append("path"),this.exitLinks=l.exit(),this.updateLinks=l.merge(this.enterLinks).attr("data-offset-element",null)}this.exitSize=this.exitLinks.size(),this.enterSize=this.enterLinks.size();var o=this.labelG.selectAll("text").data(this.preppedData.nodes,(function(e){return e[t.innerIDAccessor]}));this.enteringLabels=o.enter().append("text"),this.exitingLabels=o.exit(),this.updatingLabels=o.merge(this.enteringLabels)},t.prototype.setTestingAttributes=function(){var t=this;this.unitTest?(Object(_visa_charts_utils_umd_92c8af99_js__WEBPACK_IMPORTED_MODULE_22__.s)(this.alluvialDiagramEl).select(".visa-viz-d3-alluvial-container").attr("data-testid","chart-container"),Object(_visa_charts_utils_umd_92c8af99_js__WEBPACK_IMPORTED_MODULE_22__.s)(this.alluvialDiagramEl).select(".alluvial-main-title").attr("data-testid","main-title"),Object(_visa_charts_utils_umd_92c8af99_js__WEBPACK_IMPORTED_MODULE_22__.s)(this.alluvialDiagramEl).select(".alluvial-sub-title").attr("data-testid","sub-title"),this.svg.attr("data-testid","root-svg"),this.root.attr("data-testid","margin-container"),this.rootG.attr("data-testid","padding-container"),this.tooltipG.attr("data-testid","tooltip-container"),this.updateNodes.attr("data-testid","node").attr("data-id",(function(e){return"node-".concat(e[t.innerIDAccessor])})),"source"!==this.innerLinkFillMode&&"target"!==this.innerLinkFillMode||this.updateLinkGroups.attr("data-testid","alluvial-link-group").attr("data-id",(function(e){return"link-group-".concat(e[t.innerIDAccessor])})),this.updateLinks.attr("data-testid","link").attr("data-id",(function(e){return"link-".concat(e.source[t.innerIDAccessor],"-").concat(e.target[t.innerIDAccessor])})),this.updatingLabels.attr("data-testid","dataLabel").attr("data-id",(function(e){return"dataLabel-".concat(e[t.innerIDAccessor])})),this.svg.select("defs").attr("data-testid","pattern-defs")):(Object(_visa_charts_utils_umd_92c8af99_js__WEBPACK_IMPORTED_MODULE_22__.s)(this.alluvialDiagramEl).select(".visa-viz-d3-alluvial-container").attr("data-testid",null),Object(_visa_charts_utils_umd_92c8af99_js__WEBPACK_IMPORTED_MODULE_22__.s)(this.alluvialDiagramEl).select(".alluvial-main-title").attr("data-testid",null),Object(_visa_charts_utils_umd_92c8af99_js__WEBPACK_IMPORTED_MODULE_22__.s)(this.alluvialDiagramEl).select(".alluvial-sub-title").attr("data-testid",null),this.svg.attr("data-testid",null),this.root.attr("data-testid",null),this.rootG.attr("data-testid",null),this.tooltipG.attr("data-testid",null),this.updateNodes.attr("data-testid",null).attr("data-id",null),"source"!==this.innerLinkFillMode&&"target"!==this.innerLinkFillMode||this.updateLinkGroups.attr("data-testid",null).attr("data-id",null),this.updateLinks.attr("data-testid",null).attr("data-id",null),this.updatingLabels.attr("data-testid",null).attr("data-id",null),this.svg.select("defs").attr("data-testid",null))},t.prototype.newColumnInterpolationPosition=function(){var t=this;return linkHorizontal().source((function(e){return e.target.layer<=t.previousMinNodeLayer?[e.source.x0,e.y0]:e.source.layer>=t.previousMaxNodeLayer?[e.target.x1,e.y0]:[e.source.x1,e.y0]})).target((function(e){return e.target.layer<=t.previousMinNodeLayer?[e.source.x0,e.y0]:e.source.layer>=t.previousMaxNodeLayer?[e.target.x1,e.y0]:[e.target.x0,e.y1]}))},t.prototype.enterLinkGeometries=function(){var t=this;this.enterLinks.interrupt();var e=this.linkConfig.visible?this.linkConfig.opacity:0;"source"!==this.innerLinkFillMode&&"target"!==this.innerLinkFillMode||this.enterLinkGroups.attr("class","alluvial-link-wrapper"),this.enterLinks.attr("class","alluvial-link").classed("entering",!0).attr("d",this.newColumnInterpolationPosition()),this.enterLinks.attr("cursor",this.suppressEvents?null:this.cursor).on("click",this.suppressEvents?null:function(e,i,s){return t.onClickHandler(e,s[i])}).on("mouseover",this.suppressEvents?null:function(e,i,s){return t.onHoverHandler(e,s[i])}).on("mouseout",this.suppressEvents?null:function(){return t.onMouseOutHandler()}).attr("stroke-dasharray",(function(e,i,s){return e.linelength=s[i].getTotalLength()-2,e.target.layer<=t.previousMinNodeLayer||e.source.layer>=t.previousMaxNodeLayer?"":e.linelength+" "+e.linelength})).attr("stroke-dashoffset",(function(e){return e.target.layer<=t.previousMinNodeLayer||e.source.layer>=t.previousMaxNodeLayer?0:e.linelength})).attr("stroke-width",(function(e){return e.target.layer<=t.previousMinNodeLayer||e.source.layer>=t.previousMaxNodeLayer?Math.max(1,e.width):.1})).attr("stroke-opacity",e).transition("enter").duration(this.duration).ease(_circle_1a7bf607_js__WEBPACK_IMPORTED_MODULE_24__.c).attr("d",sankeyLinkHorizontal()).attr("stroke-width",(function(e){return e.target.layer<=t.previousMinNodeLayer||e.source.layer>=t.previousMaxNodeLayer?Math.max(1,e.width):1})).attr("stroke-dashoffset",0)},t.prototype.updateLinkGeometries=function(){var t=this;this.updateLinks.interrupt();var e=this.linkConfig.visible?this.linkConfig.opacity:0;this.updateLinks.transition("opacity").ease(_circle_1a7bf607_js__WEBPACK_IMPORTED_MODULE_24__.c).duration(this.duration).attr("stroke-opacity",(function(i){return checkInteraction(i.data,e,t.hoverOpacity,t.hoverHighlight,t.clickHighlight,t.innerInteractionKeys)}))},t.prototype.exitLinkGeometries=function(){var t=this;this.exitLinks.interrupt();var e=this.linkConfig.visible?this.linkConfig.opacity:0;this.exitLinks.attr("stroke-dasharray",(function(e,i,s){return e.linelength=s[i].getTotalLength(),e.target.layer<=t.previousMinNodeLayer||e.source.layer>=t.previousMaxNodeLayer?"":e.linelength+" "+e.linelength})).transition("exit").ease(_circle_1a7bf607_js__WEBPACK_IMPORTED_MODULE_24__.c).duration(this.duration).attr("d",this.newColumnInterpolationPosition()).attr("stroke-opacity",e).attr("stroke-dashoffset",(function(t){return t.linelength})).attr("stroke-width",(function(e){return e.target.layer<=t.currentMinNodeLayer||e.source.layer>=t.currentMaxNodeLayer?Math.max(1,e.width):.1})).remove()},t.prototype.drawLinkGeometries=function(){var t=this;this.removeTemporaryClickedLinks(this.svg.node()),"source"!==this.innerLinkFillMode&&"target"!==this.innerLinkFillMode||this.updateLinkGroups.classed("link-group offset-target",!0),this.updateLinks.transition("update").duration(this.duration).ease(_circle_1a7bf607_js__WEBPACK_IMPORTED_MODULE_24__.c).attr("d",sankeyLinkHorizontal()).attr("stroke-width",(function(t){return Math.max(1,t.width)})).call(transitionEndAll,(function(){t.removeTemporaryClickedLinks(t.svg.node()),t.updateLinks.classed("entering",!1).attr("d",sankeyLinkHorizontal()).attr("stroke-dasharray",""),t.updateInteractionState(),t.updateLinks.each((function(e,i,s){t.clickHighlight&&t.clickHighlight.length>0&&checkClicked(e.data,t.clickHighlight,t.innerInteractionKeys)&&t.drawDuplicateClickedLink(s[i],e)}))})),this.updateLinks.transition("accessibilityAfterExit").duration(this.duration).ease(_circle_1a7bf607_js__WEBPACK_IMPORTED_MODULE_24__.c).call(transitionEndAll,(function(){var e=checkAccessFocus(t.rootG.node());t.exitLinks.remove(),t.setChartCountAccessibility(),t.setGroupAccessibilityID(),t.setGeometryAriaLabels(),retainAccessFocus({parentGNode:t.rootG.node(),focusDidExist:e}),t.transitionEndEvent.emit({chartID:t.chartID})}))},t.prototype.drawDuplicateClickedLink=function(t,e){var i=t,s="vcl-accessibility-focus",a=i.parentNode,r=i.cloneNode();if(Object(_visa_charts_utils_umd_92c8af99_js__WEBPACK_IMPORTED_MODULE_22__.s)(r).classed("alluvial-link",!1).classed(s+"-highlight "+s+"-hover",!0).classed("duplicated-clicked-link",!0).classed("entering",!1).data([e.data]).attr("focusable",!1).attr("aria-label",null).attr("aria-hidden",!0).attr("role",null).style("pointer-events","none").attr("tabindex",null),"source"===this.innerLinkFillMode||"target"===this.innerLinkFillMode){var l=a.parentNode,o=Object(_visa_charts_utils_umd_92c8af99_js__WEBPACK_IMPORTED_MODULE_22__.s)(l).selectAll(".link-group")._groups[0];o[o.length-1].appendChild(r)}else a.appendChild(r)},t.prototype.removeTemporaryClickedLinks=function(t){Object(_visa_charts_utils_umd_92c8af99_js__WEBPACK_IMPORTED_MODULE_22__.s)(t).selectAll(".duplicated-clicked-link").remove()},t.prototype.updateLinkStyle=function(){var t=this;this.updateLinks.attr("stroke",(function(e){return t.clickHighlight.length>0&&checkClicked(e.data,t.clickHighlight,t.innerInteractionKeys)&&t.clickStyle.color?visaColors[t.clickStyle.color]||t.clickStyle.color:t.hoverHighlight&&checkHovered(e.data,t.hoverHighlight,t.innerInteractionKeys)&&t.hoverStyle.color?visaColors[t.hoverStyle.color]||t.hoverStyle.color:"group"===t.innerLinkFillMode?t.colorArr[t.groupKeys.indexOf(e[t.groupAccessor])]:"none"===t.innerLinkFillMode?t.colorArr[0]||"#E4E4E4":"link"===t.innerLinkFillMode?t.colorArr[e.index]:"source"===t.innerLinkFillMode?t.colorArr[e.source.index]:t.colorArr[e.target.index]})).attr("fill","none")},t.prototype.enterNodeGeometries=function(){var t=this;this.enterNodes.interrupt(),this.defaults||this.enterNodes.classed("entering",!0),this.enterNodes.select(".alluvial-node").attr("fill",(function(e,i){return t.nodeConfig.fill?t.colorArr[i]||t.colorArr[0]:"#E4E4E4"})).attr("stroke",(function(e,i){return getContrastingStroke(t.nodeConfig.fill?t.colorArr[i]||t.colorArr[0]:"#E4E4E4")})).attr("stroke-width","1px").attr("x",(function(t){return t.x0})).attr("y",(function(t){return t.y0})).attr("height",(function(t){return t.y1-t.y0})).attr("opacity",0).attr("width",(function(t){return t.x1-t.x0}))},t.prototype.updateNodeGeometries=function(){var t=this;this.updateNodes.interrupt(),this.updateNodes.select(".alluvial-node").transition("node_opacity").duration((function(e,i,s){return Object(_visa_charts_utils_umd_92c8af99_js__WEBPACK_IMPORTED_MODULE_22__.s)(s[i].parentNode).classed("entering")?t.duration/3:0})).delay((function(e,i,s){return Object(_visa_charts_utils_umd_92c8af99_js__WEBPACK_IMPORTED_MODULE_22__.s)(s[i].parentNode).classed("entering")?t.duration/1.2:0})).ease(_circle_1a7bf607_js__WEBPACK_IMPORTED_MODULE_24__.c).attr("opacity",1)},t.prototype.exitNodeGeometries=function(){this.exitNodes.interrupt(),this.exitNodes.select(".alluvial-node").transition("exit").ease(_circle_1a7bf607_js__WEBPACK_IMPORTED_MODULE_24__.c).duration(this.duration/3).attr("opacity",0).attr("width",0).select((function(){return this.parentNode})).remove()},t.prototype.drawNodeGeometries=function(){var t=this;this.updateNodes.select(".alluvial-node").transition("update_nodes").duration((function(e,i,s){return Object(_visa_charts_utils_umd_92c8af99_js__WEBPACK_IMPORTED_MODULE_22__.s)(s[i].parentNode).classed("entering")?t.duration/3:t.duration})).delay((function(e,i,s){return Object(_visa_charts_utils_umd_92c8af99_js__WEBPACK_IMPORTED_MODULE_22__.s)(s[i].parentNode).classed("entering")?t.duration/1.2:0})).ease(_circle_1a7bf607_js__WEBPACK_IMPORTED_MODULE_24__.c).attr("x",(function(t){return t.x0})).attr("y",(function(t){return t.y0})).attr("height",(function(t){return t.y1-t.y0})).attr("width",(function(t){return t.x1-t.x0})).attr("opacity",1).call(transitionEndAll,(function(){t.updateNodes.classed("entering",!1)}))},t.prototype.updateNodeStyle=function(){var t=this;this.updateNodes.select(".alluvial-node").attr("fill",(function(e,i){return t.nodeConfig.fill?t.colorArr[i]||t.colorArr[0]:"#E4E4E4"})),this.updateNodes.select(".alluvial-node").attr("stroke",(function(e,i){return getContrastingStroke(t.nodeConfig.fill?t.colorArr[i]||t.colorArr[0]:"#E4E4E4")})),this.updateNodes.select(".alluvial-node").attr("stroke-width","1px")},t.prototype.enterNodeLabels=function(){var t=this;this.enteringLabels.interrupt();var e=this.dataLabel.visible?1:0,i=this.dataLabel.visible?Number.EPSILON:0;this.widthAllNodesNoLinks=this.nodeCount*this.nodeConfig.width+this.nodeCount*this.nodeConfig.width,this.noLinksLeftPadding=(this.innerPaddedWidth-this.widthAllNodesNoLinks)/2,this.enteringLabels.attr("class","alluvial-diagram-dataLabel entering").attr("cursor",!this.suppressEvents&&this.dataLabel.visible?this.cursor:null).attr("opacity",(function(s){if(t.linkConfig.visible){var a=!0;return s[t.sourceLinksString].length&&(a=s[t.sourceLinksString].some((function(i){return checkInteraction(i.data,e,t.hoverOpacity,t.hoverHighlight,t.clickHighlight,t.innerInteractionKeys)>=1}))),s[t.targetLinksString].length&&(a=s[t.targetLinksString].some((function(i){return checkInteraction(i.data,e,t.hoverOpacity,t.hoverHighlight,t.clickHighlight,t.innerInteractionKeys)>=1}))),a?i:0}return 0===s.layer||s.layer===t.nodeCount?i:0})).attr("x",(function(e){return t.linkConfig.visible?"outside"===t.dataLabel.placement?e.x0<t.innerPaddedWidth/2?e.x0:e.x1:e.x0<t.innerPaddedWidth/2?e.x1:e.x0:e.x0<t.innerPaddedWidth/2?t.noLinksLeftPadding:t.noLinksLeftPadding+t.widthAllNodesNoLinks+t.nodeConfig.width})).attr("y",(function(t){return(t.y1+t.y0)/2})).attr("dx",(function(e){return"outside"!==t.dataLabel.placement&&t.linkConfig.visible?e.x0<t.innerPaddedWidth/2?"0.5em":"-0.5em":e.x0<t.innerPaddedWidth/2?"-0.5em":"0.5em"})).attr("dy","0.4em").attr("text-anchor",(function(e){return"outside"!==t.dataLabel.placement&&t.linkConfig.visible?e.x0<t.innerPaddedWidth/2?"start":"end":e.x0<t.innerPaddedWidth/2?"end":"start"}))},t.prototype.updateNodeLabels=function(){var t=this;this.updatingLabels.interrupt("label_opacity");var e=this.dataLabel.visible?1:0;this.updatingLabels.transition("label_opacity").ease(_circle_1a7bf607_js__WEBPACK_IMPORTED_MODULE_24__.c).duration((function(e,i,s){return Object(_visa_charts_utils_umd_92c8af99_js__WEBPACK_IMPORTED_MODULE_22__.s)(s[i]).classed("entering")?t.duration/3:0})).delay((function(e,i,s){return Object(_visa_charts_utils_umd_92c8af99_js__WEBPACK_IMPORTED_MODULE_22__.s)(s[i]).classed("entering")?t.duration/1.2:0})).attr("opacity",(function(i){if(t.linkConfig.visible){var s=!0;return i[t.sourceLinksString].length&&(s=i[t.sourceLinksString].some((function(i){return checkInteraction(i.data,e,t.hoverOpacity,t.hoverHighlight,t.clickHighlight,t.innerInteractionKeys)>=1}))),i[t.targetLinksString].length&&(s=i[t.targetLinksString].some((function(i){return checkInteraction(i.data,e,t.hoverOpacity,t.hoverHighlight,t.clickHighlight,t.innerInteractionKeys)>=1}))),s?1:0}return 0===i.layer||i.layer===t.nodeCount?e:0}))},t.prototype.exitNodeLabels=function(){this.exitingLabels.interrupt(),this.exitingLabels.transition("exit_labels").duration(this.duration/3).ease(_circle_1a7bf607_js__WEBPACK_IMPORTED_MODULE_24__.c).attr("opacity",0).remove()},t.prototype.addStrokeUnder=function(){var t=createTextStrokeFilter({root:this.svg.node(),id:this.chartID,color:"#ffffff"});this.updatingLabels.attr("filter",t)},t.prototype.drawNodeLabels=function(){var t=this,e="auto"!==this.dataLabel.placement&&this.dataLabel.collisionHideOnly;this.widthAllNodesNoLinks=this.nodeCount*this.nodeConfig.width+this.nodeCount*this.nodeConfig.width,this.noLinksLeftPadding=(this.innerPaddedWidth-this.widthAllNodesNoLinks)/2;var i=this.updatingLabels.text((function(e){return t.dataLabel.format?formatDataLabel(e,t.innerLabelAccessor,t.dataLabel.format):e[t.innerLabelAccessor]})).attr("data-x",(function(e){return t.linkConfig.visible?"outside"===t.dataLabel.placement?e.x0<t.innerPaddedWidth/2?e.x0:e.x1:e.x0<t.innerPaddedWidth/2?e.x1:e.x0:e.x0<t.innerPaddedWidth/2?t.noLinksLeftPadding:t.noLinksLeftPadding+t.widthAllNodesNoLinks+t.nodeConfig.width})).attr("data-y",(function(t){return(t.y1+t.y0)/2})).attr("data-translate-x",this.padding.left+this.margin.left).attr("data-translate-y",this.padding.top+this.margin.top).attr("data-use-dx",e).attr("data-use-dy",e).attr("dx",(function(e){return"outside"!==t.dataLabel.placement&&t.linkConfig.visible?e.x0<t.innerPaddedWidth/2?"0.5em":"-0.5em":e.x0<t.innerPaddedWidth/2?"-0.5em":"0.5em"})).attr("dy","0.4em").transition("update_labels").duration((function(e,i,s){return Object(_visa_charts_utils_umd_92c8af99_js__WEBPACK_IMPORTED_MODULE_22__.s)(s[i]).classed("entering")?t.duration/3:t.duration})).delay((function(e,i,s){return Object(_visa_charts_utils_umd_92c8af99_js__WEBPACK_IMPORTED_MODULE_22__.s)(s[i]).classed("entering")?t.duration/1.2:0})).ease(_circle_1a7bf607_js__WEBPACK_IMPORTED_MODULE_24__.c);if(this.dataLabel.visible&&("auto"===this.dataLabel.placement||this.dataLabel.collisionHideOnly)){var s=this.dataLabel&&this.dataLabel.collisionPlacement,a=this.updateNodes.select(".alluvial-node").attr("data-x",(function(t){return t.x0})).attr("data-y",(function(t){return t.y0})).attr("data-translate-x",this.padding.left+this.margin.left).attr("data-translate-y",this.padding.top+this.margin.top).attr("data-height",(function(t){return t.y1-t.y0})).attr("data-width",(function(t){return t.x1-t.x0})).each((function(i,a,r){if(!e){var l=r[a],o=l.parentNode,u=l.cloneNode();Object(_visa_charts_utils_umd_92c8af99_js__WEBPACK_IMPORTED_MODULE_22__.s)(u).classed("alluvial-node",!1).classed("alluvial-node-collision-clone",!0).classed("entering",!1).data([i]).attr("focusable",!1).attr("aria-label",null).attr("aria-hidden",!0).attr("role",null).style("pointer-events","none").style("visibility","hidden").attr("tabindex",null).attr("data-x","all"===s?i.x0:"outside"===s?i.x0<t.innerPaddedWidth/2?i.x0:i.x1:i.x0<t.innerPaddedWidth/2?i.x1:i.x0).attr("data-width","all"===s?i.x1-i.x0:1),o.appendChild(u)}})),r=this.updateNodes.select(".alluvial-node-collision-clone");this.bitmaps=resolveLabelCollision({labelSelection:i,avoidMarks:e?[a]:[a,r],validPositions:e?["middle"]:["left","right"],offsets:e?[1]:[4,4],accessors:[this.innerIDAccessor],size:[roundTo(this.width,0),roundTo(this.height,0)],hideOnly:this.dataLabel.visible&&e}),r.remove(),e&&i.attr("text-anchor",(function(e){return"outside"!==t.dataLabel.placement&&t.linkConfig.visible?e.x0<t.innerPaddedWidth/2?"start":"end":e.x0<t.innerPaddedWidth/2?"end":"start"})).attr("x",(function(e){return t.linkConfig.visible?"outside"===t.dataLabel.placement?e.x0<t.innerPaddedWidth/2?e.x0:e.x1:e.x0<t.innerPaddedWidth/2?e.x1:e.x0:e.x0<t.innerPaddedWidth/2?t.noLinksLeftPadding:t.noLinksLeftPadding+t.widthAllNodesNoLinks+t.nodeConfig.width})).attr("y",(function(t){return(t.y1+t.y0)/2})).attr("dx",(function(e){return"outside"!==t.dataLabel.placement&&t.linkConfig.visible?e.x0<t.innerPaddedWidth/2?"0.5em":"-0.5em":e.x0<t.innerPaddedWidth/2?"-0.5em":"0.5em"})).attr("dy","0.4em")}else i.attr("text-anchor",(function(e){return"outside"!==t.dataLabel.placement&&t.linkConfig.visible?e.x0<t.innerPaddedWidth/2?"start":"end":e.x0<t.innerPaddedWidth/2?"end":"start"})).attr("x",(function(e){return t.linkConfig.visible?"outside"===t.dataLabel.placement?e.x0<t.innerPaddedWidth/2?e.x0:e.x1:e.x0<t.innerPaddedWidth/2?e.x1:e.x0:e.x0<t.innerPaddedWidth/2?t.noLinksLeftPadding:t.noLinksLeftPadding+t.widthAllNodesNoLinks+t.nodeConfig.width})).attr("y",(function(t){return(t.y1+t.y0)/2})).attr("dx",(function(e){return"outside"!==t.dataLabel.placement&&t.linkConfig.visible?e.x0<t.innerPaddedWidth/2?"0.5em":"-0.5em":e.x0<t.innerPaddedWidth/2?"-0.5em":"0.5em"})).attr("dy","0.4em");i.call(transitionEndAll,(function(){t.updatingLabels.classed("entering",!1),t.addStrokeUnder()}))},t.prototype.setNodeLabelOpacity=function(){var t=this;this.updatingLabels.interrupt("label_opacity");var e="auto"!==this.dataLabel.placement&&this.dataLabel.collisionHideOnly,i=this.dataLabel.visible&&("auto"===this.dataLabel.placement||this.dataLabel.collisionHideOnly),s=this.dataLabel.visible?1:0;if(this.updatingLabels.attr("opacity",(function(e,a,r){var n,l=+Object(_visa_charts_utils_umd_92c8af99_js__WEBPACK_IMPORTED_MODULE_22__.s)(r[a]).attr("opacity"),o=Object(_visa_charts_utils_umd_92c8af99_js__WEBPACK_IMPORTED_MODULE_22__.s)(r[a]).style("visibility");if(t.linkConfig.visible){var u=!0;e[t.sourceLinksString].length&&(u=e[t.sourceLinksString].some((function(e){return checkInteraction(e.data,s,t.hoverOpacity,t.hoverHighlight,t.clickHighlight,t.innerInteractionKeys)>=1}))),e[t.targetLinksString].length&&(u=e[t.targetLinksString].some((function(e){return checkInteraction(e.data,s,t.hoverOpacity,t.hoverHighlight,t.clickHighlight,t.innerInteractionKeys)>=1}))),n=u?s:0}else n=0===e.layer||e.layer===t.nodeCount?s:0;return(1===n&&"hidden"===o||l!==n)&&i&&(1===n?Object(_visa_charts_utils_umd_92c8af99_js__WEBPACK_IMPORTED_MODULE_22__.s)(r[a]).classed("collision-added",!0).style("visibility",null):Object(_visa_charts_utils_umd_92c8af99_js__WEBPACK_IMPORTED_MODULE_22__.s)(r[a]).classed("collision-removed",!0)),n})),i){var a=this.updatingLabels.filter((function(t,e,i){return Object(_visa_charts_utils_umd_92c8af99_js__WEBPACK_IMPORTED_MODULE_22__.s)(i[e]).classed("collision-added")})),r=this.updatingLabels.filter((function(t,e,i){return Object(_visa_charts_utils_umd_92c8af99_js__WEBPACK_IMPORTED_MODULE_22__.s)(i[e]).classed("collision-removed")})).attr("data-use-dx",e).attr("data-use-dy",e);if(r.size()>0&&(this.bitmaps=resolveLabelCollision({bitmaps:this.bitmaps,labelSelection:r,avoidMarks:[],validPositions:["middle"],offsets:[1],accessors:["key"],size:[roundTo(this.width,0),roundTo(this.height,0)],hideOnly:!1,removeOnly:!0}),r.classed("collision-removed",!1)),a.size()>0){var l=this.dataLabel&&this.dataLabel.collisionPlacement,o=this.updateNodes.select(".alluvial-node").attr("data-x",(function(t){return t.x0})).attr("data-y",(function(t){return t.y0})).attr("data-translate-x",this.padding.left+this.margin.left).attr("data-translate-y",this.padding.top+this.margin.top).attr("data-height",(function(t){return t.y1-t.y0})).attr("data-width",(function(t){return t.x1-t.x0})).each((function(i,s,a){if(!e){var r=a[s],o=r.parentNode,u=r.cloneNode();Object(_visa_charts_utils_umd_92c8af99_js__WEBPACK_IMPORTED_MODULE_22__.s)(u).classed("alluvial-node",!1).classed("alluvial-node-collision-clone",!0).classed("entering",!1).data([i]).attr("focusable",!1).attr("aria-label",null).attr("aria-hidden",!0).attr("role",null).style("pointer-events","none").style("visibility","hidden").attr("tabindex",null).attr("data-x","all"===l?i.x0:"outside"===l?i.x0<t.innerPaddedWidth/2?i.x0:i.x1:i.x0<t.innerPaddedWidth/2?i.x1:i.x0).attr("data-width","all"===l?i.x1-i.x0:1),o.appendChild(u)}})),n=this.updateNodes.select(".alluvial-node-collision-clone");this.bitmaps=resolveLabelCollision({labelSelection:a,bitmaps:this.bitmaps,avoidMarks:e?[o]:[o,n],validPositions:e?["middle"]:["left","right"],offsets:e?[1]:[4,4],accessors:[this.innerIDAccessor],size:[roundTo(this.width,0),roundTo(this.height,0)],hideOnly:this.dataLabel.visible&&e,suppressMarkDraw:!0}),n.remove(),e&&a.attr("text-anchor",(function(e){return"outside"!==t.dataLabel.placement&&t.linkConfig.visible?e.x0<t.innerPaddedWidth/2?"start":"end":e.x0<t.innerPaddedWidth/2?"end":"start"})).attr("x",(function(e){return t.linkConfig.visible?"outside"===t.dataLabel.placement?e.x0<t.innerPaddedWidth/2?e.x0:e.x1:e.x0<t.innerPaddedWidth/2?e.x1:e.x0:e.x0<t.innerPaddedWidth/2?t.noLinksLeftPadding:t.noLinksLeftPadding+t.widthAllNodesNoLinks+t.nodeConfig.width})).attr("y",(function(t){return(t.y1+t.y0)/2})).attr("dx",(function(e){return"outside"!==t.dataLabel.placement&&t.linkConfig.visible?e.x0<t.innerPaddedWidth/2?"0.5em":"-0.5em":e.x0<t.innerPaddedWidth/2?"-0.5em":"0.5em"})).attr("dy","0.4em"),a.classed("collision-added",!1)}}},t.prototype.updateInteractionState=function(){var t=this;this.removeTemporaryClickedLinks(this.svg.node()),this.updateLinks.interrupt("opacity");var e=this.linkConfig.visible?this.linkConfig.opacity:0;this.updateLinks.attr("stroke-opacity",(function(i){return checkInteraction(i.data,e,t.hoverOpacity,t.hoverHighlight,t.clickHighlight,t.innerInteractionKeys)})).attr("stroke",(function(e){return t.clickHighlight.length>0&&checkClicked(e.data,t.clickHighlight,t.innerInteractionKeys)&&t.clickStyle.color?visaColors[t.clickStyle.color]||t.clickStyle.color:t.hoverHighlight&&checkHovered(e.data,t.hoverHighlight,t.innerInteractionKeys)&&t.hoverStyle.color?visaColors[t.hoverStyle.color]||t.hoverStyle.color:"group"===t.innerLinkFillMode?t.colorArr[t.groupKeys.indexOf(e[t.groupAccessor])]:"none"===t.innerLinkFillMode?t.colorArr[0]||"#E4E4E4":"link"===t.innerLinkFillMode?t.colorArr[e.index]:"source"===t.innerLinkFillMode?t.colorArr[e.source.index]:t.colorArr[e.target.index]})),this.updateLinks.each((function(e,i,s){t.clickHighlight&&t.clickHighlight.length>0&&checkClicked(e.data,t.clickHighlight,t.innerInteractionKeys)&&t.drawDuplicateClickedLink(s[i],e)}))},t.prototype.bindInteractivity=function(){var t=this;this.updateLinks.on("click",this.suppressEvents?null:function(e,i,s){return t.onClickHandler(e,s[i])}).on("mouseover",this.suppressEvents?null:function(e,i,s){return t.onHoverHandler(e,s[i])}).on("mouseout",this.suppressEvents?null:function(){return t.onMouseOutHandler()})},t.prototype.drawAnnotations=function(){var t=this,e=this.preppedData,i=[];this.annotations.forEach((function(s){var a=Object.assign({},s),r=s.data;if(e&&r)if("node"===a.positionType&&a.data.hasOwnProperty(t.innerIDAccessor)){var l=e.nodes.findIndex((function(e){return e[t.innerIDAccessor]===a.data[t.innerIDAccessor]}));r=e.nodes[l]}else if("source"===a.positionType||"target"===a.positionType&&a.data.hasOwnProperty(t.sourceAccessor)&&a.data.hasOwnProperty(t.targetAccessor)){l=e.links.findIndex((function(e){return e.data[t.sourceAccessor]===a.data[t.sourceAccessor]&&e.data[t.targetAccessor]===a.data[t.targetAccessor]}));r=e.links[l]}a.positionType&&r&&("target"===a.positionType&&r.target?(a.x=r.target.x0,a.y=r.y1):"source"===a.positionType&&r.source?(a.x=r.source.x1,a.y=r.y0):"node"===a.positionType&&(a.x=r.x1,a.y=(r.y1+r.y0)/2)),delete a.data,i.push(a)})),annotate({source:this.rootG.node(),data:i,ignoreScales:!0,width:this.width,height:this.height,padding:this.padding,margin:this.margin,bitmaps:this.bitmaps})},t.prototype.setColors=function(){this.colorArr=this.colors?convertVisaColor(this.colors):getColors(this.colorPalette,this.nodeList.length)},t.prototype.setTagLevels=function(){this.topLevel=findTagLevel(this.highestHeadingLevel),this.bottomLevel=findTagLevel(this.highestHeadingLevel,3)},t.prototype.setChartDescriptionWrapper=function(){initializeDescriptionRoot({language:this.getLanguageString(),rootEle:this.alluvialDiagramEl,title:this.accessibility.title||this.mainTitle,chartTag:"alluvial-diagram",uniqueID:this.chartID,highestHeadingLevel:this.highestHeadingLevel,redraw:this.shouldRedrawWrapper,disableKeyNav:this.suppressEvents&&!1===this.accessibility.elementsAreInterface&&this.accessibility.keyboardNavConfig&&this.accessibility.keyboardNavConfig.disabled}),this.shouldRedrawWrapper=!1},t.prototype.setParentSVGAccessibility=function(){var t=scopeDataKeys(this,chartAccessors,"alluvial-diagram");setAccessibilityController({language:this.getLanguageString(),node:this.svg.node(),chartTag:"alluvial-diagram",title:this.accessibility.title||this.mainTitle,description:this.subTitle,uniqueID:this.chartID,geomType:"link",includeKeyNames:this.accessibility.includeDataKeyNames,dataKeys:t,dataKeyNames:this.dataKeyNames,groupAccessor:this.innerIDAccessor,groupKeys:["value"],groupName:"node",disableKeyNav:this.suppressEvents&&!1===this.accessibility.elementsAreInterface&&this.accessibility.keyboardNavConfig&&this.accessibility.keyboardNavConfig.disabled})},t.prototype.setGeometryAccessibilityAttributes=function(){this.updateLinks.each((function(t,e,i){initializeElementAccess(i[e])}))},t.prototype.setGeometryAriaLabels=function(){var t=this,e=scopeDataKeys(this,chartAccessors,"alluvial-diagram");this.updateLinks.each((function(i,s,a){setElementFocusHandler({node:a[s],geomType:"link",includeKeyNames:t.accessibility.includeDataKeyNames,dataKeys:e,dataKeyNames:t.dataKeyNames,groupName:"node",uniqueID:t.chartID,disableKeyNav:t.suppressEvents&&!1===t.accessibility.elementsAreInterface&&t.accessibility.keyboardNavConfig&&t.accessibility.keyboardNavConfig.disabled}),setElementAccessID({node:a[s],uniqueID:t.chartID})}))},t.prototype.setGroupAccessibilityID=function(){var t=this;this.updateNodes.each((function(e,i,s){setElementAccessID({node:s[i],uniqueID:t.chartID})}))},t.prototype.setChartCountAccessibility=function(){setAccessChartCounts({rootEle:this.alluvialDiagramEl,parentGNode:this.linkG.node(),chartTag:"alluvial-diagram",geomType:"link",groupName:"node"})},t.prototype.setSelectedClass=function(){var t=this;this.updateLinks.classed("highlight",(function(e){var i=checkInteraction(e.data,!0,!1,"",t.clickHighlight,t.innerInteractionKeys);return!(!t.clickHighlight||!t.clickHighlight.length)&&i})).each((function(e,i,s){var a=checkInteraction(e.data,!0,!1,"",t.clickHighlight,t.innerInteractionKeys);a=!(!t.clickHighlight||!t.clickHighlight.length)&&a;var r=t.accessibility.elementsAreInterface;setElementInteractionAccessState(s[i],a,r)}))},t.prototype.setChartAccessibilityTitle=function(){setAccessTitle(this.getLanguageString(),this.alluvialDiagramEl,this.accessibility.title||this.mainTitle)},t.prototype.setChartAccessibilitySubtitle=function(){setAccessSubtitle(this.getLanguageString(),this.alluvialDiagramEl,this.subTitle)},t.prototype.setChartAccessibilityLongDescription=function(){setAccessLongDescription(this.getLanguageString(),this.alluvialDiagramEl,this.accessibility.longDescription)},t.prototype.setChartAccessibilityExecutiveSummary=function(){setAccessExecutiveSummary(this.getLanguageString(),this.alluvialDiagramEl,this.accessibility.executiveSummary)},t.prototype.setChartAccessibilityPurpose=function(){setAccessPurpose(this.getLanguageString(),this.alluvialDiagramEl,this.accessibility.purpose)},t.prototype.setChartAccessibilityContext=function(){setAccessContext(this.getLanguageString(),this.alluvialDiagramEl,this.accessibility.contextExplanation)},t.prototype.setChartAccessibilityStatisticalNotes=function(){setAccessStatistics(this.getLanguageString(),this.alluvialDiagramEl,this.accessibility.statisticalNotes)},t.prototype.setChartAccessibilityStructureNotes=function(){setAccessStructure(this.getLanguageString(),this.alluvialDiagramEl,this.accessibility.structureNotes)},t.prototype.setAnnotationAccessibility=function(){setAccessAnnotation(this.getLanguageString(),this.alluvialDiagramEl,this.annotations)},t.prototype.onChangeHandler=function(){if(this.accessibility&&"function"==typeof this.accessibility.onChangeFunc){var t={updated:this.updated,added:this.enterSize,removed:this.exitSize};this.accessibility.onChangeFunc(t)}this.updated=!1,this.enterSize=0,this.exitSize=0},t.prototype.onClickHandler=function(t,e){this.clickEvent.emit({data:t.data,target:e})},t.prototype.onHoverHandler=function(t,e){overrideTitleTooltip(this.chartID,!0),this.hoverEvent.emit({data:t.data,target:e}),this.showTooltip&&this.eventsTooltip({data:t.data,evt:_visa_charts_utils_umd_92c8af99_js__WEBPACK_IMPORTED_MODULE_22__.e,isToShow:!0})},t.prototype.onMouseOutHandler=function(){overrideTitleTooltip(this.chartID,!1),this.mouseOutEvent.emit(),this.showTooltip&&this.eventsTooltip({isToShow:!1})},t.prototype.setTooltipInitialStyle=function(){initTooltipStyle(this.tooltipG)},t.prototype.eventsTooltip=function(t){var e=t.data,i=t.evt,s=t.isToShow;drawTooltip({root:this.tooltipG,data:e,event:i,isToShow:s,tooltipLabel:this.tooltipLabel,dataKeyNames:this.dataKeyNames,groupAccessor:this.groupAccessor,xAccessor:this.sourceAccessor,yAccessor:this.targetAccessor,valueAccessor:this.valueAccessor,ordinalAccessor:this.innerIDAccessor,chartType:"alluvial-diagram"})},t.prototype.render=function(){return this.drawStartEvent.emit({chartID:this.chartID}),this.init(),this.shouldSetLocalizationConfig&&(this.setLocalizationConfig(),this.shouldSetLocalizationConfig=!1),this.shouldSetTagLevels&&(this.setTagLevels(),this.shouldSetTagLevels=!1),this.shouldUpdateData&&(this.prepareData(),this.shouldUpdateData=!1),this.shouldSetDimensions&&(this.setDimensions(),this.shouldSetDimensions=!1),this.shouldValidateLabelText&&(this.validateLabelText(),this.shouldValidateLabelText=!1),this.shouldValidateLinkFillMode&&(this.validateLinkFillMode(),this.shouldValidateLinkFillMode=!1),this.shouldValidateNodeAlignment&&(this.validateNodeAlignment(),this.shouldValidateNodeAlignment=!1),this.shouldValidateInteractionKeys&&(this.validateInteractionKeys(),this.shouldValidateInteractionKeys=!1),this.shouldValidateLinkGroups&&(this.validateLinkGroups(),this.shouldValidateLinkGroups=!0),this.shouldValidateLocalization&&(this.shouldValidateLocalizationProps(),this.shouldValidateLocalization=!1),this.shouldValidateAccessibility&&(this.shouldValidateAccessibilityProps(),this.shouldValidateAccessibility=!1),this.shouldSetColors&&(this.setColors(),this.shouldSetColors=!1),this.shouldValidateIdAccessor&&(this.validateIdAccessor(),this.shouldValidateIdAccessor=!1),this.shouldSetNodeDimensions&&(this.setNodeDimensions(),this.shouldSetNodeDimensions=!1),this.shouldCallSankeyGenerator&&(this.callSankeyGenerator(),this.shouldCallSankeyGenerator=!1),this.shouldUpdateTableData&&(this.setTableData(),this.shouldUpdateTableData=!1),Object(_index_33c35d20_js__WEBPACK_IMPORTED_MODULE_19__.h)("div",null,Object(_index_33c35d20_js__WEBPACK_IMPORTED_MODULE_19__.h)("div",{class:"o-layout"},Object(_index_33c35d20_js__WEBPACK_IMPORTED_MODULE_19__.h)("div",{class:"o-layout--chart"},Object(_index_33c35d20_js__WEBPACK_IMPORTED_MODULE_19__.h)(this.topLevel,{class:"alluvial-main-title vcl-main-title"},this.mainTitle),Object(_index_33c35d20_js__WEBPACK_IMPORTED_MODULE_19__.h)(this.bottomLevel,{class:"visa-ui-text--instructions alluvial-sub-title vcl-sub-title"},this.subTitle),Object(_index_33c35d20_js__WEBPACK_IMPORTED_MODULE_19__.h)("keyboard-instructions",{uniqueID:this.chartID,geomType:"node",groupName:"node collection",language:this.getLanguageString(),chartTag:"alluvial-diagram",width:this.width-(this.margin&&this.margin.right||0),isInteractive:this.accessibility.elementsAreInterface,hasCousinNavigation:"source"===this.innerLinkFillMode||"target"===this.innerLinkFillMode,disabled:this.suppressEvents&&!1===this.accessibility.elementsAreInterface&&this.accessibility.keyboardNavConfig&&this.accessibility.keyboardNavConfig.disabled}),Object(_index_33c35d20_js__WEBPACK_IMPORTED_MODULE_19__.h)("div",{class:"visa-viz-d3-alluvial-container"}),Object(_index_33c35d20_js__WEBPACK_IMPORTED_MODULE_19__.h)("div",{class:"alluvial-tooltip vcl-tooltip",style:{display:this.showTooltip?"block":"none"}}),Object(_index_33c35d20_js__WEBPACK_IMPORTED_MODULE_19__.h)("data-table",{uniqueID:this.chartID,isCompact:!0,language:this.getLanguageString(),tableColumns:this.tableColumns,dataKeyNames:this.dataKeyNames,data:this.tableData,secondaryData:this.secondaryTableData,secondaryTableColumns:this.secondaryTableColumns,padding:this.padding,margin:this.margin,hideDataTable:this.accessibility.hideDataTableButton,unitTest:this.unitTest}))))},t.prototype.init=function(){var t=Object.keys(AlluvialDiagramDefaultValues),e=0,i={hoverOpacity:{exception:0},showTooltip:{exception:!1},mainTitle:{exception:""},subTitle:{exception:""},linkConfig:Object.assign({exception:!1})};for(e=0;e<t.length;e++){var s=!!i[t[e]]&&this[t[e]]===i[t[e]].exception;this[t[e]]=this[t[e]]||s?this[t[e]]:AlluvialDiagramDefaultValues[t[e]]}},Object.defineProperty(t.prototype,"alluvialDiagramEl",{get:function get(){return Object(_index_33c35d20_js__WEBPACK_IMPORTED_MODULE_19__.g)(this)},enumerable:!1,configurable:!0}),Object.defineProperty(t,"watchers",{get:function get(){return{nodeData:["dataWatcher"],linkData:["dataWatcher"],uniqueID:["idWatcher"],highestHeadingLevel:["headingWatcher"],mainTitle:["mainTitleWatcher"],subTitle:["subTitleWatcher"],height:["dimensionWatcher"],width:["dimensionWatcher"],padding:["dimensionWatcher"],margin:["dimensionWatcher"],sourceAccessor:["sourceAccessorWatcher"],targetAccessor:["targetAccessorWatcher"],valueAccessor:["valueAccessorWatcher"],groupAccessor:["groupAccessorWatcher"],nodeIDAccessor:["nodeIDAccessorWatcher"],nodeConfig:["nodeConfigWatcher"],linkConfig:["linkConfigWatcher"],colors:["colorWatcher"],colorPalette:["colorWatcher"],clickStyle:["interactionStyleWatcher"],hoverStyle:["interactionStyleWatcher"],cursor:["cursorWatcher"],hoverOpacity:["hoverOpacityWatcher"],dataLabel:["dataLabelWatcher"],tooltipLabel:["tooltipLabelWatcher"],showTooltip:["showTooltipWatcher"],accessibility:["accessibilityWatcher"],localization:["localizationWatcher"],annotations:["annotationsWatcher"],clickHighlight:["clickWatcher"],hoverHighlight:["hoverWatcher"],interactionKeys:["interactionWatcher"],dataKeyNames:["dataKeyNamesWatcher"],suppressEvents:["suppressWatcher"],unitTest:["unitTestWatcher"]}},enumerable:!1,configurable:!0}),t}();AlluvialDiagram.style=".o-layout{width:100%;display:-ms-flexbox;display:flex;-ms-flex-wrap:wrap;flex-wrap:wrap}.o-layout--chart{width:100%}.is--vertical .o-layout--chart{width:90%}alluvial-diagram{cursor:default}alluvial-diagram .annotations{pointer-events:none}alluvial-diagram .annotations .handle{pointer-events:all}alluvial-diagram .screen-reader-info{position:absolute;left:-9999px;top:auto;width:1px;height:1px;overflow:hidden}alluvial-diagram .data-table-link{color:#767676;text-decoration:none;font-size:12px;margin-left:5%}alluvial-diagram .hidden{display:none}alluvial-diagram .node rect{cursor:move}alluvial-diagram .node text{pointer-events:none;text-shadow:0 1px 0 #fff}alluvial-diagram .link{fill:none;stroke:#000;stroke-opacity:0.2}alluvial-diagram .link:hover{stroke-opacity:0.5}"},"./packages/charts/dist/esm-es5/circle-1a7bf607.js":function(module,__webpack_exports__,__webpack_require__){"use strict";function circleIn(c){return 1-Math.sqrt(1-c*c)}__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"c",(function(){return circleIn}))},"./packages/charts/dist/esm-es5/constant-9f4692a3.js":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"c",(function(){return constant})),__webpack_require__.d(__webpack_exports__,"p",(function(){return path}));var pi=Math.PI,tau=2*pi,tauEpsilon=tau-1e-6;function Path(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function path(){return new Path}function constant(t){return function i(){return t}}Path.prototype=path.prototype={constructor:Path,moveTo:function moveTo(t,i){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+i)},closePath:function closePath(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function lineTo(t,i){this._+="L"+(this._x1=+t)+","+(this._y1=+i)},quadraticCurveTo:function quadraticCurveTo(t,i,s,h){this._+="Q"+ +t+","+ +i+","+(this._x1=+s)+","+(this._y1=+h)},bezierCurveTo:function bezierCurveTo(t,i,s,h,n,_){this._+="C"+ +t+","+ +i+","+ +s+","+ +h+","+(this._x1=+n)+","+(this._y1=+_)},arcTo:function arcTo(t,i,s,h,n){t=+t,i=+i,s=+s,h=+h,n=+n;var _=this._x1,a=this._y1,o=s-t,e=h-i,r=_-t,u=a-i,c=r*r+u*u;if(n<0)throw new Error("negative radius: "+n);if(null===this._x1)this._+="M"+(this._x1=t)+","+(this._y1=i);else if(c>1e-6)if(Math.abs(u*o-e*r)>1e-6&&n){var f=s-_,l=h-a,p=o*o+e*e,x=f*f+l*l,y=Math.sqrt(p),M=Math.sqrt(c),v=n*Math.tan((pi-Math.acos((p+c-x)/(2*y*M)))/2),P=v/M,b=v/y;Math.abs(P-1)>1e-6&&(this._+="L"+(t+P*r)+","+(i+P*u)),this._+="A"+n+","+n+",0,0,"+ +(u*f>r*l)+","+(this._x1=t+b*o)+","+(this._y1=i+b*e)}else this._+="L"+(this._x1=t)+","+(this._y1=i);else;},arc:function arc(t,i,s,h,n,_){t=+t,i=+i,_=!!_;var a=(s=+s)*Math.cos(h),o=s*Math.sin(h),e=t+a,r=i+o,u=1^_,c=_?h-n:n-h;if(s<0)throw new Error("negative radius: "+s);null===this._x1?this._+="M"+e+","+r:(Math.abs(this._x1-e)>1e-6||Math.abs(this._y1-r)>1e-6)&&(this._+="L"+e+","+r),s&&(c<0&&(c=c%tau+tau),c>tauEpsilon?this._+="A"+s+","+s+",0,1,"+u+","+(t-a)+","+(i-o)+"A"+s+","+s+",0,1,"+u+","+(this._x1=e)+","+(this._y1=r):c>1e-6&&(this._+="A"+s+","+s+",0,"+ +(c>=pi)+","+u+","+(this._x1=t+s*Math.cos(n))+","+(this._y1=i+s*Math.sin(n))))},rect:function rect(t,i,s,h){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+i)+"h"+ +s+"v"+ +h+"h"+-s+"Z"},toString:function toString(){return this._}}},"./packages/charts/dist/esm-es5/max-d011e4a4.js":function(module,__webpack_exports__,__webpack_require__){"use strict";function ascending(n,i){return n<i?-1:n>i?1:n>=i?0:NaN}function bisector(n){return 1===n.length&&(n=function ascendingComparator(n){return function(i,e){return ascending(n(i),e)}}(n)),{left:function left(i,e,t,l){for(null==t&&(t=0),null==l&&(l=i.length);t<l;){var r=t+l>>>1;n(i[r],e)<0?t=r+1:l=r}return t},right:function right(i,e,t,l){for(null==t&&(t=0),null==l&&(l=i.length);t<l;){var r=t+l>>>1;n(i[r],e)>0?l=r:t=r+1}return t}}}__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"a",(function(){return bisector})),__webpack_require__.d(__webpack_exports__,"b",(function(){return bisectRight})),__webpack_require__.d(__webpack_exports__,"m",(function(){return max}));var bisectRight=bisector(ascending).right;function max(n,i){var l,r,e=n.length,t=-1;if(null==i){for(;++t<e;)if(null!=(l=n[t])&&l>=l)for(r=l;++t<e;)null!=(l=n[t])&&l>r&&(r=l)}else for(;++t<e;)if(null!=(l=i(n[t],t,n))&&l>=l)for(r=l;++t<e;)null!=(l=i(n[t],t,n))&&l>r&&(r=l);return r}},"./packages/charts/dist/esm-es5/min-25ce8dfd.js":function(module,__webpack_exports__,__webpack_require__){"use strict";function min(l,i){var u,f,n=l.length,e=-1;if(null==i){for(;++e<n;)if(null!=(u=l[e])&&u>=u)for(f=u;++e<n;)null!=(u=l[e])&&f>u&&(f=u)}else for(;++e<n;)if(null!=(u=i(l[e],e,l))&&u>=u)for(f=u;++e<n;)null!=(u=i(l[e],e,l))&&f>u&&(f=u);return f}__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"m",(function(){return min}))},"./packages/charts/dist/esm-es5/point-daba0271.js":function(module,__webpack_exports__,__webpack_require__){"use strict";function x(n){return n[0]}function y(n){return n[1]}__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"x",(function(){return x})),__webpack_require__.d(__webpack_exports__,"y",(function(){return y}))}}]);