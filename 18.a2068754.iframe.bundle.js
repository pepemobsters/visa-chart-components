(window.webpackJsonp=window.webpackJsonp||[]).push([[18,27,28,34],{"./packages/charts/dist/esm-es5/circle-1a7bf607.js":function(module,__webpack_exports__,__webpack_require__){"use strict";function circleIn(c){return 1-Math.sqrt(1-c*c)}__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"c",(function(){return circleIn}))},"./packages/charts/dist/esm-es5/constant-9f4692a3.js":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"c",(function(){return constant})),__webpack_require__.d(__webpack_exports__,"p",(function(){return path}));var pi=Math.PI,tau=2*pi,tauEpsilon=tau-1e-6;function Path(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function path(){return new Path}function constant(t){return function i(){return t}}Path.prototype=path.prototype={constructor:Path,moveTo:function moveTo(t,i){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+i)},closePath:function closePath(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function lineTo(t,i){this._+="L"+(this._x1=+t)+","+(this._y1=+i)},quadraticCurveTo:function quadraticCurveTo(t,i,s,h){this._+="Q"+ +t+","+ +i+","+(this._x1=+s)+","+(this._y1=+h)},bezierCurveTo:function bezierCurveTo(t,i,s,h,n,_){this._+="C"+ +t+","+ +i+","+ +s+","+ +h+","+(this._x1=+n)+","+(this._y1=+_)},arcTo:function arcTo(t,i,s,h,n){t=+t,i=+i,s=+s,h=+h,n=+n;var _=this._x1,a=this._y1,o=s-t,e=h-i,r=_-t,u=a-i,c=r*r+u*u;if(n<0)throw new Error("negative radius: "+n);if(null===this._x1)this._+="M"+(this._x1=t)+","+(this._y1=i);else if(c>1e-6)if(Math.abs(u*o-e*r)>1e-6&&n){var f=s-_,l=h-a,p=o*o+e*e,x=f*f+l*l,y=Math.sqrt(p),M=Math.sqrt(c),v=n*Math.tan((pi-Math.acos((p+c-x)/(2*y*M)))/2),P=v/M,b=v/y;Math.abs(P-1)>1e-6&&(this._+="L"+(t+P*r)+","+(i+P*u)),this._+="A"+n+","+n+",0,0,"+ +(u*f>r*l)+","+(this._x1=t+b*o)+","+(this._y1=i+b*e)}else this._+="L"+(this._x1=t)+","+(this._y1=i);else;},arc:function arc(t,i,s,h,n,_){t=+t,i=+i,_=!!_;var a=(s=+s)*Math.cos(h),o=s*Math.sin(h),e=t+a,r=i+o,u=1^_,c=_?h-n:n-h;if(s<0)throw new Error("negative radius: "+s);null===this._x1?this._+="M"+e+","+r:(Math.abs(this._x1-e)>1e-6||Math.abs(this._y1-r)>1e-6)&&(this._+="L"+e+","+r),s&&(c<0&&(c=c%tau+tau),c>tauEpsilon?this._+="A"+s+","+s+",0,1,"+u+","+(t-a)+","+(i-o)+"A"+s+","+s+",0,1,"+u+","+(this._x1=e)+","+(this._y1=r):c>1e-6&&(this._+="A"+s+","+s+",0,"+ +(c>=pi)+","+u+","+(this._x1=t+s*Math.cos(n))+","+(this._y1=i+s*Math.sin(n))))},rect:function rect(t,i,s,h){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+i)+"h"+ +s+"v"+ +h+"h"+-s+"Z"},toString:function toString(){return this._}}},"./packages/charts/dist/esm-es5/pie-chart.entry.js":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"pie_chart",(function(){return PieChart}));__webpack_require__("./node_modules/core-js/modules/es.array.slice.js"),__webpack_require__("./node_modules/core-js/modules/es.array.concat.js"),__webpack_require__("./node_modules/core-js/modules/es.array.sort.js"),__webpack_require__("./node_modules/core-js/modules/es.promise.js"),__webpack_require__("./node_modules/core-js/modules/es.object.to-string.js"),__webpack_require__("./node_modules/core-js/modules/es.number.constructor.js"),__webpack_require__("./node_modules/core-js/modules/es.array.map.js"),__webpack_require__("./node_modules/core-js/modules/es.parse-float.js"),__webpack_require__("./node_modules/core-js/modules/es.array.for-each.js"),__webpack_require__("./node_modules/core-js/modules/web.dom-collections.for-each.js"),__webpack_require__("./node_modules/core-js/modules/es.object.assign.js"),__webpack_require__("./node_modules/core-js/modules/es.object.keys.js"),__webpack_require__("./node_modules/core-js/modules/es.array.filter.js"),__webpack_require__("./node_modules/core-js/modules/es.number.epsilon.js"),__webpack_require__("./node_modules/core-js/modules/es.object.define-property.js");var _index_33c35d20_js__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__("./packages/charts/dist/esm-es5/index-33c35d20.js"),_visa_charts_utils_umd_8068485b_js__WEBPACK_IMPORTED_MODULE_16__=__webpack_require__("./packages/charts/dist/esm-es5/visa-charts-utils.umd-8068485b.js"),_index_b17e4f46_js__WEBPACK_IMPORTED_MODULE_17__=__webpack_require__("./packages/charts/dist/esm-es5/index-b17e4f46.js"),_constant_9f4692a3_js__WEBPACK_IMPORTED_MODULE_18__=__webpack_require__("./packages/charts/dist/esm-es5/constant-9f4692a3.js"),_circle_1a7bf607_js__WEBPACK_IMPORTED_MODULE_19__=__webpack_require__("./packages/charts/dist/esm-es5/circle-1a7bf607.js"),_value_ed2395a3_js__WEBPACK_IMPORTED_MODULE_20__=__webpack_require__("./packages/charts/dist/esm-es5/value-ed2395a3.js"),__spreadArray=function(t,e,i){if(i||2===arguments.length)for(var r,s=0,a=e.length;s<a;s++)!r&&s in e||(r||(r=Array.prototype.slice.call(e,0,s)),r[s]=e[s]);return t.concat(r||Array.prototype.slice.call(e))},abs=Math.abs,atan2=Math.atan2,cos=Math.cos,max=Math.max,min=Math.min,sin=Math.sin,sqrt=Math.sqrt,pi=Math.PI,halfPi=pi/2,tau=2*pi;function acos(t){return t>1?0:t<-1?pi:Math.acos(t)}function asin(t){return t>=1?halfPi:t<=-1?-halfPi:Math.asin(t)}function arcInnerRadius(t){return t.innerRadius}function arcOuterRadius(t){return t.outerRadius}function arcStartAngle(t){return t.startAngle}function arcEndAngle(t){return t.endAngle}function arcPadAngle(t){return t&&t.padAngle}function intersect(t,e,i,s,a,r,l,n){var o=i-t,c=s-e,h=l-a,u=n-r,d=u*o-h*c;if(!(d*d<1e-12))return[t+(d=(h*(e-r)-u*(t-a))/d)*o,e+d*c]}function cornerTangents(t,e,i,s,a,r,l){var n=t-i,o=e-s,c=(l?r:-r)/sqrt(n*n+o*o),h=c*o,u=-c*n,d=t+h,p=e+u,f=i+h,y=s+u,v=(d+f)/2,b=(p+y)/2,g=f-d,m=y-p,A=g*g+m*m,C=a-r,S=d*y-f*p,L=(m<0?-1:1)*sqrt(max(0,C*C*A-S*S)),D=(S*m-g*L)/A,x=(-S*g-m*L)/A,T=(S*m+g*L)/A,E=(-S*g+m*L)/A,k=D-v,R=x-b,I=T-v,P=E-b;return k*k+R*R>I*I+P*P&&(D=T,x=E),{cx:D,cy:x,x01:-h,y01:-u,x11:D*(a/C-1),y11:x*(a/C-1)}}function descending(t,e){return e<t?-1:e>t?1:e>=t?0:NaN}function identity(t){return t}var propDefaultValues=_visa_charts_utils_umd_8068485b_js__WEBPACK_IMPORTED_MODULE_16__.v.propDefaultValues,PieChartDefaultValues=function t(){};PieChartDefaultValues.mainTitle="Pie Chart Title",PieChartDefaultValues.subTitle="This is the pie chart's subtitle",PieChartDefaultValues.centerTitle="",PieChartDefaultValues.centerSubTitle="",PieChartDefaultValues.height=325,PieChartDefaultValues.width=600,PieChartDefaultValues.margin={top:30,bottom:30,right:30,left:30},PieChartDefaultValues.padding={top:20,bottom:50,right:70,left:70},PieChartDefaultValues.ordinalAccessor="label",PieChartDefaultValues.valueAccessor="value",PieChartDefaultValues.innerRatio=.7,PieChartDefaultValues.showEdgeLine=!1,PieChartDefaultValues.showPercentage=!0,PieChartDefaultValues.showLabelNote=!0,PieChartDefaultValues.labelOffset=25,PieChartDefaultValues.accessibility=propDefaultValues.accessibility,PieChartDefaultValues.animationConfig=propDefaultValues.animationConfig,PieChartDefaultValues.highestHeadingLevel=propDefaultValues.highestHeadingLevel,PieChartDefaultValues.colorPalette=propDefaultValues.colorPaletteSequential,PieChartDefaultValues.sortOrder=propDefaultValues.sortOrderAsc,PieChartDefaultValues.hoverStyle=propDefaultValues.hoverStyle,PieChartDefaultValues.clickStyle=propDefaultValues.clickStyle,PieChartDefaultValues.referenceStyle=propDefaultValues.referenceStyle,PieChartDefaultValues.hoverOpacity=propDefaultValues.hoverOpacity,PieChartDefaultValues.cursor=propDefaultValues.cursor,PieChartDefaultValues.showTooltip=propDefaultValues.showTooltip,PieChartDefaultValues.dataLabel=propDefaultValues.dataLabelNormalizedOut,PieChartDefaultValues.tooltipLabel=propDefaultValues.tooltipLabel,PieChartDefaultValues.annotations=propDefaultValues.annotations,PieChartDefaultValues.suppressEvents=propDefaultValues.suppressEvents,PieChartDefaultValues.clickHighlight=propDefaultValues.clickHighlight;var checkAttributeTransitions=_visa_charts_utils_umd_8068485b_js__WEBPACK_IMPORTED_MODULE_16__.v.checkAttributeTransitions,createTextStrokeFilter=_visa_charts_utils_umd_8068485b_js__WEBPACK_IMPORTED_MODULE_16__.v.createTextStrokeFilter,drawHoverStrokes=_visa_charts_utils_umd_8068485b_js__WEBPACK_IMPORTED_MODULE_16__.v.drawHoverStrokes,removeHoverStrokes=_visa_charts_utils_umd_8068485b_js__WEBPACK_IMPORTED_MODULE_16__.v.removeHoverStrokes,buildStrokes=_visa_charts_utils_umd_8068485b_js__WEBPACK_IMPORTED_MODULE_16__.v.buildStrokes,convertColorsToTextures=_visa_charts_utils_umd_8068485b_js__WEBPACK_IMPORTED_MODULE_16__.v.convertColorsToTextures,initializeDescriptionRoot=_visa_charts_utils_umd_8068485b_js__WEBPACK_IMPORTED_MODULE_16__.v.initializeDescriptionRoot,initializeElementAccess=_visa_charts_utils_umd_8068485b_js__WEBPACK_IMPORTED_MODULE_16__.v.initializeElementAccess,setElementFocusHandler=_visa_charts_utils_umd_8068485b_js__WEBPACK_IMPORTED_MODULE_16__.v.setElementFocusHandler,setElementAccessID=_visa_charts_utils_umd_8068485b_js__WEBPACK_IMPORTED_MODULE_16__.v.setElementAccessID,setAccessibilityController=_visa_charts_utils_umd_8068485b_js__WEBPACK_IMPORTED_MODULE_16__.v.setAccessibilityController,hideNonessentialGroups=_visa_charts_utils_umd_8068485b_js__WEBPACK_IMPORTED_MODULE_16__.v.hideNonessentialGroups,setAccessTitle=_visa_charts_utils_umd_8068485b_js__WEBPACK_IMPORTED_MODULE_16__.v.setAccessTitle,setAccessSubtitle=_visa_charts_utils_umd_8068485b_js__WEBPACK_IMPORTED_MODULE_16__.v.setAccessSubtitle,setAccessLongDescription=_visa_charts_utils_umd_8068485b_js__WEBPACK_IMPORTED_MODULE_16__.v.setAccessLongDescription,setAccessExecutiveSummary=_visa_charts_utils_umd_8068485b_js__WEBPACK_IMPORTED_MODULE_16__.v.setAccessExecutiveSummary,setAccessPurpose=_visa_charts_utils_umd_8068485b_js__WEBPACK_IMPORTED_MODULE_16__.v.setAccessPurpose,setAccessContext=_visa_charts_utils_umd_8068485b_js__WEBPACK_IMPORTED_MODULE_16__.v.setAccessContext,setAccessStatistics=_visa_charts_utils_umd_8068485b_js__WEBPACK_IMPORTED_MODULE_16__.v.setAccessStatistics,setAccessChartCounts=_visa_charts_utils_umd_8068485b_js__WEBPACK_IMPORTED_MODULE_16__.v.setAccessChartCounts,setAccessStructure=_visa_charts_utils_umd_8068485b_js__WEBPACK_IMPORTED_MODULE_16__.v.setAccessStructure,setAccessAnnotation=_visa_charts_utils_umd_8068485b_js__WEBPACK_IMPORTED_MODULE_16__.v.setAccessAnnotation,retainAccessFocus=_visa_charts_utils_umd_8068485b_js__WEBPACK_IMPORTED_MODULE_16__.v.retainAccessFocus,checkAccessFocus=_visa_charts_utils_umd_8068485b_js__WEBPACK_IMPORTED_MODULE_16__.v.checkAccessFocus,setElementInteractionAccessState=_visa_charts_utils_umd_8068485b_js__WEBPACK_IMPORTED_MODULE_16__.v.setElementInteractionAccessState,setAccessibilityDescriptionWidth=_visa_charts_utils_umd_8068485b_js__WEBPACK_IMPORTED_MODULE_16__.v.setAccessibilityDescriptionWidth,autoTextColor=_visa_charts_utils_umd_8068485b_js__WEBPACK_IMPORTED_MODULE_16__.v.autoTextColor,annotate=_visa_charts_utils_umd_8068485b_js__WEBPACK_IMPORTED_MODULE_16__.v.annotate,chartAccessors=_visa_charts_utils_umd_8068485b_js__WEBPACK_IMPORTED_MODULE_16__.v.chartAccessors,checkInteraction=_visa_charts_utils_umd_8068485b_js__WEBPACK_IMPORTED_MODULE_16__.v.checkInteraction,checkClicked=_visa_charts_utils_umd_8068485b_js__WEBPACK_IMPORTED_MODULE_16__.v.checkClicked,checkHovered=_visa_charts_utils_umd_8068485b_js__WEBPACK_IMPORTED_MODULE_16__.v.checkHovered,convertVisaColor=_visa_charts_utils_umd_8068485b_js__WEBPACK_IMPORTED_MODULE_16__.v.convertVisaColor,drawTooltip=_visa_charts_utils_umd_8068485b_js__WEBPACK_IMPORTED_MODULE_16__.v.drawTooltip,formatStats=_visa_charts_utils_umd_8068485b_js__WEBPACK_IMPORTED_MODULE_16__.v.formatStats,getColors=_visa_charts_utils_umd_8068485b_js__WEBPACK_IMPORTED_MODULE_16__.v.getColors,getLicenses=_visa_charts_utils_umd_8068485b_js__WEBPACK_IMPORTED_MODULE_16__.v.getLicenses,getPadding=_visa_charts_utils_umd_8068485b_js__WEBPACK_IMPORTED_MODULE_16__.v.getPadding,getScopedData=_visa_charts_utils_umd_8068485b_js__WEBPACK_IMPORTED_MODULE_16__.v.getScopedData,initTooltipStyle=_visa_charts_utils_umd_8068485b_js__WEBPACK_IMPORTED_MODULE_16__.v.initTooltipStyle,transitionEndAll=_visa_charts_utils_umd_8068485b_js__WEBPACK_IMPORTED_MODULE_16__.v.transitionEndAll,overrideTitleTooltip=_visa_charts_utils_umd_8068485b_js__WEBPACK_IMPORTED_MODULE_16__.v.overrideTitleTooltip,scopeDataKeys=_visa_charts_utils_umd_8068485b_js__WEBPACK_IMPORTED_MODULE_16__.v.scopeDataKeys,visaColors=_visa_charts_utils_umd_8068485b_js__WEBPACK_IMPORTED_MODULE_16__.v.visaColors,validateAccessibilityProps=_visa_charts_utils_umd_8068485b_js__WEBPACK_IMPORTED_MODULE_16__.v.validateAccessibilityProps,findTagLevel=_visa_charts_utils_umd_8068485b_js__WEBPACK_IMPORTED_MODULE_16__.v.findTagLevel,prepareRenderChange=_visa_charts_utils_umd_8068485b_js__WEBPACK_IMPORTED_MODULE_16__.v.prepareRenderChange,roundTo=_visa_charts_utils_umd_8068485b_js__WEBPACK_IMPORTED_MODULE_16__.v.roundTo,getTextWidth=_visa_charts_utils_umd_8068485b_js__WEBPACK_IMPORTED_MODULE_16__.v.getTextWidth,resolveLabelCollision=_visa_charts_utils_umd_8068485b_js__WEBPACK_IMPORTED_MODULE_16__.v.resolveLabelCollision,PieChart=function(){function t(t){var e=this;Object(_index_33c35d20_js__WEBPACK_IMPORTED_MODULE_15__.r)(this,t),this.clickEvent=Object(_index_33c35d20_js__WEBPACK_IMPORTED_MODULE_15__.c)(this,"clickEvent",7),this.hoverEvent=Object(_index_33c35d20_js__WEBPACK_IMPORTED_MODULE_15__.c)(this,"hoverEvent",7),this.mouseOutEvent=Object(_index_33c35d20_js__WEBPACK_IMPORTED_MODULE_15__.c)(this,"mouseOutEvent",7),this.initialLoadEvent=Object(_index_33c35d20_js__WEBPACK_IMPORTED_MODULE_15__.c)(this,"initialLoadEvent",7),this.initialLoadEndEvent=Object(_index_33c35d20_js__WEBPACK_IMPORTED_MODULE_15__.c)(this,"initialLoadEndEvent",7),this.drawStartEvent=Object(_index_33c35d20_js__WEBPACK_IMPORTED_MODULE_15__.c)(this,"drawStartEvent",7),this.drawEndEvent=Object(_index_33c35d20_js__WEBPACK_IMPORTED_MODULE_15__.c)(this,"drawEndEvent",7),this.transitionEndEvent=Object(_index_33c35d20_js__WEBPACK_IMPORTED_MODULE_15__.c)(this,"transitionEndEvent",7),this.shouldValidateAccessibility=!0,this.updated=!0,this.shouldValidate=!1,this.shouldUpdateCenterTitle=!1,this.shouldUpdateTableData=!1,this.shouldResetRoot=!1,this.shouldUpdateLabels=!1,this.shouldUpdateAnnotations=!1,this.shouldUpdateData=!1,this.shouldSetColors=!1,this.shouldUpdateCursor=!1,this.shouldUpdateGeometries=!1,this.shouldUpdateEdgeLines=!1,this.shouldUpdateInnerRatio=!1,this.shouldUpdateLayout=!1,this.shouldSetPieRadius=!1,this.shouldprepareChartData=!1,this.shouldUpdateReferenceLines=!1,this.shouldValidateInteractionKeys=!1,this.shouldSetGlobalSelections=!1,this.shouldSetTestingAttributes=!1,this.shouldEnterUpdateExit=!1,this.shouldBindInteractivity=!1,this.shouldSetSelectionClass=!1,this.shouldDrawInteractionState=!1,this.shouldSetLabelOpacity=!1,this.shouldCheckLabelColor=!1,this.shouldUpdateScales=!1,this.shouldUpdateDescriptionWrapper=!1,this.shouldSetChartAccessibilityTitle=!1,this.shouldSetChartAccessibilitySubtitle=!1,this.shouldSetChartAccessibilityLongDescription=!1,this.shouldSetChartAccessibilityExecutiveSummary=!1,this.shouldSetChartAccessibilityStatisticalNotes=!1,this.shouldSetChartAccessibilityStructureNotes=!1,this.shouldSetParentSVGAccessibility=!1,this.shouldSetGeometryAccessibilityAttributes=!1,this.shouldSetGeometryAriaLabels=!1,this.shouldSetGroupAccessibilityAttributes=!1,this.shouldSetGroupAccessibilityLabel=!1,this.shouldSetChartAccessibilityPurpose=!1,this.shouldSetChartAccessibilityContext=!1,this.shouldRedrawWrapper=!1,this.shouldSetTagLevels=!1,this.shouldSetChartAccessibilityCount=!1,this.shouldSetAnnotationAccessibility=!1,this.shouldSetTextures=!1,this.shouldSetStrokes=!1,this.strokes={},this.topLevel="h2",this.bottomLevel="p",this.textTreatmentHandler=function(t,i,s,a){var r=a||e.dataLabel.placement,l=e.clickHighlight&&e.clickHighlight.length>0&&checkClicked(t.data,e.clickHighlight,e.innerInteractionKeys)&&e.clickStyle.color?visaColors[e.clickStyle.color]||e.clickStyle.color:e.hoverHighlight&&checkHovered(t.data,e.hoverHighlight,e.innerInteractionKeys)&&e.hoverStyle.color?visaColors[e.hoverStyle.color]||e.hoverStyle.color:e.preparedColors[i],n="inside"===r?autoTextColor(l):visaColors.dark_text,o=Object(_visa_charts_utils_umd_8068485b_js__WEBPACK_IMPORTED_MODULE_16__.s)(s[i]);return o.attr("filter",o.classed("textIsMoving")?null:createTextStrokeFilter({root:e.svg.node(),id:e.chartID,color:"inside"===r?l:"#ffffff"})),n},this.mainTitle=PieChartDefaultValues.mainTitle,this.subTitle=PieChartDefaultValues.subTitle,this.centerTitle=PieChartDefaultValues.centerTitle,this.centerSubTitle=PieChartDefaultValues.centerSubTitle,this.height=PieChartDefaultValues.height,this.width=PieChartDefaultValues.width,this.highestHeadingLevel=PieChartDefaultValues.highestHeadingLevel,this.margin=PieChartDefaultValues.margin,this.padding=PieChartDefaultValues.padding,this.data=void 0,this.uniqueID=void 0,this.ordinalAccessor=PieChartDefaultValues.ordinalAccessor,this.valueAccessor=PieChartDefaultValues.valueAccessor,this.sortOrder=PieChartDefaultValues.sortOrder,this.colorPalette=PieChartDefaultValues.colorPalette,this.colors=void 0,this.innerRatio=PieChartDefaultValues.innerRatio,this.showEdgeLine=PieChartDefaultValues.showEdgeLine,this.hoverStyle=PieChartDefaultValues.hoverStyle,this.clickStyle=PieChartDefaultValues.clickStyle,this.referenceStyle=PieChartDefaultValues.referenceStyle,this.cursor=PieChartDefaultValues.cursor,this.hoverOpacity=PieChartDefaultValues.hoverOpacity,this.animationConfig=PieChartDefaultValues.animationConfig,this.showPercentage=PieChartDefaultValues.showPercentage,this.showTooltip=PieChartDefaultValues.showTooltip,this.showLabelNote=PieChartDefaultValues.showLabelNote,this.labelOffset=PieChartDefaultValues.labelOffset,this.dataLabel=PieChartDefaultValues.dataLabel,this.dataKeyNames=void 0,this.tooltipLabel=PieChartDefaultValues.tooltipLabel,this.accessibility=PieChartDefaultValues.accessibility,this.annotations=PieChartDefaultValues.annotations,this.referenceData=void 0,this.suppressEvents=PieChartDefaultValues.suppressEvents,this.hoverHighlight=void 0,this.clickHighlight=PieChartDefaultValues.clickHighlight,this.interactionKeys=void 0,this.unitTest=!1}return t.prototype.titleWatcher=function(t,e){this.shouldValidate=!0,this.shouldUpdateDescriptionWrapper=!0,this.shouldSetChartAccessibilityTitle=!0,this.shouldSetParentSVGAccessibility=!0},t.prototype.subtitleWatcher=function(t,e){this.shouldSetChartAccessibilitySubtitle=!0,this.shouldSetParentSVGAccessibility=!0},t.prototype.headingWatcher=function(t,e){this.shouldRedrawWrapper=!0,this.shouldSetTagLevels=!0,this.shouldSetChartAccessibilityCount=!0,this.shouldSetAnnotationAccessibility=!0,this.shouldUpdateDescriptionWrapper=!0,this.shouldSetChartAccessibilityTitle=!0,this.shouldSetChartAccessibilitySubtitle=!0,this.shouldSetChartAccessibilityLongDescription=!0,this.shouldSetChartAccessibilityContext=!0,this.shouldSetChartAccessibilityExecutiveSummary=!0,this.shouldSetChartAccessibilityPurpose=!0,this.shouldSetChartAccessibilityStatisticalNotes=!0,this.shouldSetChartAccessibilityStructureNotes=!0},t.prototype.centerTitleWatcher=function(t,e){this.shouldUpdateCenterTitle=!0},t.prototype.layoutWatcher=function(t,e){this.shouldUpdateLayout=!0,this.shouldUpdateData=!0,this.shouldResetRoot=!0,this.shouldUpdateGeometries=!0,this.shouldUpdateScales=!0,this.shouldSetPieRadius=!0,this.shouldSetGlobalSelections=!0,this.shouldEnterUpdateExit=!0,this.shouldUpdateLabels=!0,this.shouldUpdateEdgeLines=!0,this.shouldUpdateReferenceLines=!0,this.shouldUpdateAnnotations=!0},t.prototype.dataWatcher=function(t,e){this.updated=!0,this.shouldUpdateData=!0,this.shouldSetGlobalSelections=!0,this.shouldSetTestingAttributes=!0,this.shouldEnterUpdateExit=!0,this.shouldDrawInteractionState=!0,this.shouldUpdateTableData=!0,this.shouldValidate=!0,this.shouldUpdateGeometries=!0,this.shouldUpdateEdgeLines=!0,this.shouldUpdateLabels=!0,this.shouldUpdateReferenceLines=!0,this.shouldUpdateAnnotations=!0,this.shouldSetGeometryAccessibilityAttributes=!0,this.shouldSetGeometryAriaLabels=!0,this.shouldSetTextures=!0,this.shouldSetStrokes=!0,this.shouldSetColors=!0,this.shouldCheckLabelColor=!0},t.prototype.idWatcher=function(t,e){console.error("Change detected in prop uniqueID from value "+e+" to value "+t+". This prop cannot be changed after component has loaded.")},t.prototype.ordinalAccessorWatcher=function(t,e){this.shouldValidate=!0,this.shouldUpdateData=!0,this.shouldSetGlobalSelections=!0,this.shouldUpdateTableData=!0,this.shouldUpdateGeometries=!0,this.shouldDrawInteractionState=!0,this.shouldUpdateEdgeLines=!0,this.shouldUpdateReferenceLines=!0,this.shouldSetGeometryAriaLabels=!0,this.shouldSetLabelOpacity=!0,this.shouldCheckLabelColor=!0,this.shouldSetTextures=!0,this.shouldSetStrokes=!0,this.interactionKeys&&this.interactionKeys.length||(this.shouldValidateInteractionKeys=!0,this.shouldSetSelectionClass=!0)},t.prototype.valueAccessorWatcher=function(t,e){this.shouldValidate=!0,this.shouldUpdateData=!0,this.shouldUpdateScales=!0,this.shouldSetGlobalSelections=!0,this.shouldUpdateTableData=!0,this.shouldUpdateGeometries=!0,this.shouldUpdateEdgeLines=!0,this.shouldDrawInteractionState=!0,this.shouldSetLabelOpacity=!0,this.shouldCheckLabelColor=!0,this.shouldUpdateLabels=!0,this.shouldUpdateReferenceLines=!0,this.shouldUpdateAnnotations=!0,this.shouldSetGeometryAriaLabels=!0},t.prototype.sortWatcher=function(t,e){this.updated=!0,this.shouldUpdateData=!0,this.shouldSetGlobalSelections=!0,this.shouldSetTestingAttributes=!0,this.shouldEnterUpdateExit=!0,this.shouldDrawInteractionState=!0,this.shouldUpdateTableData=!0,this.shouldUpdateGeometries=!0,this.shouldUpdateEdgeLines=!0,this.shouldUpdateLabels=!0,this.shouldUpdateReferenceLines=!0,this.shouldUpdateAnnotations=!0,this.shouldSetGeometryAccessibilityAttributes=!0,this.shouldSetGeometryAriaLabels=!0},t.prototype.paletteWatcher=function(t,e){this.shouldSetColors=!0,this.shouldDrawInteractionState=!0,this.shouldCheckLabelColor=!0,this.shouldSetTextures=!0,this.shouldSetStrokes=!0},t.prototype.colorsWatcher=function(t,e){this.shouldSetColors=!0,this.shouldDrawInteractionState=!0,this.shouldCheckLabelColor=!0,this.shouldSetTextures=!0,this.shouldSetStrokes=!0},t.prototype.innerRatioWatcher=function(t,e){this.shouldSetPieRadius=!0,this.shouldUpdateData=!0,this.shouldUpdateInnerRatio=!0,this.shouldUpdateGeometries=!0,this.shouldUpdateEdgeLines=!0,this.shouldUpdateReferenceLines=!0},t.prototype.showEdgeLineWatcher=function(t,e){this.shouldUpdateEdgeLines=!0},t.prototype.referenceWatcher=function(t,e){this.shouldUpdateReferenceLines=!0},t.prototype.hoverOpacityWatcher=function(t,e){this.shouldDrawInteractionState=!0,this.shouldCheckLabelColor=!0,this.shouldSetLabelOpacity=!0},t.prototype.cursorWatcher=function(t,e){this.shouldUpdateCursor=!0},t.prototype.showPercentageWatcher=function(t,e){this.shouldUpdateLabels=!0,this.shouldSetGeometryAriaLabels=!0,this.shouldUpdateTableData=!0},t.prototype.showTooltipWatcher=function(t,e){this.shouldDrawInteractionState=!0},t.prototype.tooltipLabelWatcher=function(t,e){this.shouldValidate=!0,this.shouldUpdateTableData=!0,this.shouldSetParentSVGAccessibility=!0,this.shouldSetGeometryAriaLabels=!0},t.prototype.labelWatcher=function(t,e){this.shouldUpdateLabels=!0,this.shouldValidate=!0,this.shouldUpdateTableData=!0;var i=!(!t||!t.placement)&&t.placement,s=!(!e||!e.placement)&&e.placement;(t&&t.visible)!==(e&&e.visible)&&(this.shouldSetLabelOpacity=!0),i!==s&&(this.shouldSetLabelOpacity=!0,this.shouldCheckLabelColor=!0)},t.prototype.labelNoteWatcher=function(t,e){this.shouldSetLabelOpacity=!0,this.shouldUpdateLabels=!0},t.prototype.labelOffsetWatcher=function(t,e){this.shouldUpdateLabels=!0},t.prototype.accessibilityWatcher=function(t,e){this.shouldValidate=!0,(!(!t||!t.title)&&t.title)!==(!(!e||!e.title)&&e.title)&&(this.shouldUpdateDescriptionWrapper=!0,this.shouldSetChartAccessibilityTitle=!0,this.shouldSetParentSVGAccessibility=!0),(!(!t||!t.executiveSummary)&&t.executiveSummary)!==(!(!e||!e.executiveSummary)&&e.executiveSummary)&&(this.shouldSetChartAccessibilityExecutiveSummary=!0),(!(!t||!t.purpose)&&t.purpose)!==(!(!e||!e.purpose)&&e.purpose)&&(this.shouldSetChartAccessibilityPurpose=!0),(!(!t||!t.longDescription)&&t.longDescription)!==(!(!e||!e.longDescription)&&e.longDescription)&&(this.shouldSetChartAccessibilityLongDescription=!0),(!(!t||!t.contextExplanation)&&t.contextExplanation)!==(!(!e||!e.contextExplanation)&&e.contextExplanation)&&(this.shouldSetChartAccessibilityContext=!0),(!(!t||!t.statisticalNotes)&&t.statisticalNotes)!==(!(!e||!e.statisticalNotes)&&e.statisticalNotes)&&(this.shouldSetChartAccessibilityStatisticalNotes=!0),(!(!t||!t.structureNotes)&&t.structureNotes)!==(!(!e||!e.structureNotes)&&e.structureNotes)&&(this.shouldSetChartAccessibilityStructureNotes=!0);var v=t&&t.includeDataKeyNames,b=e&&e.includeDataKeyNames,g=!(!t||!t.elementDescriptionAccessor)&&t.elementDescriptionAccessor,m=!(!e||!e.elementDescriptionAccessor)&&e.elementDescriptionAccessor;v===b&&g===m||(v!==b&&(this.shouldSetGroupAccessibilityLabel=!0),this.shouldSetGeometryAriaLabels=!0,this.shouldSetParentSVGAccessibility=!0),(!(!t||!t.hideTextures)&&t.hideTextures)!==(!(!e||!e.hideTextures)&&e.hideTextures)&&(this.shouldSetTextures=!0,this.shouldDrawInteractionState=!0),(!(!t||!t.showSmallLabels)&&t.showSmallLabels)!==(!(!e||!e.showSmallLabels)&&e.showSmallLabels)&&(this.shouldSetLabelOpacity=!0),(!(!t||!t.hideStrokes)&&t.hideStrokes)!==(!(!e||!e.hideStrokes)&&e.hideStrokes)&&(this.shouldSetStrokes=!0,this.shouldDrawInteractionState=!0);var T=!!(t&&t.keyboardNavConfig&&t.keyboardNavConfig.disabled)&&t.keyboardNavConfig.disabled,E=!!(e&&e.keyboardNavConfig&&e.keyboardNavConfig.disabled)&&e.keyboardNavConfig.disabled,k=!(!t||!t.elementsAreInterface)&&t.elementsAreInterface,R=!(!e||!e.elementsAreInterface)&&e.elementsAreInterface;T===E&&k===R||(this.shouldSetGeometryAriaLabels=!0,this.shouldSetParentSVGAccessibility=!0,this.shouldUpdateDescriptionWrapper=!0,this.shouldRedrawWrapper=!0,this.shouldSetChartAccessibilityTitle=!0,this.shouldSetChartAccessibilitySubtitle=!0,this.shouldSetChartAccessibilityLongDescription=!0,this.shouldSetChartAccessibilityContext=!0,this.shouldSetChartAccessibilityExecutiveSummary=!0,this.shouldSetChartAccessibilityPurpose=!0,this.shouldSetChartAccessibilityStatisticalNotes=!0,this.shouldSetChartAccessibilityStructureNotes=!0),k!==R&&(this.shouldSetSelectionClass=!0)},t.prototype.annotationsWatcher=function(t,e){this.shouldValidate=!0,this.shouldUpdateAnnotations=!0,this.shouldSetAnnotationAccessibility=!0},t.prototype.referenceDataWatcher=function(t,e){this.shouldUpdateReferenceLines=!0,this.shouldUpdateTableData=!0},t.prototype.suppressWatcher=function(t,e){this.shouldBindInteractivity=!0,this.shouldUpdateCursor=!0,this.shouldSetGeometryAriaLabels=!0,this.shouldSetParentSVGAccessibility=!0,this.shouldUpdateDescriptionWrapper=!0,this.shouldRedrawWrapper=!0,this.shouldValidate=!0,this.shouldSetChartAccessibilityTitle=!0,this.shouldSetChartAccessibilitySubtitle=!0,this.shouldSetChartAccessibilityLongDescription=!0,this.shouldSetChartAccessibilityContext=!0,this.shouldSetChartAccessibilityExecutiveSummary=!0,this.shouldSetChartAccessibilityPurpose=!0,this.shouldSetChartAccessibilityStatisticalNotes=!0,this.shouldSetChartAccessibilityStructureNotes=!0},t.prototype.clickStyleWatcher=function(t,e){this.shouldDrawInteractionState=!0,this.shouldCheckLabelColor=!0,this.shouldSetLabelOpacity=!0,this.shouldSetStrokes=!0},t.prototype.hoverStyleWatcher=function(t,e){this.shouldDrawInteractionState=!0,this.shouldCheckLabelColor=!0,this.shouldSetLabelOpacity=!0,this.shouldSetStrokes=!0},t.prototype.clickWatcher=function(t,e){this.shouldDrawInteractionState=!0,this.shouldCheckLabelColor=!0,this.shouldSetLabelOpacity=!0,this.shouldSetSelectionClass=!0},t.prototype.hoverWatcher=function(t,e){this.shouldDrawInteractionState=!0,this.shouldCheckLabelColor=!0,this.shouldSetLabelOpacity=!0},t.prototype.interactionWatcher=function(t,e){this.shouldValidateInteractionKeys=!0,this.shouldDrawInteractionState=!0,this.shouldCheckLabelColor=!0,this.shouldSetLabelOpacity=!0,this.shouldSetSelectionClass=!0,this.shouldSetGeometryAriaLabels=!0,this.shouldUpdateTableData=!0},t.prototype.dataKeyNamesWatcher=function(t,e){this.shouldSetParentSVGAccessibility=!0,this.shouldSetGroupAccessibilityLabel=!0,this.shouldSetGeometryAriaLabels=!0},t.prototype.unitTestWatcher=function(t,e){this.shouldSetTestingAttributes=!0},t.prototype.componentWillLoad=function(){var t=this,e=this.uniqueID||"pie-chart-"+Object(_index_b17e4f46_js__WEBPACK_IMPORTED_MODULE_17__.v)();return this.initialLoadEvent.emit({chartID:e}),new Promise((function(i){t.duration=0,t.chartID=e,t.pieChartEl.id=t.chartID,t.setTagLevels(),t.prepareScales(),t.prepareData(),t.setLayoutData(),t.setPieRadius(),t.validateInteractionKeys(),t.setTableData(),t.shouldValidateAccessibilityProps(),t.setColors(),i("component will load")}))},t.prototype.componentWillUpdate=function(){return new Promise((function(t){t("component will update")}))},t.prototype.componentDidLoad=function(){var t=this;return new Promise((function(e){t.defaults=!0,t.shouldValidateAccessibilityProps(),t.renderRootElements(),t.setTooltipInitialStyle(),t.setChartDescriptionWrapper(),t.setChartAccessibilityTitle(),t.setChartAccessibilitySubtitle(),t.setChartAccessibilityLongDescription(),t.setChartAccessibilityExecutiveSummary(),t.setChartAccessibilityPurpose(),t.setChartAccessibilityContext(),t.setChartAccessibilityStatisticalNotes(),t.setChartAccessibilityStructureNotes(),t.setParentSVGAccessibility(),t.reSetRoot(),t.setTextures(),t.setStrokes(),t.setGlobalSelections(),t.setTestingAttributes(),t.setColors(),t.setInnerRatio(),t.enterGeometries(),t.updateGeometries(),t.exitGeometries(),t.enterLabels("Labels"),t.updateLabels("Labels"),t.exitLabels("Labels"),t.enterEdgeLine(),t.updateEdgeLine("Edges"),t.exitEdgeLine(),t.enterLabels("RefLabels"),t.updateLabels("RefLabels"),t.exitLabels("RefLabels"),t.drawGeometries(),t.drawEdgeLine(),t.drawReferenceLines(),t.drawCenterTitle(),t.drawDataLabels("Labels"),t.drawDataLabels("RefLabels"),t.setChartCountAccessibility(),t.setGeometryAccessibilityAttributes(),t.setGeometryAriaLabels(),t.setSelectedClass(),t.updateCursor(),t.bindInteractivity(),t.drawAnnotations(),t.setAnnotationAccessibility(),t.onChangeHandler(),hideNonessentialGroups(t.root.node(),t.pieG.node()),t.setGroupAccessibilityAttributes(),t.setGroupAccessibilityID(),t.defaults=!1,e("component did load")})).then((function(){return t.initialLoadEndEvent.emit({chartID:t.chartID})}))},t.prototype.componentDidUpdate=function(){var t=this;return new Promise((function(e){t.duration=t.animationConfig&&t.animationConfig.disabled?0:750,t.shouldUpdateDescriptionWrapper&&(t.setChartDescriptionWrapper(),t.shouldUpdateDescriptionWrapper=!1),t.shouldSetChartAccessibilityCount&&(t.setChartCountAccessibility(),t.shouldSetChartAccessibilityCount=!1),t.shouldSetChartAccessibilityTitle&&(t.setChartAccessibilityTitle(),t.shouldSetChartAccessibilityTitle=!1),t.shouldSetChartAccessibilitySubtitle&&(t.setChartAccessibilitySubtitle(),t.shouldSetChartAccessibilitySubtitle=!1),t.shouldSetChartAccessibilityLongDescription&&(t.setChartAccessibilityLongDescription(),t.shouldSetChartAccessibilityLongDescription=!1),t.shouldSetChartAccessibilityExecutiveSummary&&(t.setChartAccessibilityExecutiveSummary(),t.shouldSetChartAccessibilityExecutiveSummary=!1),t.shouldSetChartAccessibilityPurpose&&(t.setChartAccessibilityPurpose(),t.shouldSetChartAccessibilityPurpose=!1),t.shouldSetChartAccessibilityContext&&(t.setChartAccessibilityContext(),t.shouldSetChartAccessibilityContext=!1),t.shouldSetChartAccessibilityStatisticalNotes&&(t.setChartAccessibilityStatisticalNotes(),t.shouldSetChartAccessibilityStatisticalNotes=!1),t.shouldSetChartAccessibilityStructureNotes&&(t.setChartAccessibilityStructureNotes(),t.shouldSetChartAccessibilityStructureNotes=!1),t.shouldSetParentSVGAccessibility&&(t.setParentSVGAccessibility(),t.shouldSetParentSVGAccessibility=!1),t.shouldResetRoot&&(t.reSetRoot(),t.shouldResetRoot=!1),t.shouldSetTextures&&(t.setTextures(),t.shouldSetTextures=!1),t.shouldSetStrokes&&(t.setStrokes(),t.shouldSetStrokes=!1),t.shouldSetGlobalSelections&&(t.setGlobalSelections(),t.shouldSetGlobalSelections=!1),t.shouldSetTestingAttributes&&(t.setTestingAttributes(),t.shouldSetTestingAttributes=!1),t.shouldEnterUpdateExit&&(t.enterGeometries(),t.updateGeometries(),t.exitGeometries(),t.enterEdgeLine(),t.updateEdgeLine("Edges"),t.exitEdgeLine(),t.enterLabels("Labels"),t.updateLabels("Labels"),t.exitLabels("Labels"),t.enterLabels("RefLabels"),t.updateLabels("RefLabels"),t.exitLabels("RefLabels"),t.shouldEnterUpdateExit=!1),t.shouldUpdateReferenceLines&&(t.drawReferenceLines(),t.shouldUpdateReferenceLines=!1),t.shouldUpdateGeometries&&(t.drawGeometries(),t.shouldUpdateGeometries=!1),t.shouldUpdateEdgeLines&&(t.updateEdgeLine("Edges"),t.drawEdgeLine(),t.shouldUpdateEdgeLines=!1),t.shouldUpdateCenterTitle&&(t.drawCenterTitle(),t.shouldUpdateCenterTitle=!1),t.shouldUpdateLabels&&(t.drawDataLabels("Labels"),t.drawDataLabels("RefLabels"),t.shouldUpdateLabels=!1),t.shouldSetGeometryAccessibilityAttributes&&(t.setGeometryAccessibilityAttributes(),t.shouldSetGeometryAccessibilityAttributes=!1),t.shouldSetGeometryAriaLabels&&(t.setGeometryAriaLabels(),t.shouldSetGeometryAriaLabels=!1),t.shouldSetGroupAccessibilityLabel&&(t.setGroupAccessibilityID(),t.shouldSetGroupAccessibilityLabel=!1),t.shouldDrawInteractionState&&(t.updateInteractionState(),t.shouldDrawInteractionState=!1),t.shouldSetLabelOpacity&&(t.setLabelOpacity(),t.shouldSetLabelOpacity=!1),t.shouldCheckLabelColor&&(t.checkLabelColorAgainstBackground("Labels"),t.checkLabelColorAgainstBackground("RefLabels"),t.shouldCheckLabelColor=!1),t.shouldSetSelectionClass&&(t.setSelectedClass(),t.shouldSetSelectionClass=!1),t.shouldUpdateCursor&&(t.updateCursor(),t.shouldUpdateCursor=!1),t.shouldBindInteractivity&&(t.bindInteractivity(),t.shouldBindInteractivity=!1),t.shouldUpdateAnnotations&&(t.drawAnnotations(),t.shouldUpdateAnnotations=!1),t.shouldSetAnnotationAccessibility&&(t.setAnnotationAccessibility(),t.shouldSetAnnotationAccessibility=!1),t.onChangeHandler(),e("component did update")})).then((function(){return t.drawEndEvent.emit({chartID:t.chartID})}))},t.prototype.shouldValidateAccessibilityProps=function(){if(this.shouldValidateAccessibility&&!this.accessibility.disableValidation){this.shouldValidateAccessibility=!1;var t="normalized";validateAccessibilityProps(this.chartID,this.accessibility,{annotations:this.annotations,data:this.data,uniqueID:this.uniqueID,context:{mainTitle:this.mainTitle,onClickEvent:this.suppressEvents?void 0:this.clickEvent.emit,tooltipLabel:this.tooltipLabel,dataLabel:this.dataLabel,valueAccessor:this.valueAccessor},misc:{normalized:!!this.hasOwnProperty(t)&&this[t]}})}},t.prototype.validateInteractionKeys=function(){this.innerInteractionKeys=this.interactionKeys&&this.interactionKeys.length?this.interactionKeys:[this.ordinalAccessor]},t.prototype.setLayoutData=function(){this.padding="string"==typeof this.padding?getPadding(this.padding):this.padding,this.innerHeight=this.height-this.margin.top-this.margin.bottom,this.innerWidth=this.width-this.margin.left-this.margin.right,this.innerPaddedHeight=this.innerHeight-this.padding.top-this.padding.bottom,this.innerPaddedWidth=this.innerWidth-this.padding.left-this.padding.right},t.prototype.setPieRadius=function(){this.radius=Math.min(this.innerPaddedWidth,this.innerPaddedHeight)/2,this.innerRadius=this.radius*this.innerRatio,this.outerRadius=this.radius},t.prototype.prepareData=function(){var t=this;if(this.data){"asc"===this.sortOrder?this.preppedData=__spreadArray([],this.data,!0).sort((function(e,i){return Number(e[t.valueAccessor])-Number(i[t.valueAccessor])})):"desc"===this.sortOrder?this.preppedData=__spreadArray([],this.data,!0).sort((function(e,i){return Number(i[t.valueAccessor])-Number(e[t.valueAccessor])})):this.preppedData=this.data;var e=0;this.preppedData.map((function(i){i[t.valueAccessor]=parseFloat(i[t.valueAccessor]),e+=i[t.valueAccessor],i.getSum=function(){return e}}))}if(this.refArr=[],this.referenceData&&this.referenceData.length){var i=0;this.preppedData.map((function(e){return i+=e[t.valueAccessor]})),this.referenceData.forEach((function(e){var s,a=[];a.push(e),a.push(((s={})[t.ordinalAccessor]="",s[t.valueAccessor]=i-e[t.valueAccessor],s));var r=t.pie(a);t.refArr.push(Object.assign({},r[0]))}))}this.pieData=this.pie(this.preppedData),this.refData=this.refArr},t.prototype.prepareScales=function(){var t=this;this.pie=function pie(){var t=identity,e=descending,i=null,s=Object(_constant_9f4692a3_js__WEBPACK_IMPORTED_MODULE_18__.c)(0),a=Object(_constant_9f4692a3_js__WEBPACK_IMPORTED_MODULE_18__.c)(tau),r=Object(_constant_9f4692a3_js__WEBPACK_IMPORTED_MODULE_18__.c)(0);function l(l){var n,c,h,v,m,o=l.length,u=0,d=new Array(o),p=new Array(o),f=+s.apply(this,arguments),y=Math.min(tau,Math.max(-tau,a.apply(this,arguments)-f)),b=Math.min(Math.abs(y)/o,r.apply(this,arguments)),g=b*(y<0?-1:1);for(n=0;n<o;++n)(m=p[d[n]=n]=+t(l[n],n,l))>0&&(u+=m);for(null!=e?d.sort((function(t,i){return e(p[t],p[i])})):null!=i&&d.sort((function(t,e){return i(l[t],l[e])})),n=0,h=u?(y-o*g)/u:0;n<o;++n,f=v)c=d[n],v=f+((m=p[c])>0?m*h:0)+g,p[c]={data:l[c],index:n,value:m,startAngle:f,endAngle:v,padAngle:b};return p}return l.value=function(e){return arguments.length?(t="function"==typeof e?e:Object(_constant_9f4692a3_js__WEBPACK_IMPORTED_MODULE_18__.c)(+e),l):t},l.sortValues=function(t){return arguments.length?(e=t,i=null,l):e},l.sort=function(t){return arguments.length?(i=t,e=null,l):i},l.startAngle=function(t){return arguments.length?(s="function"==typeof t?t:Object(_constant_9f4692a3_js__WEBPACK_IMPORTED_MODULE_18__.c)(+t),l):s},l.endAngle=function(t){return arguments.length?(a="function"==typeof t?t:Object(_constant_9f4692a3_js__WEBPACK_IMPORTED_MODULE_18__.c)(+t),l):a},l.padAngle=function(t){return arguments.length?(r="function"==typeof t?t:Object(_constant_9f4692a3_js__WEBPACK_IMPORTED_MODULE_18__.c)(+t),l):r},l}().value((function(e){return e[t.valueAccessor]})).sort((function(t,e){return null})),this.arc=function arc(){var t=arcInnerRadius,e=arcOuterRadius,i=Object(_constant_9f4692a3_js__WEBPACK_IMPORTED_MODULE_18__.c)(0),s=null,a=arcStartAngle,r=arcEndAngle,l=arcPadAngle,n=null;function o(){var o,c,h=+t.apply(this,arguments),u=+e.apply(this,arguments),d=a.apply(this,arguments)-halfPi,p=r.apply(this,arguments)-halfPi,f=abs(p-d),y=p>d;if(n||(n=o=Object(_constant_9f4692a3_js__WEBPACK_IMPORTED_MODULE_18__.p)()),u<h&&(c=u,u=h,h=c),u>1e-12)if(f>tau-1e-12)n.moveTo(u*cos(d),u*sin(d)),n.arc(0,0,u,d,p,!y),h>1e-12&&(n.moveTo(h*cos(p),h*sin(p)),n.arc(0,0,h,p,d,y));else{var E,k,v=d,b=p,g=d,m=p,A=f,C=f,S=l.apply(this,arguments)/2,L=S>1e-12&&(s?+s.apply(this,arguments):sqrt(h*h+u*u)),D=min(abs(u-h)/2,+i.apply(this,arguments)),x=D,T=D;if(L>1e-12){var R=asin(L/h*sin(S)),I=asin(L/u*sin(S));(A-=2*R)>1e-12?(g+=R*=y?1:-1,m-=R):(A=0,g=m=(d+p)/2),(C-=2*I)>1e-12?(v+=I*=y?1:-1,b-=I):(C=0,v=b=(d+p)/2)}var P=u*cos(v),w=u*sin(v),U=h*cos(m),G=h*sin(m);if(D>1e-12){var W,V=u*cos(b),N=u*sin(b),H=h*cos(g),_=h*sin(g);if(f<pi&&(W=intersect(P,w,H,_,V,N,U,G))){var O=P-W[0],K=w-W[1],M=V-W[0],z=N-W[1],q=1/sin(acos((O*M+K*z)/(sqrt(O*O+K*K)*sqrt(M*M+z*z)))/2),F=sqrt(W[0]*W[0]+W[1]*W[1]);x=min(D,(h-F)/(q-1)),T=min(D,(u-F)/(q+1))}}C>1e-12?T>1e-12?(E=cornerTangents(H,_,P,w,u,T,y),k=cornerTangents(V,N,U,G,u,T,y),n.moveTo(E.cx+E.x01,E.cy+E.y01),T<D?n.arc(E.cx,E.cy,T,atan2(E.y01,E.x01),atan2(k.y01,k.x01),!y):(n.arc(E.cx,E.cy,T,atan2(E.y01,E.x01),atan2(E.y11,E.x11),!y),n.arc(0,0,u,atan2(E.cy+E.y11,E.cx+E.x11),atan2(k.cy+k.y11,k.cx+k.x11),!y),n.arc(k.cx,k.cy,T,atan2(k.y11,k.x11),atan2(k.y01,k.x01),!y))):(n.moveTo(P,w),n.arc(0,0,u,v,b,!y)):n.moveTo(P,w),h>1e-12&&A>1e-12?x>1e-12?(E=cornerTangents(U,G,V,N,h,-x,y),k=cornerTangents(P,w,H,_,h,-x,y),n.lineTo(E.cx+E.x01,E.cy+E.y01),x<D?n.arc(E.cx,E.cy,x,atan2(E.y01,E.x01),atan2(k.y01,k.x01),!y):(n.arc(E.cx,E.cy,x,atan2(E.y01,E.x01),atan2(E.y11,E.x11),!y),n.arc(0,0,h,atan2(E.cy+E.y11,E.cx+E.x11),atan2(k.cy+k.y11,k.cx+k.x11),y),n.arc(k.cx,k.cy,x,atan2(k.y11,k.x11),atan2(k.y01,k.x01),!y))):n.arc(0,0,h,m,g,y):n.lineTo(U,G)}else n.moveTo(0,0);if(n.closePath(),o)return n=null,o+""||null}return o.centroid=function(){var i=(+t.apply(this,arguments)+ +e.apply(this,arguments))/2,s=(+a.apply(this,arguments)+ +r.apply(this,arguments))/2-pi/2;return[cos(s)*i,sin(s)*i]},o.innerRadius=function(e){return arguments.length?(t="function"==typeof e?e:Object(_constant_9f4692a3_js__WEBPACK_IMPORTED_MODULE_18__.c)(+e),o):t},o.outerRadius=function(t){return arguments.length?(e="function"==typeof t?t:Object(_constant_9f4692a3_js__WEBPACK_IMPORTED_MODULE_18__.c)(+t),o):e},o.cornerRadius=function(t){return arguments.length?(i="function"==typeof t?t:Object(_constant_9f4692a3_js__WEBPACK_IMPORTED_MODULE_18__.c)(+t),o):i},o.padRadius=function(t){return arguments.length?(s=null==t?null:"function"==typeof t?t:Object(_constant_9f4692a3_js__WEBPACK_IMPORTED_MODULE_18__.c)(+t),o):s},o.startAngle=function(t){return arguments.length?(a="function"==typeof t?t:Object(_constant_9f4692a3_js__WEBPACK_IMPORTED_MODULE_18__.c)(+t),o):a},o.endAngle=function(t){return arguments.length?(r="function"==typeof t?t:Object(_constant_9f4692a3_js__WEBPACK_IMPORTED_MODULE_18__.c)(+t),o):r},o.padAngle=function(t){return arguments.length?(l="function"==typeof t?t:Object(_constant_9f4692a3_js__WEBPACK_IMPORTED_MODULE_18__.c)(+t),o):l},o.context=function(t){return arguments.length?(n=null==t?null:t,o):n},o}()},t.prototype.setTableData=function(){var t=scopeDataKeys(this,chartAccessors,"pie-chart");this.tableData=getScopedData(this.preppedData,t),this.tableColumns=Object.keys(t)},t.prototype.setColors=function(){var t=this.colors&&this.colors.length?convertVisaColor(this.colors):getColors(this.colorPalette,this.preppedData.length-1);this.colors&&this.colors.length||t.push(visaColors.base_grey),this.preparedColors=t},t.prototype.setTextures=function(){var t=this.preparedColors.range?this.preparedColors.range():this.preparedColors;if(this.accessibility.hideTextures||t.length>6)this.colorArr=this.preparedColors;else{var e=convertColorsToTextures({colors:t,rootSVG:this.svg.node(),id:this.chartID,scheme:"categorical",disableTransitions:!this.duration});this.colorArr=this.preparedColors.range?this.preparedColors.copy().range(e):e}},t.prototype.setStrokes=function(){this.strokes=buildStrokes({root:this.svg.node(),id:this.chartID,colors:this.preparedColors.range?this.preparedColors.range():this.preparedColors,clickStyle:this.clickStyle,hoverStyle:this.hoverStyle,stacked:!0})},t.prototype.setInnerRatio=function(){this.innerRatio=0===this.innerRatio||this.innerRatio?this.innerRatio:PieChartDefaultValues.innerRatio},t.prototype.setTestingAttributes=function(){var t=this;this.unitTest?(Object(_visa_charts_utils_umd_8068485b_js__WEBPACK_IMPORTED_MODULE_16__.s)(this.pieChartEl).select(".visa-viz-d3-pie-container").attr("data-testid","chart-container"),Object(_visa_charts_utils_umd_8068485b_js__WEBPACK_IMPORTED_MODULE_16__.s)(this.pieChartEl).select(".pie-main-title").attr("data-testid","main-title"),Object(_visa_charts_utils_umd_8068485b_js__WEBPACK_IMPORTED_MODULE_16__.s)(this.pieChartEl).select(".pie-sub-title").attr("data-testid","sub-title"),this.svg.attr("data-testid","root-svg"),this.root.attr("data-testid","margin-container"),this.rootG.attr("data-testid","padding-container"),this.tooltipG.attr("data-testid","tooltip-container"),this.pieG.attr("data-testid","pie-group"),this.labelG.attr("data-testid","dataLabel-group"),this.refLabelG.attr("data-testid","refDataLabel-group"),this.edgeG.attr("data-testid","edgeLine-group"),this.rootG.select(".pie-center-title-group").attr("data-testid","centerTitle-group"),this.svg.select("defs").attr("data-testid","pattern-defs"),this.updatingLabels.attr("data-testid","dataLabel").attr("data-id",(function(e){return"label-".concat(e[t.ordinalAccessor])})),this.updatingLabelsNotes.attr("data-testid","dataLabel-note").attr("data-id",(function(e){return"label-note-".concat(e[t.ordinalAccessor])})),this.updatingEdges.attr("data-testid","pie-edge-line").attr("data-id",(function(e){return"pie-edge-line-".concat(e[t.ordinalAccessor])})),this.update.attr("data-testid","pie").attr("data-id",(function(e){return"pie-".concat(e[t.ordinalAccessor])})),this.references.selectAll(".arc-ref").attr("data-testid","reference-arc-line"),this.updatingRefLabels.attr("data-testid","refDataLabel").attr("data-id",(function(e){return"ref-label-".concat(e[t.ordinalAccessor])})),this.updatingRefLabelsNotes.attr("data-testid","refDataLabel-note").attr("data-id",(function(e){return"ref-label-note-".concat(e[t.ordinalAccessor])}))):(Object(_visa_charts_utils_umd_8068485b_js__WEBPACK_IMPORTED_MODULE_16__.s)(this.pieChartEl).select(".visa-viz-d3-pie-container").attr("data-testid",null),Object(_visa_charts_utils_umd_8068485b_js__WEBPACK_IMPORTED_MODULE_16__.s)(this.pieChartEl).select(".pie-main-title").attr("data-testid",null),Object(_visa_charts_utils_umd_8068485b_js__WEBPACK_IMPORTED_MODULE_16__.s)(this.pieChartEl).select(".pie-sub-title").attr("data-testid",null),this.svg.attr("data-testid",null),this.root.attr("data-testid",null),this.rootG.attr("data-testid",null),this.tooltipG.attr("data-testid",null),this.pieG.attr("data-testid",null),this.labelG.attr("data-testid",null),this.refLabelG.attr("data-testid",null),this.edgeG.attr("data-testid",null),this.rootG.select(".pie-center-title-group").attr("data-testid",null),this.svg.select("defs").attr("data-testid",null),this.updatingLabels.attr("data-testid",null).attr("data-id",null),this.updatingLabelsNotes.attr("data-testid",null).attr("data-id",null),this.updatingEdges.attr("data-testid",null).attr("data-id",null),this.update.attr("data-testid",null).attr("data-id",null),this.references.selectAll(".arc-ref").attr("data-testid",null),this.updatingRefLabels.attr("data-testid",null).attr("data-id",null),this.updatingRefLabelsNotes.attr("data-testid",null).attr("data-id",null))},t.prototype.renderRootElements=function(){this.svg=Object(_visa_charts_utils_umd_8068485b_js__WEBPACK_IMPORTED_MODULE_16__.s)(this.pieChartEl).select(".visa-viz-d3-pie-container").append("svg").style("isolation","isolate").attr("width",this.width).attr("height",this.height).attr("viewBox","0 0 "+this.width+" "+this.height),this.root=this.svg.append("g").attr("id","visa-viz-margin-container-g-"+this.chartID),this.rootG=this.root.append("g").attr("id","visa-viz-padding-container-g-"+this.chartID),this.pieG=this.rootG.append("g").attr("class","pie-group"),this.labelG=this.rootG.append("g").attr("class","pie-dataLabel-group"),this.refLabelG=this.rootG.append("g").attr("class","pie-dataLabel-group"),this.edgeG=this.rootG.append("g").attr("class","pie-edge-line-group"),this.tooltipG=Object(_visa_charts_utils_umd_8068485b_js__WEBPACK_IMPORTED_MODULE_16__.s)(this.pieChartEl).select(".pie-tooltip"),this.references=this.rootG.append("g").attr("class","pie-reference-line-group")},t.prototype.reSetRoot=function(){prepareRenderChange({selection:this.svg,duration:this.duration,namespace:"root_reset",easing:_circle_1a7bf607_js__WEBPACK_IMPORTED_MODULE_19__.c}).attr("width",this.width).attr("height",this.height).attr("viewBox","0 0 "+this.width+" "+this.height),prepareRenderChange({selection:this.root,duration:this.duration,namespace:"root_reset",easing:_circle_1a7bf607_js__WEBPACK_IMPORTED_MODULE_19__.c}).attr("transform","translate(".concat(this.margin.left,", ").concat(this.margin.top,")")),prepareRenderChange({selection:this.rootG,duration:this.duration,namespace:"root_reset",easing:_circle_1a7bf607_js__WEBPACK_IMPORTED_MODULE_19__.c}).attr("transform","translate(".concat(this.padding.left+this.radius,", ").concat(this.padding.top+this.radius,")")),setAccessibilityDescriptionWidth(this.chartID,this.width)},t.prototype.setGlobalSelections=function(){var t=this,e=this.pieG.selectAll(".arc").data(this.pieData,(function(e){return e[t.ordinalAccessor]=e.data[t.ordinalAccessor],e[t.ordinalAccessor]}));this.enter=e.enter().append("path"),this.exit=e.exit(),this.update=e.merge(this.enter),this.exitSize=this.exit.size(),this.enterSize=this.enter.size();var i=this.labelG.selectAll(".pie-dataLabel-highlight").data(this.pieData);this.enteringLabels=i.enter().append("text"),this.exitingLabels=i.exit(),this.updatingLabels=i.merge(this.enteringLabels);var s=this.labelG.selectAll(".pie-dataLabel-note").data(this.pieData);this.enteringLabelsNotes=s.enter().append("text"),this.exitingLabelsNotes=s.exit(),this.updatingLabelsNotes=s.merge(this.enteringLabelsNotes);var a=this.refLabelG.selectAll(".pie-dataLabel-highlight").data(this.refData);this.enteringRefLabels=a.enter().append("text"),this.exitingRefLabels=a.exit(),this.updatingRefLabels=a.merge(this.enteringRefLabels);var r=this.refLabelG.selectAll(".pie-dataLabel-note").data(this.refData);this.enteringRefLabelsNotes=r.enter().append("text"),this.exitingRefLabelsNotes=r.exit(),this.updatingRefLabelsNotes=r.merge(this.enteringRefLabelsNotes);var l=this.edgeG.selectAll(".edge-line").data(this.pieData);this.enteringEdges=l.enter().append("path"),this.exitingEdges=l.exit(),this.updatingEdges=l.merge(this.enteringEdges)},t.prototype.updateInteractionState=function(){var t=this;removeHoverStrokes(this.svg.node()),this.update.attr("opacity",(function(e){return checkInteraction(e.data,1,t.hoverOpacity,t.hoverHighlight,t.clickHighlight,t.innerInteractionKeys)})).attr("fill",(function(e,i){return t.clickHighlight&&t.clickHighlight.length>0&&checkClicked(e.data,t.clickHighlight,t.innerInteractionKeys)&&t.clickStyle.color?visaColors[t.clickStyle.color]||t.clickStyle.color:t.hoverHighlight&&checkHovered(e.data,t.hoverHighlight,t.innerInteractionKeys)&&t.hoverStyle.color?visaColors[t.hoverStyle.color]||t.hoverStyle.color:2===t.preppedData.length&&1===i?t.preparedColors[i]:t.colorArr[i]||t.colorArr[0]})).attr("filter",(function(e,i,s){if(!t.accessibility.hideStrokes&&!Object(_visa_charts_utils_umd_8068485b_js__WEBPACK_IMPORTED_MODULE_16__.s)(s[i]).classed("geometryIsMoving")){var a=t.clickHighlight&&t.clickHighlight.length>0&&checkClicked(e.data,t.clickHighlight,t.innerInteractionKeys),r=t.hoverHighlight&&checkHovered(e.data,t.hoverHighlight,t.innerInteractionKeys),l=t.preparedColors[i],n=a?"click":r&&!Object(_visa_charts_utils_umd_8068485b_js__WEBPACK_IMPORTED_MODULE_16__.s)(s[i]).classed("geometryIsMoving")?"hover":"rest",o=a&&t.clickStyle.color?visaColors[t.clickStyle.color]||t.clickStyle.color:a?l:r&&t.hoverStyle.color?visaColors[t.hoverStyle.color]||t.hoverStyle.color:l;return"hover"===n&&drawHoverStrokes({inputElement:s[i],id:t.chartID,key:e[t.ordinalAccessor],strokeWidth:t.hoverStyle.strokeWidth,fill:o}),t.strokes[n+o]}return null})),retainAccessFocus({parentGNode:this.rootG.node()})},t.prototype.setLabelOpacity=function(){var t=this,e=this.dataLabel.visible?1:0,i=this.showLabelNote?1:0,s=this.updatingLabels.merge(this.updatingRefLabels),a=this.updatingLabelsNotes.merge(this.updatingRefLabelsNotes);if(s.attr("data-use-dx",!0).attr("data-use-dy",!0).attr("opacity",(function(i,s,a){var r=+Object(_visa_charts_utils_umd_8068485b_js__WEBPACK_IMPORTED_MODULE_16__.s)(a[s]).attr("opacity"),l=Object(_visa_charts_utils_umd_8068485b_js__WEBPACK_IMPORTED_MODULE_16__.s)(a[s]).style("visibility"),n=checkInteraction(i.data,e,t.hoverOpacity,t.hoverHighlight,t.clickHighlight,t.innerInteractionKeys)<1?0:1;return(1===n&&"hidden"===l||r!==n)&&(1===n?Object(_visa_charts_utils_umd_8068485b_js__WEBPACK_IMPORTED_MODULE_16__.s)(a[s]).classed("collision-added",!0).style("visibility",null):Object(_visa_charts_utils_umd_8068485b_js__WEBPACK_IMPORTED_MODULE_16__.s)(a[s]).classed("collision-removed",!0)),n})),a.attr("data-use-dx",!0).attr("data-use-dy",!0).attr("opacity",(function(e,s,a){var r=+Object(_visa_charts_utils_umd_8068485b_js__WEBPACK_IMPORTED_MODULE_16__.s)(a[s]).attr("opacity"),l=Object(_visa_charts_utils_umd_8068485b_js__WEBPACK_IMPORTED_MODULE_16__.s)(a[s]).style("visibility"),n=checkInteraction(e.data,i,t.hoverOpacity,t.hoverHighlight,t.clickHighlight,t.innerInteractionKeys)<1?0:1;return(1===n&&"hidden"===l||r!==n)&&(1===n?Object(_visa_charts_utils_umd_8068485b_js__WEBPACK_IMPORTED_MODULE_16__.s)(a[s]).classed("collision-added",!0).style("visibility",null):Object(_visa_charts_utils_umd_8068485b_js__WEBPACK_IMPORTED_MODULE_16__.s)(a[s]).classed("collision-removed",!0)),n})),this.dataLabel.collisionHideOnly){var r=s.filter((function(t,e,i){return Object(_visa_charts_utils_umd_8068485b_js__WEBPACK_IMPORTED_MODULE_16__.s)(i[e]).classed("collision-added")})),l=s.filter((function(t,e,i){return Object(_visa_charts_utils_umd_8068485b_js__WEBPACK_IMPORTED_MODULE_16__.s)(i[e]).classed("collision-removed")})),n=a.filter((function(t,e,i){return Object(_visa_charts_utils_umd_8068485b_js__WEBPACK_IMPORTED_MODULE_16__.s)(i[e]).classed("collision-added")})),o=a.filter((function(t,e,i){return Object(_visa_charts_utils_umd_8068485b_js__WEBPACK_IMPORTED_MODULE_16__.s)(i[e]).classed("collision-removed")})),c=["middle"],h=[1];l.size()>0&&(this.bitmaps=resolveLabelCollision({bitmaps:this.bitmaps,labelSelection:l,avoidMarks:[],validPositions:["middle"],offsets:[1],accessors:["key"],size:[roundTo(this.width,0),roundTo(this.height,0)],hideOnly:!1,removeOnly:!0}),l.classed("collision-removed",!1)),o.size()>0&&(this.bitmaps=resolveLabelCollision({bitmaps:this.bitmaps,labelSelection:o,avoidMarks:[],validPositions:["middle"],offsets:[1],accessors:["key"],size:[roundTo(this.width,0),roundTo(this.height,0)],hideOnly:!1,removeOnly:!0}),o.classed("collision-removed",!1)),r.size()>0&&(this.bitmaps=resolveLabelCollision({bitmaps:this.bitmaps,labelSelection:r,avoidMarks:[],validPositions:c,offsets:h,accessors:[this.ordinalAccessor],size:[roundTo(this.width,0),roundTo(this.height,0)],hideOnly:this.dataLabel.visible&&this.dataLabel.collisionHideOnly,suppressMarkDraw:!0}),r.classed("collision-added",!1)),n.size()>0&&(this.bitmaps=resolveLabelCollision({bitmaps:this.bitmaps,labelSelection:n,avoidMarks:[],validPositions:c,offsets:h,accessors:[this.ordinalAccessor],size:[roundTo(this.width,0),roundTo(this.height,0)],hideOnly:this.dataLabel.visible&&this.dataLabel.collisionHideOnly,suppressMarkDraw:!0}),n.classed("collision-added",!1))}},t.prototype.checkLabelColorAgainstBackground=function(t){var e=this,i="RefLabels"===t?"edge":this.dataLabel.placement;this.updatingLabels.attr("fill",(function(t,s,a){return e.textTreatmentHandler(t,s,a,i)}))},t.prototype.enterGeometries=function(){var t=this;this.enter.interrupt(),this.enter.attr("class","arc").classed("entering",!0).attr("opacity",0).on("click",this.suppressEvents?null:function(e,i,s){return t.onClickHandler(e.data,s[i])}).on("mouseover",this.suppressEvents?null:function(e,i,s){return t.onHoverHandler(e.data,s[i])}).on("mouseout",this.suppressEvents?null:function(){return t.onMouseOutHandler()}).attr("cursor",this.suppressEvents?null:this.cursor).each((function(t,e,i){initializeElementAccess(i[e])})),this.update.order()},t.prototype.updateGeometries=function(){var t=this;this.update.interrupt(),this.update.transition("opacity").duration(this.duration).ease(_circle_1a7bf607_js__WEBPACK_IMPORTED_MODULE_19__.c).attr("opacity",(function(e){return checkInteraction(e.data,1,t.hoverOpacity,t.hoverHighlight,t.clickHighlight,t.innerInteractionKeys)}))},t.prototype.exitGeometries=function(){var t=this;this.exit.interrupt(),this.exit.transition("exit").duration(this.duration).ease(_circle_1a7bf607_js__WEBPACK_IMPORTED_MODULE_19__.c).attr("opacity",0)[this.duration?"attrTween":"attr"]("d",(function(e,i,s){var a={startAngle:0,endAngle:0,innerRadius:t.innerRadius,outerRadius:t.outerRadius};if(!t.duration)return t.arc(a);var r=s[i],l=Object(_value_ed2395a3_js__WEBPACK_IMPORTED_MODULE_20__.i)(r._current,a);return function(e){return r._current=l(e),t.arc(r._current)}})),this.update.transition("accessibilityAfterExit").duration(this.duration).ease(_circle_1a7bf607_js__WEBPACK_IMPORTED_MODULE_19__.c).call(transitionEndAll,(function(){var e=checkAccessFocus(t.rootG.node());t.exit.remove(),t.setChartCountAccessibility(),t.setGroupAccessibilityID(),t.setGeometryAriaLabels(),retainAccessFocus({parentGNode:t.rootG.node(),focusDidExist:e})}))},t.prototype.drawGeometries=function(){var t=this;this.update.classed("geometryIsMoving",(function(e,i,s){return checkAttributeTransitions(Object(_visa_charts_utils_umd_8068485b_js__WEBPACK_IMPORTED_MODULE_16__.s)(s[i]),[{attr:"d",newValue:t.arc({startAngle:e.startAngle,endAngle:e.endAngle,innerRadius:t.innerRadius,outerRadius:t.outerRadius})}])})).attr("data-translate-x",this.radius+this.padding.left+this.margin.left).attr("data-translate-y",this.radius+this.padding.top+this.margin.top).attr("data-d",(function(e,i,s){var a=s[i],r="inner",l=0;"inside"!==t.dataLabel.placement&&(r="outer",l=t.labelOffset);var n={startAngle:e.startAngle,endAngle:e.endAngle,innerRadius:t.innerRadius,outerRadius:t.outerRadius},o={startAngle:e.startAngle,endAngle:e.endAngle,innerRadius:t[r+"Radius"]+l,outerRadius:t.outerRadius+l};return Object(_visa_charts_utils_umd_8068485b_js__WEBPACK_IMPORTED_MODULE_16__.s)(a).attr("data-fake-x",t.arc.centroid(o)[0]).attr("data-fake-y",t.arc.centroid(o)[1]).attr("data-r",1),t.arc(n)})).transition("update").duration(this.duration).ease(_circle_1a7bf607_js__WEBPACK_IMPORTED_MODULE_19__.c)[this.duration?"attrTween":"attr"]("d",(function(e,i,s){var a=s[i],r=a._current,l={startAngle:e.startAngle,endAngle:e.endAngle,innerRadius:t.innerRadius,outerRadius:t.outerRadius};Object(_visa_charts_utils_umd_8068485b_js__WEBPACK_IMPORTED_MODULE_16__.s)(s[i]).classed("entering")&&(r={startAngle:0,endAngle:0,innerRadius:t.innerRadius,outerRadius:t.outerRadius},Object(_visa_charts_utils_umd_8068485b_js__WEBPACK_IMPORTED_MODULE_16__.s)(s[i]).classed("entering",!1));var n=Object(_value_ed2395a3_js__WEBPACK_IMPORTED_MODULE_20__.i)(r,l);return t.duration?function(e){return a._current=n(e),t.arc(a._current)}:(a._current=n(1),t.arc(l))})).call(transitionEndAll,(function(){t.update.classed("geometryIsMoving",!1),t.updateInteractionState(),retainAccessFocus({parentGNode:t.rootG.node()}),t.transitionEndEvent.emit({chartID:t.chartID})}))},t.prototype.setSelectedClass=function(){var t=this;this.update.classed("highlight",(function(e){var i=checkInteraction(e.data,!0,!1,"",t.clickHighlight,t.innerInteractionKeys);return!(!t.clickHighlight||!t.clickHighlight.length)&&i})).each((function(e,i,s){var a=checkInteraction(e.data,!0,!1,"",t.clickHighlight,t.innerInteractionKeys);a=!(!t.clickHighlight||!t.clickHighlight.length)&&a;var r=t.accessibility.elementsAreInterface;setElementInteractionAccessState(s[i],a,r)}))},t.prototype.drawReferenceLines=function(){var t=this,e=this.references.selectAll(".arc-ref").data(this.refData),i=e.enter().append("path").attr("opacity",0).attr("class","arc-ref").attr("fill","none").attr("stroke-width",0).classed("entering",!0).each((function(t,e,i){initializeElementAccess(i[e])}));e.exit().transition("exit").duration(this.duration).ease(_circle_1a7bf607_js__WEBPACK_IMPORTED_MODULE_19__.c).attr("opacity",0)[this.duration?"attrTween":"attr"]("d",(function(e,i,s){var a=s[i],r=a._current,l={startAngle:0,endAngle:0,innerRadius:Math.max(0,t.innerRadius-5),outerRadius:t.outerRadius+5},n=Object(_value_ed2395a3_js__WEBPACK_IMPORTED_MODULE_20__.i)(r,l);return t.duration?function(e){return a._current=n(e),t.arc(a._current)}:t.arc(l)})).remove(),this.updateRefPie=e.merge(i).classed("ignore",(function(t,e){return 0!==e})),this.updateRefPie.attr("opacity",this.referenceStyle.opacity).attr("stroke-dasharray",this.referenceStyle.dashed).transition("update").duration(this.duration).ease(_circle_1a7bf607_js__WEBPACK_IMPORTED_MODULE_19__.c).attr("stroke-width",0!==this.innerRatio?3:0).attr(0!==this.innerRatio?"fill":"stroke","rgba(0,0,0,0)").attr(0!==this.innerRatio?"stroke":"fill",(function(e,i){return visaColors[t.referenceStyle.color]||t.referenceStyle.color||t.preparedColors[i]}))[this.duration?"attrTween":"attr"]("d",(function(e,i,s){var a={startAngle:e.endAngle,endAngle:e.endAngle,innerRadius:Math.max(0,t.innerRadius-5),outerRadius:t.outerRadius+5},r=s[i],l=r._current;Object(_visa_charts_utils_umd_8068485b_js__WEBPACK_IMPORTED_MODULE_16__.s)(r).classed("entering")&&(l={startAngle:0,endAngle:0,innerRadius:Math.max(0,t.innerRadius-5),outerRadius:t.outerRadius+5},Object(_visa_charts_utils_umd_8068485b_js__WEBPACK_IMPORTED_MODULE_16__.s)(r).classed("entering",!1));var n=Object(_value_ed2395a3_js__WEBPACK_IMPORTED_MODULE_20__.i)(l,a);return t.duration?function(e){return r._current=n(e),t.arc(r._current)}:(r._current=n(1),t.arc(a))}))},t.prototype.enterLabels=function(t){var e=this,i="RefLabels"===t?"edge":this.dataLabel.placement,s=this.dataLabel.visible?1:0,a=this.showLabelNote?1:0;this["entering"+t].attr("class","pie-dataLabel-highlight").attr("opacity",0).attr("opacity",(function(t){return checkInteraction(t.data,s,e.hoverOpacity,e.hoverHighlight,e.clickHighlight,e.innerInteractionKeys)<1?0:Number.EPSILON})).classed("entering",!0).attr("fill",(function(t,s,a){return e.textTreatmentHandler(t,s,a,i)})).attr("cursor",this.suppressEvents||"RefLabels"===t?null:this.cursor).on("click",this.suppressEvents||"RefLabels"===t?null:function(t,i,s){return e.onClickHandler(t.data,s[i])}).on("mouseover",this.suppressEvents||"RefLabels"===t?null:function(t,i,s){return e.onHoverHandler(t.data,s[i])}).on("mouseout",this.suppressEvents||"RefLabels"===t?null:function(){return e.onMouseOutHandler()}),this["entering"+t+"Notes"].attr("class","pie-dataLabel-note").attr("opacity",0).attr("opacity",(function(t){return checkInteraction(t.data,a,e.hoverOpacity,e.hoverHighlight,e.clickHighlight,e.innerInteractionKeys)<1?0:Number.EPSILON})).classed("entering",!0).attr("cursor",this.suppressEvents||"RefLabels"===t?null:this.cursor).on("click",this.suppressEvents||"RefLabels"===t?null:function(t,i,s){return e.onClickHandler(t.data,s[i])}).on("mouseover",this.suppressEvents||"RefLabels"===t?null:function(t,i,s){return e.onHoverHandler(t.data,s[i])}).on("mouseout",this.suppressEvents||"RefLabels"===t?null:function(){return e.onMouseOutHandler()})},t.prototype.updateLabels=function(t){var e=this;this.updatingLabels.interrupt();var i=this.dataLabel.visible?1:0,s=this.showLabelNote?1:0;this["updating"+t].transition("opacity").ease(_circle_1a7bf607_js__WEBPACK_IMPORTED_MODULE_19__.c).duration(this.duration).attr("opacity",(function(t){return checkInteraction(t.data,i,e.hoverOpacity,e.hoverHighlight,e.clickHighlight,e.innerInteractionKeys)<1?0:1})),this["updating"+t+"Notes"].transition("opacity").duration(this.duration).ease(_circle_1a7bf607_js__WEBPACK_IMPORTED_MODULE_19__.c).attr("opacity",(function(t){return checkInteraction(t.data,s,e.hoverOpacity,e.hoverHighlight,e.clickHighlight,e.innerInteractionKeys)<1?0:1}))},t.prototype.exitLabels=function(t){var e=this,i="RefLabels"===t?"edge":this.dataLabel.placement;this["exiting"+t].transition("exit").duration(this.duration).ease(_circle_1a7bf607_js__WEBPACK_IMPORTED_MODULE_19__.c).attr("opacity",0)[this.duration?"attrTween":"attr"]("x",(function(s,a,r){var l=r[a],n="inner",o=0;"inside"!==i&&(n="outer",o=e.labelOffset);var c={startAngle:0,start:0,endAngle:0,innerRadius:e[n+"Radius"]+o,outerRadius:e.outerRadius+o};if(!e.duration)return Object(_visa_charts_utils_umd_8068485b_js__WEBPACK_IMPORTED_MODULE_16__.s)(l).attr("y",e.arc.centroid(c)[1]),Object(_visa_charts_utils_umd_8068485b_js__WEBPACK_IMPORTED_MODULE_16__.s)(l).text("edge"===i&&a===e.preppedData.length-1&&"RefLabels"!==t?"":e.showPercentage?formatStats((s.endAngle-s.startAngle)/(2*Math.PI),"0.0%"):e.dataLabel.format?formatStats(s.data[e.valueAccessor],e.dataLabel.format):s.data[e.valueAccessor]),e.arc.centroid(c)[0];var h=Object(_value_ed2395a3_js__WEBPACK_IMPORTED_MODULE_20__.i)(l._current,c);return function(s){return l._current=h(s),Object(_visa_charts_utils_umd_8068485b_js__WEBPACK_IMPORTED_MODULE_16__.s)(l).attr("y",e.arc.centroid(l._current)[1]),Object(_visa_charts_utils_umd_8068485b_js__WEBPACK_IMPORTED_MODULE_16__.s)(l).text("edge"===i&&a===e.preppedData.length-1&&"RefLabels"!==t?"":e.showPercentage?formatStats((l._current.endAngle-l._current.start)/(2*Math.PI),"0.[0]%"):e.dataLabel.format?formatStats(l._current.value,e.dataLabel.format):l._current.value),e.arc.centroid(l._current)[0]}})).remove(),this["exiting"+t+"Notes"].transition("exit").duration(this.duration).ease(_circle_1a7bf607_js__WEBPACK_IMPORTED_MODULE_19__.c).attr("opacity",0)[this.duration?"attrTween":"attr"]("x",(function(t,s,a){var r=a[s],l="inner",n=0;"inside"!==i&&(l="outer",n=e.labelOffset);var o={value:0,startAngle:0,endAngle:0,innerRadius:e[l+"Radius"]+n,outerRadius:e.outerRadius+n};if(!e.duration)return Object(_visa_charts_utils_umd_8068485b_js__WEBPACK_IMPORTED_MODULE_16__.s)(r).attr("y",e.arc.centroid(o)[1]),e.arc.centroid(o)[0];var c=Object(_value_ed2395a3_js__WEBPACK_IMPORTED_MODULE_20__.i)(r._current,o);return function(t){return r._current=c(t),Object(_visa_charts_utils_umd_8068485b_js__WEBPACK_IMPORTED_MODULE_16__.s)(r).attr("y",e.arc.centroid(r._current)[1]),e.arc.centroid(r._current)[0]}})).remove()},t.prototype.drawDataLabels=function(t){var e=this,i="RefLabels"===t?"edge":this.dataLabel.placement;if("Labels"===t&&this.dataLabel.visible&&this.dataLabel.collisionHideOnly){var s=this.rootG.select(".pie-center-title-group").selectAll("text");this.bitmaps=resolveLabelCollision({labelSelection:Object(_visa_charts_utils_umd_8068485b_js__WEBPACK_IMPORTED_MODULE_16__.s)(".empty-stuff-vcc-do-not-use"),avoidMarks:[s,this.updatingEdges,this.update],validPositions:["middle"],offsets:[1],accessors:[this.ordinalAccessor],size:[roundTo(this.width,0),roundTo(this.height,0)]})}this["updating"+t].style("visibility",(function(t,i,s){return"auto"===e.dataLabel.placement||e.dataLabel.collisionHideOnly?Object(_visa_charts_utils_umd_8068485b_js__WEBPACK_IMPORTED_MODULE_16__.s)(s[i]).style("visibility"):null})).transition("update").duration(this.duration).ease(_circle_1a7bf607_js__WEBPACK_IMPORTED_MODULE_19__.c)[this.duration?"attrTween":"attr"]("x",(function(s,a,r){var l=r[a],n=l._current,o="innerRadius",c=0,h="startAngle";"inside"!==i&&(o="outerRadius",c=e.labelOffset),"edge"===i&&(h="endAngle");var u={value:s.data[e.valueAccessor],start:s.startAngle,startAngle:s[h],endAngle:s.endAngle,innerRadius:e[o]+c,outerRadius:e.outerRadius+c};Object(_visa_charts_utils_umd_8068485b_js__WEBPACK_IMPORTED_MODULE_16__.s)(l).attr("data-use-dx",!0).attr("data-use-dy",!0).attr("data-translate-x",e.radius+e.padding.left+e.margin.left).attr("data-translate-y",e.radius+e.padding.top+e.margin.top).attr("data-x",e.arc.centroid(u)[0]).attr("data-y",e.arc.centroid(u)[1]).attr("data-r",1).attr("dx",0).attr("dy","inside"===i?"0.1em":0).attr("text-anchor","inside"===i?"middle":"edge"===i?s.endAngle<Math.PI?"start":"end":s.startAngle+(s.endAngle-s.startAngle)/2<Math.PI?"start":"end").text("edge"===i&&a===e.preppedData.length-1&&"RefLabels"!==t?"":e.showPercentage?formatStats((s.endAngle-s.startAngle)/(2*Math.PI),"0.0%"):e.dataLabel.format?formatStats(s.data[e.valueAccessor],e.dataLabel.format):s.data[e.valueAccessor]),Object(_visa_charts_utils_umd_8068485b_js__WEBPACK_IMPORTED_MODULE_16__.s)(l).classed("entering")&&(n={value:s.data[e.valueAccessor],start:s.startAngle,startAngle:0,endAngle:0,innerRadius:e[o]+c,outerRadius:e.outerRadius+c},Object(_visa_charts_utils_umd_8068485b_js__WEBPACK_IMPORTED_MODULE_16__.s)(l).classed("entering",!1));var d=Object(_value_ed2395a3_js__WEBPACK_IMPORTED_MODULE_20__.i)(n,u);if(e.dataLabel.visible&&e.dataLabel.collisionHideOnly){e.bitmaps=resolveLabelCollision({bitmaps:e.bitmaps,labelSelection:Object(_visa_charts_utils_umd_8068485b_js__WEBPACK_IMPORTED_MODULE_16__.s)(l),avoidMarks:[],validPositions:["middle"],offsets:[1],accessors:[e.ordinalAccessor],size:[roundTo(e.width,0),roundTo(e.height,0)],hideOnly:e.dataLabel.visible&&e.dataLabel.collisionHideOnly})}return e.duration?function(s){return l._current=d(s),Object(_visa_charts_utils_umd_8068485b_js__WEBPACK_IMPORTED_MODULE_16__.s)(l).attr("y",e.arc.centroid(l._current)[1]),Object(_visa_charts_utils_umd_8068485b_js__WEBPACK_IMPORTED_MODULE_16__.s)(l).text("edge"===i&&a===e.preppedData.length-1&&"RefLabels"!==t?"":e.showPercentage?formatStats((l._current.endAngle-l._current.start)/(2*Math.PI),"0.0%"):e.dataLabel.format?formatStats(l._current.value,e.dataLabel.format):l._current.value),e.arc.centroid(l._current)[0]}:(l._current=d(1),Object(_visa_charts_utils_umd_8068485b_js__WEBPACK_IMPORTED_MODULE_16__.s)(l).attr("y",e.arc.centroid(u)[1]),Object(_visa_charts_utils_umd_8068485b_js__WEBPACK_IMPORTED_MODULE_16__.s)(l).text("edge"===i&&a===e.preppedData.length-1&&"RefLabels"!==t?"":e.showPercentage?formatStats((s.endAngle-s.startAngle)/(2*Math.PI),"0.0%"):e.dataLabel.format?formatStats(s.data[e.valueAccessor],e.dataLabel.format):s.data[e.valueAccessor]),e.arc.centroid(u)[0])})).call(transitionEndAll,(function(){})),this["updating"+t+"Notes"].style("visibility",(function(t,i,s){return"auto"===e.dataLabel.placement||e.dataLabel.collisionHideOnly?Object(_visa_charts_utils_umd_8068485b_js__WEBPACK_IMPORTED_MODULE_16__.s)(s[i]).style("visibility"):null})).transition("update").duration(this.duration).ease(_circle_1a7bf607_js__WEBPACK_IMPORTED_MODULE_19__.c)[this.duration?"attrTween":"attr"]("x",(function(s,a,r){var l=r[a],n=l._current,o="edge"===i?"endAngle":"startAngle";Object(_visa_charts_utils_umd_8068485b_js__WEBPACK_IMPORTED_MODULE_16__.s)(r[a]).classed("entering")&&(n={startAngle:0,endAngle:0,innerRadius:e.outerRadius+e.labelOffset,outerRadius:e.outerRadius+e.labelOffset},Object(_visa_charts_utils_umd_8068485b_js__WEBPACK_IMPORTED_MODULE_16__.s)(r[a]).classed("entering",!1));var c={startAngle:s[o],endAngle:s.endAngle,innerRadius:e.outerRadius+e.labelOffset,outerRadius:e.outerRadius+e.labelOffset};Object(_visa_charts_utils_umd_8068485b_js__WEBPACK_IMPORTED_MODULE_16__.s)(l).attr("data-use-dx",!0).attr("data-use-dy",!0).attr("data-translate-x",e.radius+e.padding.left+e.margin.left).attr("data-translate-y",e.radius+e.padding.top+e.margin.top+5).attr("data-x",e.arc.centroid(c)[0]).attr("data-y",e.arc.centroid(c)[1]).attr("dx",0).text("edge"===i&&a===e.preppedData.length-1&&"RefLabels"!==t?"":s.data[e.ordinalAccessor]).attr("dy","inside"===i?0:"1.4em").attr("text-anchor","edge"===i?s.endAngle<Math.PI?"start":"end":s.startAngle+(s.endAngle-s.startAngle)/2<Math.PI?"start":"end");var h=Object(_value_ed2395a3_js__WEBPACK_IMPORTED_MODULE_20__.i)(n,c);if(e.showLabelNote&&e.dataLabel.visible&&e.dataLabel.collisionHideOnly){e.bitmaps=resolveLabelCollision({bitmaps:e.bitmaps,labelSelection:Object(_visa_charts_utils_umd_8068485b_js__WEBPACK_IMPORTED_MODULE_16__.s)(l),avoidMarks:[],validPositions:["middle"],offsets:[1],accessors:[e.ordinalAccessor],size:[roundTo(e.width,0),roundTo(e.height,0)],hideOnly:e.showLabelNote&&e.dataLabel.visible&&e.dataLabel.collisionHideOnly})}return e.duration?function(t){return l._current=h(t),Object(_visa_charts_utils_umd_8068485b_js__WEBPACK_IMPORTED_MODULE_16__.s)(l).attr("y",e.arc.centroid(l._current)[1]),e.arc.centroid(l._current)[0]}:(l._current=h(1),Object(_visa_charts_utils_umd_8068485b_js__WEBPACK_IMPORTED_MODULE_16__.s)(l).attr("y",e.arc.centroid(c)[1]),e.arc.centroid(c)[0])})).call(transitionEndAll,(function(){}))},t.prototype.drawCenterTitle=function(){var t=this,e=this.rootG.select(".pie-center-title-group");this.defaults&&((e=this.rootG.append("g").attr("class","pie-center-title-group").style("opacity",1)).append("text").attr("class","visa-ui-header--1 visa-viz-title").attr("text-anchor","middle").attr("x",0).attr("y",0).attr("fill",visaColors.dark_text),e.append("text").attr("class","visa-ui-text--body visa-viz-subtitle").attr("text-anchor","middle").attr("x",0).attr("fill",visaColors.dark_text)),e.select(".visa-viz-title").text(this.centerTitle).attr("data-fill",!0).attr("data-width",(function(e,i,s){if(t.dataLabel.visible&&t.dataLabel.collisionHideOnly){var a=s[i],r=getComputedStyle(a),l=parseFloat(r.fontSize),n=getTextWidth(a.textContent,l,!0,r.fontFamily),o=Math.max(l-1,1);return Object(_visa_charts_utils_umd_8068485b_js__WEBPACK_IMPORTED_MODULE_16__.s)(a).attr("data-x",0).attr("data-y",-o/2).attr("data-height",o).attr("data-translate-x",t.radius+t.padding.left+t.margin.left).attr("data-translate-y",t.radius+t.padding.top+t.margin.top),n}})),e.select(".visa-viz-subtitle").attr("data-x",0).attr("data-y",this.centerTitle?20:10).attr("y",this.centerTitle?20:10).text(this.centerSubTitle).attr("data-fill",!0).attr("data-width",(function(e,i,s){if(t.dataLabel.visible&&t.dataLabel.collisionHideOnly){var a=s[i],r=getComputedStyle(a),l=parseFloat(r.fontSize),n=getTextWidth(a.textContent,l,!0,r.fontFamily),o=Math.max(l-1,1);return Object(_visa_charts_utils_umd_8068485b_js__WEBPACK_IMPORTED_MODULE_16__.s)(a).attr("data-x",0).attr("data-y",(t.centerTitle?20:10)-o/2).attr("data-height",o).attr("data-translate-x",t.radius+t.padding.left+t.margin.left).attr("data-translate-y",t.radius+t.padding.top+t.margin.top),n}}));var i=createTextStrokeFilter({root:this.svg.node(),id:this.chartID,color:"#ffffff"});e.attr("filter",i)},t.prototype.enterEdgeLine=function(){this.enteringEdges.attr("class","edge-line").attr("opacity",0).classed("entering",!0).attr("stroke-width",1).attr("stroke",visaColors.dark_text).attr("fill","none")},t.prototype.updateEdgeLine=function(t){var e=1;this.showEdgeLine||"edge"===this.dataLabel.placement||(e=0),this.updatingEdges.transition("edgeOpacity").duration(this.duration).ease(_circle_1a7bf607_js__WEBPACK_IMPORTED_MODULE_19__.c).attr("opacity",(function(i,s){return"refEdges"===t&&0!==s?0:e}))},t.prototype.exitEdgeLine=function(){var t=this;this.exitingEdges.transition("exit").duration(this.duration).ease(_circle_1a7bf607_js__WEBPACK_IMPORTED_MODULE_19__.c).attr("opacity",0)[this.duration?"attrTween":"attr"]("d",(function(e,i,s){var a=s[i],r={startAngle:0,endAngle:0,innerRadius:(t.radius+t.radius*t.innerRatio)/2,outerRadius:(t.radius+t.radius*t.innerRatio)/2};if(!t.duration)return t.arc(r);var l=Object(_value_ed2395a3_js__WEBPACK_IMPORTED_MODULE_20__.i)(a._current,r);return function(e){return a._current=l(e),t.arc(a._current)}})).remove()},t.prototype.drawEdgeLine=function(){var t=this;this.updatingEdges.attr("data-translate-x",this.radius+this.padding.left+this.margin.left).attr("data-translate-y",this.radius+this.padding.top+this.margin.top).attr("data-d",(function(e,i,s){var a=s[i],r={startAngle:e.endAngle,endAngle:e.endAngle,innerRadius:Math.max(0,t.innerRadius-5),outerRadius:t.outerRadius+5};return Object(_visa_charts_utils_umd_8068485b_js__WEBPACK_IMPORTED_MODULE_16__.s)(a).attr("data-fake-x",t.arc.centroid(r)[0]).attr("data-fake-y",t.arc.centroid(r)[1]),t.arc(r)})).transition("update").duration(this.duration).ease(_circle_1a7bf607_js__WEBPACK_IMPORTED_MODULE_19__.c)[this.duration?"attrTween":"attr"]("d",(function(e,i,s){var a=s[i],r=a._current;Object(_visa_charts_utils_umd_8068485b_js__WEBPACK_IMPORTED_MODULE_16__.s)(a).classed("entering")&&(r={startAngle:0,endAngle:0,innerRadius:Math.max(0,t.innerRadius-5),outerRadius:t.outerRadius+5},Object(_visa_charts_utils_umd_8068485b_js__WEBPACK_IMPORTED_MODULE_16__.s)(a).classed("entering",!1));var l={startAngle:e.endAngle,endAngle:e.endAngle,innerRadius:Math.max(0,t.innerRadius-5),outerRadius:t.outerRadius+5},n=Object(_value_ed2395a3_js__WEBPACK_IMPORTED_MODULE_20__.i)(r,l);return t.duration?function(e){return a._current=n(e),t.arc(a._current)}:(a._current=n(1),t.arc(l))}))},t.prototype.drawAnnotations=function(){annotate({source:this.rootG.node(),data:this.annotations,width:this.width,height:this.height,padding:this.padding,margin:this.margin,bitmaps:this.bitmaps})},t.prototype.setAnnotationAccessibility=function(){setAccessAnnotation(this.pieChartEl,this.annotations)},t.prototype.setTagLevels=function(){this.topLevel=findTagLevel(this.highestHeadingLevel),this.bottomLevel=findTagLevel(this.highestHeadingLevel,3)},t.prototype.setChartDescriptionWrapper=function(){initializeDescriptionRoot({rootEle:this.pieChartEl,title:this.accessibility.title||this.mainTitle,chartTag:"pie-chart",uniqueID:this.chartID,highestHeadingLevel:this.highestHeadingLevel,redraw:this.shouldRedrawWrapper,disableKeyNav:this.suppressEvents&&!1===this.accessibility.elementsAreInterface&&this.accessibility.keyboardNavConfig&&this.accessibility.keyboardNavConfig.disabled}),this.shouldRedrawWrapper=!1},t.prototype.setParentSVGAccessibility=function(){setAccessibilityController({node:this.svg.node(),chartTag:"pie-chart",title:this.accessibility.title||this.mainTitle,description:this.subTitle,uniqueID:this.chartID,geomType:"slice",includeKeyNames:this.accessibility.includeDataKeyNames,dataKeys:scopeDataKeys(this,chartAccessors,"pie-chart"),dataKeyNames:this.dataKeyNames,groupName:"pie",disableKeyNav:this.suppressEvents&&!1===this.accessibility.elementsAreInterface&&this.accessibility.keyboardNavConfig&&this.accessibility.keyboardNavConfig.disabled})},t.prototype.setGeometryAccessibilityAttributes=function(){this.update.each((function(t,e,i){initializeElementAccess(i[e])})),this.updateRefPie.each((function(t,e,i){initializeElementAccess(i[e])}))},t.prototype.setGeometryAriaLabels=function(){var t=this,e=scopeDataKeys(this,chartAccessors,"pie-chart");this.update.each((function(i,s,a){setElementFocusHandler({node:a[s],geomType:"slice",includeKeyNames:t.accessibility.includeDataKeyNames,dataKeys:e,dataKeyNames:t.dataKeyNames,groupName:"pie",uniqueID:t.chartID,disableKeyNav:t.suppressEvents&&!1===t.accessibility.elementsAreInterface&&t.accessibility.keyboardNavConfig&&t.accessibility.keyboardNavConfig.disabled}),setElementAccessID({node:a[s],uniqueID:t.chartID})})),this.updateRefPie.each((function(i,s,a){setElementFocusHandler({node:a[s],geomType:"slice",includeKeyNames:t.accessibility.includeDataKeyNames,dataKeys:e,groupName:"pie",uniqueID:t.chartID,disableKeyNav:t.suppressEvents&&!1===t.accessibility.elementsAreInterface&&t.accessibility.keyboardNavConfig&&t.accessibility.keyboardNavConfig.disabled}),setElementAccessID({node:a[s],uniqueID:t.chartID})}))},t.prototype.setGroupAccessibilityAttributes=function(){initializeElementAccess(this.pieG.node())},t.prototype.setGroupAccessibilityID=function(){var t=this;this.pieG.each((function(e,i,s){setElementAccessID({node:s[i],uniqueID:t.chartID})}))},t.prototype.setChartAccessibilityTitle=function(){setAccessTitle(this.pieChartEl,this.accessibility.title||this.mainTitle)},t.prototype.setChartAccessibilitySubtitle=function(){setAccessSubtitle(this.pieChartEl,this.subTitle)},t.prototype.setChartAccessibilityLongDescription=function(){setAccessLongDescription(this.pieChartEl,this.accessibility.longDescription)},t.prototype.setChartAccessibilityExecutiveSummary=function(){setAccessExecutiveSummary(this.pieChartEl,this.accessibility.executiveSummary)},t.prototype.setChartAccessibilityPurpose=function(){setAccessPurpose(this.pieChartEl,this.accessibility.purpose)},t.prototype.setChartAccessibilityContext=function(){setAccessContext(this.pieChartEl,this.accessibility.contextExplanation)},t.prototype.setChartAccessibilityStatisticalNotes=function(){setAccessStatistics(this.pieChartEl,this.accessibility.statisticalNotes)},t.prototype.setChartCountAccessibility=function(){setAccessChartCounts({rootEle:this.pieChartEl,parentGNode:this.pieG.node(),chartTag:"pie-chart",geomType:"slice",groupName:"pie"})},t.prototype.setChartAccessibilityStructureNotes=function(){setAccessStructure(this.pieChartEl,this.accessibility.structureNotes)},t.prototype.onChangeHandler=function(){if(this.accessibility&&"function"==typeof this.accessibility.onChangeFunc){var t={updated:this.updated,added:this.enterSize,removed:this.exitSize};this.accessibility.onChangeFunc(t)}this.updated=!1,this.enterSize=0,this.exitSize=0},t.prototype.updateCursor=function(){this.update.attr("cursor",this.suppressEvents?null:this.cursor),this.updatingLabels.attr("cursor",this.suppressEvents?null:this.cursor)},t.prototype.bindInteractivity=function(){var t=this;this.update.on("click",this.suppressEvents?null:function(e,i,s){return t.onClickHandler(e.data,s[i])}).on("mouseover",this.suppressEvents?null:function(e,i,s){return t.onHoverHandler(e.data,s[i])}).on("mouseout",this.suppressEvents?null:function(){return t.onMouseOutHandler()}),this.updatingLabels.on("click",this.suppressEvents?null:function(e,i,s){return t.onClickHandler(e.data,s[i])}).on("mouseover",this.suppressEvents?null:function(e,i,s){return t.onHoverHandler(e.data,s[i])}).on("mouseout",this.suppressEvents?null:function(){return t.onMouseOutHandler()}),this.updatingLabelsNotes.on("click",this.suppressEvents?null:function(e,i,s){return t.onClickHandler(e.data,s[i])}).on("mouseover",this.suppressEvents?null:function(e,i,s){return t.onHoverHandler(e.data,s[i])}).on("mouseout",this.suppressEvents?null:function(){return t.onMouseOutHandler()})},t.prototype.onClickHandler=function(t,e){this.clickEvent.emit({data:t,target:e})},t.prototype.onHoverHandler=function(t,e){overrideTitleTooltip(this.chartID,!0),this.hoverEvent.emit({data:t,target:e}),this.showTooltip&&this.eventsTooltip({data:t,evt:_visa_charts_utils_umd_8068485b_js__WEBPACK_IMPORTED_MODULE_16__.e,isToShow:!0})},t.prototype.onMouseOutHandler=function(){overrideTitleTooltip(this.chartID,!1),this.mouseOutEvent.emit(),this.showTooltip&&this.eventsTooltip({isToShow:!1})},t.prototype.setTooltipInitialStyle=function(){initTooltipStyle(this.tooltipG)},t.prototype.eventsTooltip=function(t){var e=t.data,i=t.evt,s=t.isToShow;drawTooltip({root:this.tooltipG,data:e,event:i,isToShow:s,tooltipLabel:this.tooltipLabel,dataLabel:this.dataLabel,dataKeyNames:this.dataKeyNames,ordinalAccessor:this.ordinalAccessor,valueAccessor:this.valueAccessor,chartType:"pie",normalized:this.showPercentage})},t.prototype.render=function(){return this.drawStartEvent.emit({chartID:this.chartID}),this.init(),this.shouldSetTagLevels&&(this.setTagLevels(),this.shouldSetTagLevels=!1),this.shouldUpdateScales&&(this.prepareScales(),this.shouldUpdateScales=!1),this.shouldUpdateData&&(this.prepareData(),this.shouldUpdateData=!1),this.shouldUpdateLayout&&(this.setLayoutData(),this.shouldUpdateLayout=!1),this.shouldSetPieRadius&&(this.setPieRadius(),this.shouldSetPieRadius=!1),this.shouldUpdateInnerRatio&&(this.setInnerRatio(),this.shouldUpdateInnerRatio=!1),this.shouldValidateInteractionKeys&&(this.validateInteractionKeys(),this.shouldValidateInteractionKeys=!1),this.shouldUpdateTableData&&(this.setTableData(),this.shouldUpdateTableData=!1),this.shouldValidate&&(this.shouldValidateAccessibilityProps(),this.shouldValidate=!1),this.shouldSetColors&&(this.setColors(),this.shouldSetColors=!1),Object(_index_33c35d20_js__WEBPACK_IMPORTED_MODULE_15__.h)("div",{class:"o-layout is--vertical"},Object(_index_33c35d20_js__WEBPACK_IMPORTED_MODULE_15__.h)("div",{class:"o-layout--chart"},Object(_index_33c35d20_js__WEBPACK_IMPORTED_MODULE_15__.h)(this.topLevel,{class:"pie-main-title vcl-main-title"},this.mainTitle),Object(_index_33c35d20_js__WEBPACK_IMPORTED_MODULE_15__.h)(this.bottomLevel,{class:"visa-ui-text--instructions pie-sub-title vcl-sub-title"},this.subTitle),Object(_index_33c35d20_js__WEBPACK_IMPORTED_MODULE_15__.h)("keyboard-instructions",{uniqueID:this.chartID,geomType:"slice",groupName:"pie",chartTag:"pie-chart",width:this.width-(this.margin&&this.margin.right||0),isInteractive:this.accessibility.elementsAreInterface,hasCousinNavigation:!1,disabled:this.suppressEvents&&!1===this.accessibility.elementsAreInterface&&this.accessibility.keyboardNavConfig&&this.accessibility.keyboardNavConfig.disabled}),Object(_index_33c35d20_js__WEBPACK_IMPORTED_MODULE_15__.h)("div",{class:"visa-viz-d3-pie-container"}),Object(_index_33c35d20_js__WEBPACK_IMPORTED_MODULE_15__.h)("div",{class:"pie-tooltip vcl-tooltip",style:{display:this.showTooltip?"block":"none"}}),Object(_index_33c35d20_js__WEBPACK_IMPORTED_MODULE_15__.h)("data-table",{uniqueID:this.chartID,isCompact:!0,tableColumns:this.tableColumns,dataKeyNames:this.dataKeyNames,data:this.tableData,padding:this.padding,margin:this.margin,hideDataTable:this.accessibility.hideDataTableButton,unitTest:this.unitTest})))},t.prototype.init=function(){var t=Object.keys(PieChartDefaultValues),e=0,i={showLabelNote:{exception:!1},innerRatio:{exception:0},showPercentage:{exception:!1},showTooltip:{exception:!1},mainTitle:{exception:""},subTitle:{exception:""},hoverOpacity:{exception:0}};for(e=0;e<t.length;e++){var s=!!i[t[e]]&&this[t[e]]===i[t[e]].exception;this[t[e]]=this[t[e]]||s?this[t[e]]:PieChartDefaultValues[t[e]]}},Object.defineProperty(t.prototype,"pieChartEl",{get:function get(){return Object(_index_33c35d20_js__WEBPACK_IMPORTED_MODULE_15__.g)(this)},enumerable:!1,configurable:!0}),Object.defineProperty(t,"watchers",{get:function get(){return{mainTitle:["titleWatcher"],subTitle:["subtitleWatcher"],highestHeadingLevel:["headingWatcher"],centerTitle:["centerTitleWatcher"],centerSubTitle:["centerTitleWatcher"],height:["layoutWatcher"],width:["layoutWatcher"],padding:["layoutWatcher"],margin:["layoutWatcher"],data:["dataWatcher"],uniqueID:["idWatcher"],ordinalAccessor:["ordinalAccessorWatcher"],valueAccessor:["valueAccessorWatcher"],sortOrder:["sortWatcher"],colorPalette:["paletteWatcher"],colors:["colorsWatcher"],innerRatio:["innerRatioWatcher"],showEdgeLine:["showEdgeLineWatcher"],referenceStyle:["referenceWatcher"],hoverOpacity:["hoverOpacityWatcher"],cursor:["cursorWatcher"],showPercentage:["showPercentageWatcher"],showTooltip:["showTooltipWatcher"],tooltipLabel:["tooltipLabelWatcher"],dataLabel:["labelWatcher"],showLabelNote:["labelNoteWatcher"],labelOffset:["labelOffsetWatcher"],accessibility:["accessibilityWatcher"],annotations:["annotationsWatcher"],referenceData:["referenceDataWatcher"],suppressEvents:["suppressWatcher"],clickStyle:["clickStyleWatcher"],hoverStyle:["hoverStyleWatcher"],clickHighlight:["clickWatcher"],hoverHighlight:["hoverWatcher"],interactionKeys:["interactionWatcher"],dataKeyNames:["dataKeyNamesWatcher"],unitTest:["unitTestWatcher"]}},enumerable:!1,configurable:!0}),t}();window.VisaChartsLibOSSLicenses=getLicenses(),PieChart.style=".o-layout{width:100%;display:-ms-flexbox;display:flex;-ms-flex-wrap:wrap;flex-wrap:wrap}.o-layout--chart{width:100%}.is--vertical .o-layout--chart{width:90%}pie-chart .annotations{pointer-events:none}pie-chart .annotations .handle{pointer-events:all}pie-chart .screen-reader-info{position:absolute;left:-9999px;top:auto;width:1px;height:1px;overflow:hidden}pie-chart .data-table-link{color:#767676;text-decoration:none;font-size:12px;margin-left:5%}pie-chart .hidden{display:none}pie-chart .pie-tooltip{z-index:1}pie-chart .arc text{font:0.625rem sans-serif;text-anchor:middle;cursor:default}pie-chart .pie-dataLabel-highlight{font-size:1.5rem;font-weight:300}pie-chart .pie-dataLabel-note{font-size:0.75rem;fill:#767676}pie-chart .pie-center-title-group{fill:#767676}pie-chart .pie-center-title-group .visa-ui-header--1{font-size:2rem}"},"./packages/charts/dist/esm-es5/value-ed2395a3.js":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"i",(function(){return interpolate}));__webpack_require__("./node_modules/core-js/modules/es.symbol.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.description.js"),__webpack_require__("./node_modules/core-js/modules/es.object.to-string.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.string.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.array.iterator.js"),__webpack_require__("./node_modules/core-js/modules/web.dom-collections.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.array.slice.js"),__webpack_require__("./node_modules/core-js/modules/es.array-buffer.is-view.js"),__webpack_require__("./node_modules/core-js/modules/es.array-buffer.constructor.js"),__webpack_require__("./node_modules/core-js/modules/es.array-buffer.slice.js"),__webpack_require__("./node_modules/core-js/modules/es.data-view.js"),__webpack_require__("./node_modules/core-js/modules/es.date.to-string.js"),__webpack_require__("./node_modules/core-js/modules/es.array.is-array.js"),__webpack_require__("./node_modules/core-js/modules/es.regexp.to-string.js");var _index_b17e4f46_js__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__("./packages/charts/dist/esm-es5/index-b17e4f46.js");function _typeof(obj){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},_typeof(obj)}function numberArray(r,e){e||(e=[]);var o,n=r?Math.min(e.length,r.length):0,t=e.slice();return function(i){for(o=0;o<n;++o)t[o]=r[o]*(1-i)+e[o]*i;return t}}function genericArray(r,e){var a,n=e?e.length:0,t=r?Math.min(n,r.length):0,o=new Array(t),i=new Array(n);for(a=0;a<t;++a)o[a]=interpolate(r[a],e[a]);for(;a<n;++a)i[a]=e[a];return function(r){for(a=0;a<t;++a)i[a]=o[a](r);return i}}function date(r,e){var n=new Date;return r=+r,e=+e,function(t){return n.setTime(r*(1-t)+e*t),n}}function object(r,e){var o,n={},t={};for(o in null!==r&&"object"===_typeof(r)||(r={}),null!==e&&"object"===_typeof(e)||(e={}),e)o in r?n[o]=interpolate(r[o],e[o]):t[o]=e[o];return function(r){for(o in n)t[o]=n[o](r);return t}}function interpolate(r,e){var t,n=_typeof(e);return null==e||"boolean"===n?Object(_index_b17e4f46_js__WEBPACK_IMPORTED_MODULE_15__.c)(e):("number"===n?_index_b17e4f46_js__WEBPACK_IMPORTED_MODULE_15__.i:"string"===n?(t=Object(_index_b17e4f46_js__WEBPACK_IMPORTED_MODULE_15__.a)(e))?(e=t,_index_b17e4f46_js__WEBPACK_IMPORTED_MODULE_15__.b):_index_b17e4f46_js__WEBPACK_IMPORTED_MODULE_15__.d:e instanceof _index_b17e4f46_js__WEBPACK_IMPORTED_MODULE_15__.a?_index_b17e4f46_js__WEBPACK_IMPORTED_MODULE_15__.b:e instanceof Date?date:function isNumberArray(r){return ArrayBuffer.isView(r)&&!(r instanceof DataView)}(e)?numberArray:Array.isArray(e)?genericArray:"function"!=typeof e.valueOf&&"function"!=typeof e.toString||isNaN(e)?object:_index_b17e4f46_js__WEBPACK_IMPORTED_MODULE_15__.i)(r,e)}}}]);