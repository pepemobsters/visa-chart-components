/**
 * Copyright (c) 2024 Visa, Inc.
 *
 * This source code is licensed under the MIT license
 * https://github.com/visa/visa-chart-components/blob/master/LICENSE
 *
 **/
import{i as n}from"./p-b5f7528a.js";import{i as t}from"./p-6e7316e2.js";function r(n,t){return n==null||t==null?NaN:n<t?-1:n>t?1:n>=t?0:NaN}function e(n,t){return n==null||t==null?NaN:t<n?-1:t>n?1:t>=n?0:NaN}function i(n){let t,i,f;if(n.length!==2){t=r;i=(t,e)=>r(n(t),e);f=(t,r)=>n(t)-r}else{t=n===r||n===e?n:u;i=n;f=n}function a(n,r,e=0,u=n.length){if(e<u){if(t(r,r)!==0)return u;do{const t=e+u>>>1;if(i(n[t],r)<0)e=t+1;else u=t}while(e<u)}return e}function o(n,r,e=0,u=n.length){if(e<u){if(t(r,r)!==0)return u;do{const t=e+u>>>1;if(i(n[t],r)<=0)e=t+1;else u=t}while(e<u)}return e}function c(n,t,r=0,e=n.length){const i=a(n,t,r,e-1);return i>r&&f(n[i-1],t)>-f(n[i],t)?i-1:i}return{left:a,center:c,right:o}}function u(){return 0}function f(n){return n===null?NaN:+n}const a=i(r);const o=a.right;i(f).center;const c=o;const s=Math.sqrt(50),h=Math.sqrt(10),l=Math.sqrt(2);function v(n,t,r){const e=(t-n)/Math.max(0,r),i=Math.floor(Math.log10(e)),u=e/Math.pow(10,i),f=u>=s?10:u>=h?5:u>=l?2:1;let a,o,c;if(i<0){c=Math.pow(10,-i)/f;a=Math.round(n*c);o=Math.round(t*c);if(a/c<n)++a;if(o/c>t)--o;c=-c}else{c=Math.pow(10,i)*f;a=Math.round(n/c);o=Math.round(t/c);if(a*c<n)++a;if(o*c>t)--o}if(o<a&&.5<=r&&r<2)return v(n,t,r*2);return[a,o,c]}function M(n,t,r){t=+t,n=+n,r=+r;if(!(r>0))return[];if(n===t)return[n];const e=t<n,[i,u,f]=e?v(t,n,r):v(n,t,r);if(!(u>=i))return[];const a=u-i+1,o=new Array(a);if(e){if(f<0)for(let n=0;n<a;++n)o[n]=(u-n)/-f;else for(let n=0;n<a;++n)o[n]=(u-n)*f}else{if(f<0)for(let n=0;n<a;++n)o[n]=(i+n)/-f;else for(let n=0;n<a;++n)o[n]=(i+n)*f}return o}function d(n,t,r){t=+t,n=+n,r=+r;return v(n,t,r)[2]}function N(n,t,r){t=+t,n=+n,r=+r;const e=t<n,i=e?d(t,n,r):d(n,t,r);return(e?-1:1)*(i<0?1/-i:i)}function w(n,t){return n=+n,t=+t,function(r){return Math.round(n*(1-r)+t*r)}}function b(n,t){switch(arguments.length){case 0:break;case 1:this.range(n);break;default:this.range(t).domain(n);break}return this}function k(n,t){switch(arguments.length){case 0:break;case 1:this.interpolator(n);break;default:this.interpolator(t).domain(n);break}return this}var y="$";function m(){}m.prototype=p.prototype={constructor:m,has:function(n){return y+n in this},get:function(n){return this[y+n]},set:function(n,t){this[y+n]=t;return this},remove:function(n){var t=y+n;return t in this&&delete this[t]},clear:function(){for(var n in this)if(n[0]===y)delete this[n]},keys:function(){var n=[];for(var t in this)if(t[0]===y)n.push(t.slice(1));return n},values:function(){var n=[];for(var t in this)if(t[0]===y)n.push(this[t]);return n},entries:function(){var n=[];for(var t in this)if(t[0]===y)n.push({key:t.slice(1),value:this[t]});return n},size:function(){var n=0;for(var t in this)if(t[0]===y)++n;return n},empty:function(){for(var n in this)if(n[0]===y)return false;return true},each:function(n){for(var t in this)if(t[0]===y)n(this[t],t.slice(1),this)}};function p(n,t){var r=new m;if(n instanceof m)n.each((function(n,t){r.set(t,n)}));else if(Array.isArray(n)){var e=-1,i=n.length,u;if(t==null)while(++e<i)r.set(e,n[e]);else while(++e<i)r.set(t(u=n[e],e,n),u)}else if(n)for(var f in n)r.set(f,n[f]);return r}function g(){var n=[],t=[],r,e,i;function u(t,i,f,a){if(i>=n.length){if(r!=null)t.sort(r);return e!=null?e(t):t}var o=-1,c=t.length,s=n[i++],h,l,v=p(),M,d=f();while(++o<c){if(M=v.get(h=s(l=t[o])+"")){M.push(l)}else{v.set(h,[l])}}v.each((function(n,t){a(d,t,u(n,i,f,a))}));return d}function f(r,i){if(++i>n.length)return r;var u,a=t[i-1];if(e!=null&&i>=n.length)u=r.entries();else u=[],r.each((function(n,t){u.push({key:t,values:f(n,i)})}));return a!=null?u.sort((function(n,t){return a(n.key,t.key)})):u}return i={object:function(n){return u(n,0,A,$)},map:function(n){return u(n,0,x,z)},entries:function(n){return f(u(n,0,x,z),0)},key:function(t){n.push(t);return i},sortKeys:function(r){t[n.length-1]=r;return i},sortValues:function(n){r=n;return i},rollup:function(n){e=n;return i}}}function A(){return{}}function $(n,t,r){n[t]=r}function x(){return p()}function z(n,t,r){n.set(t,r)}var j=Array.prototype;var E=j.map;var I=j.slice;var P={name:"implicit"};function X(){var n=p(),t=[],r=[],e=P;function i(i){var u=i+"",f=n.get(u);if(!f){if(e!==P)return e;n.set(u,f=t.push(i))}return r[(f-1)%r.length]}i.domain=function(r){if(!arguments.length)return t.slice();t=[],n=p();var e=-1,u=r.length,f,a;while(++e<u)if(!n.has(a=(f=r[e])+""))n.set(a,t.push(f));return i};i.range=function(n){return arguments.length?(r=I.call(n),i):r.slice()};i.unknown=function(n){return arguments.length?(e=n,i):e};i.copy=function(){return X(t,r).unknown(e)};b.apply(i,arguments);return i}function G(n){return function(){return n}}function K(n){return+n}var S=[0,1];function T(n){return n}function V(n,t){return(t-=n=+n)?function(r){return(r-n)/t}:G(isNaN(t)?NaN:.5)}function Y(n){var t=n[0],r=n[n.length-1],e;if(t>r)e=t,t=r,r=e;return function(n){return Math.max(t,Math.min(r,n))}}function Z(n,t,r){var e=n[0],i=n[1],u=t[0],f=t[1];if(i<e)e=V(i,e),u=r(f,u);else e=V(e,i),u=r(u,f);return function(n){return u(e(n))}}function q(n,t,r){var e=Math.min(n.length,t.length)-1,i=new Array(e),u=new Array(e),f=-1;if(n[e]<n[0]){n=n.slice().reverse();t=t.slice().reverse()}while(++f<e){i[f]=V(n[f],n[f+1]);u[f]=r(t[f],t[f+1])}return function(t){var r=c(n,t,1,e)-1;return u[r](i[r](t))}}function B(n,t){return t.domain(n.domain()).range(n.range()).interpolate(n.interpolate()).clamp(n.clamp()).unknown(n.unknown())}function C(){var r=S,e=S,i=t,u,f,a,o=T,c,s,h;function l(){c=Math.min(r.length,e.length)>2?q:Z;s=h=null;return v}function v(n){return isNaN(n=+n)?a:(s||(s=c(r.map(u),e,i)))(u(o(n)))}v.invert=function(t){return o(f((h||(h=c(e,r.map(u),n)))(t)))};v.domain=function(n){return arguments.length?(r=E.call(n,K),o===T||(o=Y(r)),l()):r.slice()};v.range=function(n){return arguments.length?(e=I.call(n),l()):e.slice()};v.rangeRound=function(n){return e=I.call(n),i=w,l()};v.clamp=function(n){return arguments.length?(o=n?Y(r):T,v):o!==T};v.interpolate=function(n){return arguments.length?(i=n,l()):i};v.unknown=function(n){return arguments.length?(a=n,v):a};return function(n,t){u=n,f=t;return l()}}function D(n,t){return C()(n,t)}function F(n){return Math.abs(n=Math.round(n))>=1e21?n.toLocaleString("en").replace(/,/g,""):n.toString(10)}function H(n,t){if((r=(n=t?n.toExponential(t-1):n.toExponential()).indexOf("e"))<0)return null;var r,e=n.slice(0,r);return[e.length>1?e[0]+e.slice(2):e,+n.slice(r+1)]}function J(n){return n=H(Math.abs(n)),n?n[1]:NaN}function L(n,t){return function(r,e){var i=r.length,u=[],f=0,a=n[0],o=0;while(i>0&&a>0){if(o+a+1>e)a=Math.max(1,e-o);u.push(r.substring(i-=a,i+a));if((o+=a+1)>e)break;a=n[f=(f+1)%n.length]}return u.reverse().join(t)}}function O(n){return function(t){return t.replace(/[0-9]/g,(function(t){return n[+t]}))}}var Q=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function R(n){if(!(t=Q.exec(n)))throw new Error("invalid format: "+n);var t;return new U({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}R.prototype=U.prototype;function U(n){this.fill=n.fill===undefined?" ":n.fill+"";this.align=n.align===undefined?">":n.align+"";this.sign=n.sign===undefined?"-":n.sign+"";this.symbol=n.symbol===undefined?"":n.symbol+"";this.zero=!!n.zero;this.width=n.width===undefined?undefined:+n.width;this.comma=!!n.comma;this.precision=n.precision===undefined?undefined:+n.precision;this.trim=!!n.trim;this.type=n.type===undefined?"":n.type+""}U.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===undefined?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===undefined?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function W(n){n:for(var t=n.length,r=1,e=-1,i;r<t;++r){switch(n[r]){case".":e=i=r;break;case"0":if(e===0)e=r;i=r;break;default:if(!+n[r])break n;if(e>0)e=0;break}}return e>0?n.slice(0,e)+n.slice(i+1):n}var _;function nn(n,t){var r=H(n,t);if(!r)return n+"";var e=r[0],i=r[1],u=i-(_=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,f=e.length;return u===f?e:u>f?e+new Array(u-f+1).join("0"):u>0?e.slice(0,u)+"."+e.slice(u):"0."+new Array(1-u).join("0")+H(n,Math.max(0,t+u-1))[0]}function tn(n,t){var r=H(n,t);if(!r)return n+"";var e=r[0],i=r[1];return i<0?"0."+new Array(-i).join("0")+e:e.length>i+1?e.slice(0,i+1)+"."+e.slice(i+1):e+new Array(i-e.length+2).join("0")}const rn={"%":function(n,t){return(n*100).toFixed(t)},b:function(n){return Math.round(n).toString(2)},c:function(n){return n+""},d:F,e:function(n,t){return n.toExponential(t)},f:function(n,t){return n.toFixed(t)},g:function(n,t){return n.toPrecision(t)},o:function(n){return Math.round(n).toString(8)},p:function(n,t){return tn(n*100,t)},r:tn,s:nn,X:function(n){return Math.round(n).toString(16).toUpperCase()},x:function(n){return Math.round(n).toString(16)}};function en(n){return n}var un=Array.prototype.map,fn=["y","z","a","f","p","n","Âµ","m","","k","M","G","T","P","E","Z","Y"];function an(n){var t=n.grouping===undefined||n.thousands===undefined?en:L(un.call(n.grouping,Number),n.thousands+""),r=n.currency===undefined?"":n.currency[0]+"",e=n.currency===undefined?"":n.currency[1]+"",i=n.decimal===undefined?".":n.decimal+"",u=n.numerals===undefined?en:O(un.call(n.numerals,String)),f=n.percent===undefined?"%":n.percent+"",a=n.minus===undefined?"-":n.minus+"",o=n.nan===undefined?"NaN":n.nan+"";function c(n){n=R(n);var c=n.fill,s=n.align,h=n.sign,l=n.symbol,v=n.zero,M=n.width,d=n.comma,N=n.precision,w=n.trim,b=n.type;if(b==="n")d=true,b="g";else if(!rn[b])N===undefined&&(N=12),w=true,b="g";if(v||c==="0"&&s==="=")v=true,c="0",s="=";var k=l==="$"?r:l==="#"&&/[boxX]/.test(b)?"0"+b.toLowerCase():"",y=l==="$"?e:/[%p]/.test(b)?f:"";var m=rn[b],p=/[defgprs%]/.test(b);N=N===undefined?6:/[gprs]/.test(b)?Math.max(1,Math.min(21,N)):Math.max(0,Math.min(20,N));function g(n){var r=k,e=y,f,l,g;if(b==="c"){e=m(n)+e;n=""}else{n=+n;var A=n<0||1/n<0;n=isNaN(n)?o:m(Math.abs(n),N);if(w)n=W(n);if(A&&+n===0&&h!=="+")A=false;r=(A?h==="("?h:a:h==="-"||h==="("?"":h)+r;e=(b==="s"?fn[8+_/3]:"")+e+(A&&h==="("?")":"");if(p){f=-1,l=n.length;while(++f<l){if(g=n.charCodeAt(f),48>g||g>57){e=(g===46?i+n.slice(f+1):n.slice(f))+e;n=n.slice(0,f);break}}}}if(d&&!v)n=t(n,Infinity);var $=r.length+n.length+e.length,x=$<M?new Array(M-$+1).join(c):"";if(d&&v)n=t(x+n,x.length?M-e.length:Infinity),x="";switch(s){case"<":n=r+n+e+x;break;case"=":n=r+x+n+e;break;case"^":n=x.slice(0,$=x.length>>1)+r+n+e+x.slice($);break;default:n=x+r+n+e;break}return u(n)}g.toString=function(){return n+""};return g}function s(n,t){var r=c((n=R(n),n.type="f",n)),e=Math.max(-8,Math.min(8,Math.floor(J(t)/3)))*3,i=Math.pow(10,-e),u=fn[8+e/3];return function(n){return r(i*n)+u}}return{format:c,formatPrefix:s}}var on;var cn;var sn;hn({decimal:".",thousands:",",grouping:[3],currency:["$",""],minus:"-"});function hn(n){on=an(n);cn=on.format;sn=on.formatPrefix;return on}function ln(n){return Math.max(0,-J(Math.abs(n)))}function vn(n,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(J(t)/3)))*3-J(Math.abs(n)))}function Mn(n,t){n=Math.abs(n),t=Math.abs(t)-n;return Math.max(0,J(t)-J(n))+1}function dn(n,t,r,e){var i=N(n,t,r),u;e=R(e==null?",f":e);switch(e.type){case"s":{var f=Math.max(Math.abs(n),Math.abs(t));if(e.precision==null&&!isNaN(u=vn(i,f)))e.precision=u;return sn(e,f)}case"":case"e":case"g":case"p":case"r":{if(e.precision==null&&!isNaN(u=Mn(i,Math.max(Math.abs(n),Math.abs(t)))))e.precision=u-(e.type==="e");break}case"f":case"%":{if(e.precision==null&&!isNaN(u=ln(i)))e.precision=u-(e.type==="%")*2;break}}return cn(e)}function Nn(n){var t=n.domain;n.ticks=function(n){var r=t();return M(r[0],r[r.length-1],n==null?10:n)};n.tickFormat=function(n,r){var e=t();return dn(e[0],e[e.length-1],n==null?10:n,r)};n.nice=function(r){if(r==null)r=10;var e=t(),i=0,u=e.length-1,f=e[i],a=e[u],o;if(a<f){o=f,f=a,a=o;o=i,i=u,u=o}o=d(f,a,r);if(o>0){f=Math.floor(f/o)*o;a=Math.ceil(a/o)*o;o=d(f,a,r)}else if(o<0){f=Math.ceil(f*o)/o;a=Math.floor(a*o)/o;o=d(f,a,r)}if(o>0){e[i]=Math.floor(f/o)*o;e[u]=Math.ceil(a/o)*o;t(e)}else if(o<0){e[i]=Math.ceil(f*o)/o;e[u]=Math.floor(a*o)/o;t(e)}return n};return n}function wn(){var n=D(T,T);n.copy=function(){return B(n,wn())};b.apply(n,arguments);return Nn(n)}export{T as a,B as b,D as c,i as d,Nn as e,c as f,k as g,C as h,b as i,wn as l,E as m,g as n,X as o,I as s,N as t};
//# sourceMappingURL=p-42dcf457.js.map